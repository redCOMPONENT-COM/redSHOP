var geocoder;var map;var startpoint;var selected;var closest;var markers=[];function initMap(f,c,g,e,p,d,l,m,o,k){var b="";var n="";var j="";var a="";markers=[];map=new google.maps.Map(document.getElementById("map_canvas"),{mapTypeId:google.maps.MapTypeId.ROADMAP});google.maps.event.trigger(map,"resize");map.setZoom(map.getZoom());geocoder=new google.maps.Geocoder();for(h=0;h<f.length;h++){codeAddress(f[h],c[h],g[h],h,e[h],p[h],d[h],l[h],m[h],o[h],"",k[h])}for(var h=0;h<m.length;h++){if(m[h]>b||b===""){b=m[h]}if(m[h]<n||n===""){n=m[h]}}for(var h=0;h<o.length;h++){if(o[h]>j||j===""){j=o[h]}if(o[h]<a||a===""){a=o[h]}}if(b!==""&&n!==""&&j!==""&&a!==""){map.setCenter(new google.maps.LatLng(((b+n)/2),((j+a)/2)));map.fitBounds(new google.maps.LatLngBounds(new google.maps.LatLng(n,a),new google.maps.LatLng(b,j)))}}function deleteOverlays(){for(var a=0;a<markersArray.length;a++){markersArray[a].setMap(null)}markersArray=[]}function codeAddress(q,b,g,l,e,r,d,n,o,p,j,m){if(typeof e!=="undefined"&&typeof r!=="undefined"&&e!==""&&r!==""&&e!==null&&r!==null){e="Abningstider:<br />Man-Fre: "+e.substring(0,2)+":"+e.substring(2)+" - ";r=r.substring(0,2)+":"+r.substring(2)}else{e="";r=""}if(typeof d!=="undefined"&&typeof n!=="undefined"&&d!==""&&n!==""&&d!==null&&n!==null){d="<br />"+decodeURIComponent("L%C3%B8rdag")+": "+d.substring(0,2)+":"+d.substring(2)+" - ";n=n.substring(0,2)+":"+n.substring(2)}else{d="";n=""}contentString='<div class="infoWindow"';if((e+r+d+n).length>0){contentString+='  style="width: 140px;"'}contentString+=">"+e+r+d+n+"<div>";var h=new google.maps.InfoWindow({content:contentString});var c=new google.maps.LatLng(o,p);var k=new google.maps.Marker({map:map,position:c,animation:google.maps.Animation.DROP,icon:"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+(l+1)+"|FF0000|000000",serviceId:m});if(typeof g==="undefined"){g=""}if(typeof b==="undefined"){b=""}markers.push(k);google.maps.event.addListener(k,"click",a);google.maps.event.addListener(k,"click",function(){if(typeof currentIw!=="undefined"){currentIw.close()}if(h.content!=='<div class="infoWindow"><div>'){h.open(map,k);currentIw=h}});function a(){selected=this;var i=0;var s=0;while(i<markers.length){if(markers[i].serviceId===this.serviceId){s=i}if(i<20){markers[i].setZIndex(15);markers[i].setAnimation(null);markers[i].setIcon("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+(i+1)+"|FF0000|000000")}i++}this.setIcon("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+(s+1)+"|336699|FFFFFF");this.setZIndex(100);f(this)}function f(i){jQuery(document).ready(function(){jQuery('input[name="postdanmark_pickupLocation"][value="'+i.serviceId+'"]')[0].checked=true;jQuery(".radio_point_container").removeClass("sel");jQuery(jQuery('input[name="postdanmark_pickupLocation"][value="'+i.serviceId+'"]')[0]).parent().parent().parent().parent().parent().addClass("sel")})}}function selectMarker(c){var b=false;var a=0;while(a<markers.length){markers[a].setAnimation(null);if(a<20){markers[a].setZIndex(15);markers[a].setIcon("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+(a+1)+"|FF0000|000000")}if(markers[a].serviceId==c){b=a}a++}if(b!==false){google.maps.event.trigger(markers[b],"click");selected=markers[b];markers[b].setZIndex(100);markers[b].setIcon("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+(b+1)+"|336699|FFFFFF");if(typeof startpoint!=="undefined"){calcRoute(startpoint,markers[b])}}jQuery(document).ready(function(){jQuery('input[name="postdanmark_pickupLocation"][value="'+c+'"]')[0].checked=true;jQuery(".radio_point_container").removeClass("sel");jQuery(jQuery('input[name="postdanmark_pickupLocation"][value="'+c+'"]')[0]).parent().parent().parent().parent().parent().addClass("sel")})};