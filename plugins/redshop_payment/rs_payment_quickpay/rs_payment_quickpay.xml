<?xml version="1.0" encoding="utf-8"?>
<extension version="2.5" type="plugin" group="redshop_payment" method="upgrade" client="site">
    <name>PLG_RS_PAYMENT_QUICKPAY</name>
    <version>1.3.4</version>
    <redshop>1.5</redshop>
    <creationDate>April 2013</creationDate>
    <author>redCOMPONENT.com</author>
    <authorEmail>email@redcomponent.com</authorEmail>
    <authorUrl>http://www.redcomponent.com</authorUrl>
    <copyright>redCOMPONENT.com</copyright>
    <license>GNU General Public License v2</license>
    <description><![CDATA[
    Quickpay redSHOP integration<br/><br/>
    Note: It is compulsory to set invoice number to more than 999 from redSHOP Global Configuration => Cart <br/>
    Checkout => First Invoice Number => 1000 or above <br/>
    and Redhsop Global Configuration => Cart / Checkout => Invoice Number Template => xxxx
    <br/>to use this plugin.
        ]]>
    </description>

    <files>
        <filename plugin="rs_payment_quickpay">rs_payment_quickpay.php</filename>
        <folder>rs_payment_quickpay</folder>
    </files>
    <languages>
        <language tag="en-GB">language/en-GB/en-GB.plg_redshop_payment_rs_payment_quickpay.ini</language>
        <language tag="en-GB">language/en-GB/en-GB.plg_redshop_payment_rs_payment_quickpay.sys.ini</language>
        <language tag="da-DK">language/da-DK/da-DK.plg_redshop_payment_rs_payment_quickpay.ini</language>
        <language tag="da-DK">language/da-DK/da-DK.plg_redshop_payment_rs_payment_quickpay.sys.ini</language>
    </languages>

    <config addfieldpath="/administrator/components/com_redshop/elements">
        <fields name="params">
            <fieldset name="basic">

                <field name="payment_oprand" type="text" size="10" default="-"
                       label="Payment operand" description="Payment Operand"/>
                <field name="payment_price" type="text" size="30" default=""
                       label="Payment price" description="Payment price"/>
                <field name="debug_mode" type="radio" default="1" label="Debug Mode: "
                       description="Debug Mode">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="payment_discount_is_percent" type="radio" default="1"
                       label="Discount Type: " description="Discount Type">
                    <option value="1">Percentage</option>
                    <option value="0">Total</option>
                </field>
                <field
                  name="sendOrderId"
                  type="radio"
                  default="1"
                  label="PLG_RS_PAYMENT_QUICKPAY_SEND_ORDER_ID"
                  description="PLG_RS_PAYMENT_QUICKPAY_SEND_ORDER_ID_DESC"
                >
                    <option value="1">PLG_RS_PAYMENT_QUICKPAY_ORDER_ID</option>
                    <option value="0">PLG_RS_PAYMENT_QUICKPAY_ORDER_NUMBER</option>
                </field>
                <field name="is_test" type="radio" default="1" label="Test Mode"
                       description="Set testmode to yes / no">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="quickpay_customer_id" type="text" default=""
                       label="PBS Merchant ID"
                       description=" The Merchant ID you have received from PBS. For testing purpose a test Merchant ID can be obtained by contacting quickpay (sales@quickpay.dk)"/>
                <field name="verify_status" type="sql"
                       query="SELECT order_status_code AS st_value, order_status_name AS st_title FROM #__redshop_order_status"
                       key_field="st_value" value_field="st_title" default="C"
                       label="Order Status for successful transactions"
                       description="Select the order status to which the actual order is set, if the payment transaction was successful.">
                </field>
                <field name="invalid_status" type="sql"
                       query="SELECT order_status_code AS st_value, order_status_name AS st_title FROM #__redshop_order_status"
                       key_field="st_value" value_field="st_title" default="P"
                       label="Order Status for failed transactions"
                       description="Select an order status for failed payment transactions.">
                </field>
                <field name="autocapture" type="radio" default="0" label="Auto Capture"
                       description="Set autocapture to yes / no">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="refund" type="radio" default="1" label="Refund When Cancel Order"
                       description="Refund Payment When Cancel Order">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="capture_status" type="sql"
                       query="SELECT order_status_code AS st_value, order_status_name AS st_title FROM #__redshop_order_status"
                       key_field="st_value" value_field="st_title" default="S"
                       label="Capture Payment Status"
                       description="Select an capture status for capturing payment."></field>
                <field name="cardtypes" type="cardtypes" default="" label="CardTypes"
                       description="Select Cardtypes to show the customer"
                       addfieldpath="/administrator/components/com_redshop/elements"/>
                <field name="language" type="list" default="en" label="Language: "
                       description="Select language for Payment Window">
                    <option value="da">Danish</option>
                    <option value="en">English</option>
                    <option value="se">Swedish</option>
                    <option value="no">Norwegian</option>
                    <option value="fo">Faeroese</option>
                    <option value="fr">French</option>
                    <option value="it">Italian</option>
                    <option value="nl">Dutch</option>
                    <option value="pl">Polish</option>
                </field>
                <field name="quickpay_paymentkey" type="text" size="30" default=""
                       label="MD5 key"
                       description="If MD5 is enabled above the secure key for MD5 stamping is defined here (same secret key must be defined in the ePay administration). If MD5 is disabled leave this field empty."/>
                <field name="email_notification" type="radio" default="1"
                       label="Email Notification" description="Email Notification">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="extrafield_payment" type="extrafieldpayment" multiple="multiple" label="Select Extra Field"
                       description="Displays on checkout"/>
                <field type="spacer"/>
            </fieldset>
            <fieldset name="advanced">
                <field name="private_person" type="radio" default="1"
                       label="Show on Private Person" description="Show on Private Person">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="business" type="radio" default="1" label="Show on Business"
                       description="Show on Business">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="is_creditcard" type="hidden" default="0" value="0"/>
                <field name="economic_payment_terms_id" type="text" default=""
                       label="Enter E-conomic Payment Conditions ID"/>
                <field name="economic_design_layout" type="text" default=""
                       label="Enter E-conomic Design and Layout ID"/>
                <field name="shopper_group_id" type="shoppergrouplist" multiple="multiple" default="0"
                       label="Select Shopper Group" description="Displays the shopper groups"
                       addfieldpath="/administrator/components/com_redshop/elements"/>

            </fieldset>
        </fields>
    </config>
</extension>
