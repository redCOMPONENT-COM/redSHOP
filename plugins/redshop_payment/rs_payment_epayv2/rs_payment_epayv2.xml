<?xml version="1.0" encoding="utf-8"?>
<extension version="2.5.0" type="plugin" group="redshop_payment" method="upgrade">
    <name>PLG_RS_PAYMENT_EPAYV2</name>
    <version>1.3.3</version>
    <creationDate>April 2013</creationDate>
    <author>redCOMPONENT.com</author>
    <authorEmail>email@redcomponent.com</authorEmail>
    <authorUrl>http://www.redcomponent.com</authorUrl>
    <copyright>redCOMPONENT.com</copyright>
    <license>GNU General Public License v2</license>
    <description>PLG_RS_PAYMENT_EPAYV2_DESCRIPTION</description>

    <files>
        <filename plugin="rs_payment_epayv2">rs_payment_epayv2.php</filename>
    </files>
    <languages>
        <language tag="en-GB">language/en-GB/en-GB.plg_redshop_payment_rs_payment_epayv2.ini</language>
        <language tag="en-GB">language/en-GB/en-GB.plg_redshop_payment_rs_payment_epayv2.sys.ini</language>
        <language tag="da-DK">language/da-DK/da-DK.plg_redshop_payment_rs_payment_epayv2.ini</language>
        <language tag="da-DK">language/da-DK/da-DK.plg_redshop_payment_rs_payment_epayv2.sys.ini</language>
    </languages>
    <config addfieldpath="/administrator/components/com_redshop/elements">
        <fields name="params">
            <fieldset name="basic">
                <field name="payment_oprand" type="text" size="10" default="-"
                      label="PLG_RS_PAYMENT_EPAYV2_PAYMENT_OPERAND"
                      description="PLG_RS_PAYMENT_EPAYV2_PAYMENT_OPERAND_DESC"/>
                <field name="payment_price" type="text" size="30" default=""
                      label="PLG_RS_PAYMENT_EPAYV2_PAYMENT_PRICE"
                      description="PLG_RS_PAYMENT_EPAYV2_PAYMENT_PRICE_DESC"/>
                <field name="debug_mode" type="radio" default="1"
                      label="PLG_RS_PAYMENT_EPAYV2_DEBUG_MODE"
                      description="PLG_RS_PAYMENT_EPAYV2_DEBUG_MODE_DESC">
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>
                <field name="payment_discount_is_percent" type="radio" default="1"
                      label="PLG_RS_PAYMENT_EPAYV2_DISCOUNT_TYPE"
                      description="PLG_RS_PAYMENT_EPAYV2_DISCOUNT_TYPE_DESC">
                    <option value="1">PLG_RS_PAYMENT_EPAYV2_PERCENTAGE</option>
                    <option value="0">PLG_RS_PAYMENT_EPAYV2_TOTAL</option>
                </field>
                <field name="merchant_id" type="text" default="" label="PLG_RS_PAYMENT_EPAYV2_PBS_MERCHANT_ID"
                       description="PLG_RS_PAYMENT_EPAYV2_PBS_MERCHANT_ID_DESC"/>
                <field name="windowid" type="text" default="1" label="PLG_RS_PAYMENT_EPAYV2_WINDOW_ID"
                       description="PLG_RS_PAYMENT_EPAYV2_WINDOW_ID_DESC"/>
                <field name="verify_status" type="sql"
                       query="SELECT order_status_code AS st_value, order_status_name AS st_title FROM #__redshop_order_status WHERE published=1"
                       key_field="st_value" value_field="st_title" default="C"
                       label="PLG_RS_PAYMENT_EPAYV2_ORDER_STATUS"
                       description="PLG_RS_PAYMENT_EPAYV2_ORDER_STATUS_DESC">
                </field>
                <field name="invalid_status" type="sql"
                       query="SELECT order_status_code AS st_value, order_status_name AS st_title FROM #__redshop_order_status WHERE published=1"
                       key_field="st_value" value_field="st_title" default="P"
                       label="PLG_RS_PAYMENT_EPAYV2_ORDER_STATUS_FAIL"
                       description="PLG_RS_PAYMENT_EPAYV2_ORDER_STATUS_FAIL_DESC">
                </field>
                <field name="capture_status" type="sql"
                       query="SELECT order_status_code AS st_value, order_status_name AS st_title FROM #__redshop_order_status WHERE published=1"
                       key_field="st_value" value_field="st_title" default="S"
                       label="PLG_RS_PAYMENT_EPAYV2_CAPTURE_PAYMENT_STATUS"
                       description="PLG_RS_PAYMENT_EPAYV2_CAPTURE_PAYMENT_STATUS_DESC"></field>
                <field name="language" type="list" default="1"
                      label="PLG_RS_PAYMENT_EPAYV2_LANGUAGE"
                      description="PLG_RS_PAYMENT_EPAYV2_LANGUAGE_DESC">
                    <option value="1">Danish</option>
                    <option value="2">English</option>
                    <option value="3">Swedish</option>
                    <option value="4">Norwegian</option>
                    <option value="5">Greenland</option>
                    <option value="6">Icelandic</option>
                    <option value="7">German</option>
                </field>
                <field name="auth_type" type="list" default="0" label="PLG_RS_PAYMENT_EPAYV2_INSTANT_CAPTURE"
                       description="PLG_RS_PAYMENT_EPAYV2_INSTANT_CAPTURE_DESC">
                    <option value="1">Enabled</option>
                    <option value="0">Disabled</option>
                </field>
                <field name="refund" type="radio" default="1" label="PLG_RS_PAYMENT_EPAYV2_REFUND"
                       description="PLG_RS_PAYMENT_EPAYV2_REFUND_DESC">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="payment_group" type="text" size="10" default="" label="PLG_RS_PAYMENT_EPAYV2_GROUP"
                       description="PLG_RS_PAYMENT_EPAYV2_GROUP_DESC"/>
                <field name="epay_md5" type="list" default="0" label="MD5"
                       description="The type of MD5 usage. 0 disables MD5. 1 uses MD5 on the accept page on this shop. 2 creates a MD5 stamp, which is send to ePay with transaction data. If this stamp does not match ePay will decline the payment. ">
                    <option value="0">DISABLED</option>
                    <option value="1">MD5 on accept page</option>
                    <option value="2">MD5 on both data transmitted to ePay and on accept page</option>
                </field>
                <field name="epay_paymentkey" type="text" size="10" default="" label="MD5 key"
                       description="If MD5 is enabled above the secure key for MD5 stamping is defined here (same secret key must be defined in the ePay administration). If MD5 is disabled leave this field empty."/>
                <field name="epay_authsms" type="text" size="10" default="" label="Auth SMS"
                       description="Enter a mobile number here to receive a SMS message when the payment is verified by ePay."/>
                <field name="epay_authemail" type="text" size="10" default="" label="Auth EMAIL"
                       description="Enter one or more email addresses to receive an email when the payment is verified by ePay. For multiple receivers separate the email addresses by semicolon (;)."/>
                <field name="epay_window_state" type="list" default="1" label="Window State" description="">
                    <option value="1">Overlay</option>
                    <option value="4">Integrated payment form</option>
                    <option value="2">Iframe (embedded in the side)</option>
                    <option value="3">Full screen</option>
                </field>

                <field name="ownreceipt" type="list" default="1" label="Epay ownreceipt" description="">
                    <option value="0">Receipt in the standard pyment window</option>
                    <option value="1">Own receipt</option>
                </field>

                <field name="epay_3dsecure" type="list" default="0" label="3D Secure" description="">
                    <option value="1">3D secure is enabled</option>
                    <option value="2">Only payments by use of 3D secure is allowed</option>
                    <option value="3">3D secure payments are disabled</option>
                </field>
                <field name="activate_callback" type="list" default="0" label="Activate callback" description="Callback is used to avoid missing update of the shopping system if the user closes the browser before redirect to the shop from ePay is made.(It is recommended that callback is enabled to update the
  shop even if the customer during the payment process closes the browser)">
                    <option value="0">Callback is disabled</option>
                    <option value="1">Enable callback</option>
                </field>
                <field name="epay_subscription" type="list" default="0" label="Subscription"
                       description="Subscriptions are used for creating payments that can be authorized more than once (recurrent payments)">
                    <option value="0">Disable subscription</option>
                    <option value="1">All payments are created as recurrent subscriptions</option>
                </field>
                <field name="epay_authemailcustomer" type="list" default="0" label="Auth EMAIL Customer"
                       description="Enter one or more email addresses to receive an email when the payment is verified by ePay. For multiple receivers separate the email addresses by semicolon (;)">
                    <option value="0">Don\'t send authemail to customer</option>
                    <option value="1">Send authemail to customer</option>
                </field>
            </fieldset>
            <fieldset name="advanced">
                <field name="private_person" type="radio" default="1" label="Show on Private Person"
                       description="Show on Private Person">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="business" type="radio" default="1" label="Show on Business" description="Show on Business">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </field>
                <field name="is_creditcard" type="hidden" default="0" value="0"/>
                <field name="preloader" type="hidden" default="0" value="0"/>
                <field name="economic_payment_terms_id" type="text" default=""
                       label="Enter E-conomic Payment Conditions ID"/>
                <field name="economic_design_layout" type="text" default=""
                       label="Enter E-conomic Design and Layout ID"/>
                <field name="shopper_group_id" type="shoppergrouplist" default="0" label="Select Shopper Group"
                       description="Displays the shopper groups"/>
            </fieldset>
        </fields>
    </config>
</extension>
