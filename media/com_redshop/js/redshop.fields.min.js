function strpos(e,t,n){var a=(e+"").indexOf(t,n||0);return-1!==a&&a}function addNewRow(e){var t=parseInt(document.getElementById("total_extra").value)+parseInt(f),n=document.getElementById(e),a=n.getElementsByTagName("tbody")[0],d=document.createElement("tr"),l=document.createElement("td"),o=document.createElement("td"),r=document.createElement("td"),c=document.createElement("td"),i="text";fieldname="extra_name[]";var p=document.getElementById("jform_type").value;11!=p&&13!=p||(i="file",fieldname="extra_name_file[]"),l.innerHTML='<input id="extra_name'+t+'" type="'+i+'" name="'+fieldname+'" value="field_temp_opt_'+t+'" id="'+fieldname+'" class="form-control" />',o.innerHTML='<input type="text" name="extra_value[]" value="" id="extra_value'+t+'"  class="form-control" /><input type="hidden" name="value_id[]" id="value_id'+t+'" />',r.innerHTML="&nbsp;",c.innerHTML='<input class="btn btn-danger" value="Delete" onclick="deleteRow(this)" type="button" />',d.appendChild(l),d.appendChild(o),d.appendChild(r),d.appendChild(c),a.appendChild(d),f++}function addNewRowcustom(e){var t=(parseInt(document.getElementById("total_extra").value),parseInt(f),document.getElementById("extra_table")),n=t.getElementsByTagName("tbody")[0],a=document.createElement("tr"),d=document.createElement("td"),l=document.createElement("td"),o=document.createElement("td");fieldname=e.name+"_extra_name[]",d.innerHTML='<input type="text" name="'+fieldname+'" value="" id="'+fieldname+'">',l.innerHTML='<input type="hidden" name="value_id[]" id="value_id[]">  <input value="Delete" onclick="deleteRow(this)" class="button" type="button" />',o.innerHTML="&nbsp;",a.appendChild(d),a.appendChild(l),a.appendChild(o),n.appendChild(a),f++}function create_table_data(e,t,n){name=e;var a=(parseInt(document.getElementById("total_extra").value),parseInt(f),document.getElementById("container_table")),d=a.getElementsByTagName("tbody")[0],l=document.createElement("tr"),o=document.createElement("td"),r=document.createElement("td"),c=document.createElement("td"),i=document.createElement("td"),p=0;document.getElementById("porder1").checked&&(p=1),o.innerHTML=name,r.innerHTML='<input size="5" type="text" name="quantity[]" value="1" onchange="changeM3('+n+',this.value)" id="quantity[]"><input type="hidden" name="container_product[]" value="'+n+'" id="container_product[]"><input type="hidden" value="'+p+'" name="container_porder[]" >',c.innerHTML='<div align="center"><input size="5" type="text" name="volume[]" id="volume'+n+'" value="'+t+'" readonly="readonly" /></div>',i.innerHTML='<input value="X" onclick="javascript:deleteRow_container(this);" class="button" type="button" />',l.appendChild(o),l.appendChild(r),l.appendChild(c),l.appendChild(i),d.appendChild(l),f++}function changeM3(e,t,n){document.getElementById("volume"+e).value=t*n}function create_table_accessory(e,t,n){name=e;var a=parseInt(document.getElementById("total_accessory").value)+parseInt(f),d=document.getElementById("accessory_table"),l=d.getElementsByTagName("tbody")[0],o=document.createElement("tr"),r=document.createElement("td"),c=document.createElement("td"),i=document.createElement("td"),p=document.createElement("td"),u=document.createElement("td"),m=document.createElement("td");r.innerHTML=name+'<input type="hidden" class="childProductAccessory" value="'+t+'" name="product_accessory['+a+'][child_product_id]"><input type="hidden" value="0" name="product_accessory['+a+'][accessory_id]">',c.innerHTML=n,i.innerHTML='<input size="1" maxlength="1" onchange="javascript:oprand_check(this);" class="text_area input-small text-center" type="text" name="product_accessory['+a+'][oprand]" value="+" >',p.innerHTML='<input size="5" type="text" name="product_accessory['+a+'][accessory_price]" class="text_area input-small text-center" value="0">',u.innerHTML='<input type="text" name="product_accessory['+a+'][ordering]" size="5" value="" class="text_area input-small text-center" style="text-align: center" />',m.innerHTML='<input value="'+Joomla.JText._("COM_REDSHOP_DELETE")+'" onclick="javascript:deleteRow_accessory(this,0,0,0);" class="button btn btn-danger" type="button" />',o.appendChild(r),o.appendChild(c),o.appendChild(i),o.appendChild(p),o.appendChild(u),o.appendChild(m),l.appendChild(o),f++}function deleteRow(e){if(window.confirm("Are you sure you want to delete field value?")){var t=e.parentNode.parentNode.rowIndex;2==document.querySelectorAll("#extra_table input[name*='extra_value']").length?(document.getElementById("extra_table").deleteRow(t),document.querySelectorAll("#extra_table input.button")[0].style.display="none"):document.getElementById("extra_table").deleteRow(t)}}function deleteRow_container(e){var t=e.parentNode.parentNode.rowIndex;document.getElementById("container_table").deleteRow(t)}function deleteRow_accessory(e,t,n,a){if(window.confirm("Are you sure you want to delete?")){var d=e.parentNode.parentNode.rowIndex;document.getElementById("accessory_table").deleteRow(d),0!=t&&delete_accessory(t,n,a)}}function addNewRowOfProp(e){var t=document.getElementById(e),n=t.getElementsByTagName("tbody")[0],a=document.createElement("tr"),d=document.createElement("td"),l=document.createElement("td");d.innerHTML="",l.innerHTML='<input type="file" name="property_sub_img[]" value="" id="property_sub_img[]" ><input value="Delete" onclick="deleteRowOfProp(this)" class="button" type="button" />',a.appendChild(d),a.appendChild(l),n.appendChild(a)}function deleteRowOfProp(e){var t=e.parentNode.parentNode.rowIndex;document.getElementById("admintable").deleteRow(t)}function delete_accessory(e,t,n){window.XMLHttpRequest?xmlhttp=new XMLHttpRequest:xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&xmlhttp.status};var a="index.php?option=com_redshop&view=product_detail&task=removeaccesory";a=a+"&accessory_id="+e,a=a+"&category_id="+t,a=a+"&child_product_id="+n,xmlhttp.open("GET",a,!0),xmlhttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlhttp.send(null)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var f=1,f=1;