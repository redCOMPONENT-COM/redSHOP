function validateInputNumber(a){if(document.getElementById(a)&&(trim(document.getElementById(a).value)==""||isNaN(document.getElementById(a).value)||document.getElementById(a).value<=0)){alert(Joomla.JText._("COM_REDSHOP_ENTER_NUMBER"));document.getElementById(a).value=1;return false}return true}function trim(b,a){return ltrim(rtrim(b,a),a)}function ltrim(b,a){a=a||"\\s";return b.replace(new RegExp("^["+a+"]+","g"),"")}function rtrim(b,a){a=a||"\\s";return b.replace(new RegExp("["+a+"]+$","g"),"")}function userfieldValidation(d){if(document.getElementsByName(d+"[]")){var e=document.getElementsByName(d+"[]");var c=e.value;var g="";var j="";var k="";var h=false;var i="";var a="";var b=false;for(var f=0;f<e.length;f++){extrafields_req=e[f].getAttribute("required");g=e[f].getAttribute("userfieldlbl");if(extrafields_req==1&&g!=null){if(e[f].type=="checkbox"){k=reverseString(e[f].id);k=reverseString(k.substr(k.indexOf("_")+1));if(j!=""&&j!=k&&h==false){alert(e[f-1].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED"));return false}if(j!=k){extrafieldVal="";j=k}if(e[f].checked){h=true;continue}if((f==(e.length-1)&&h==false)||(e[f+1].type!="checkbox")&&h==false){alert(e[f].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED"));return false}}else{if(e[f].type=="radio"){a=reverseString(e[f].id);a=reverseString(a.substr(a.indexOf("_")+1));if(i!=""&&i!=a&&b==false){alert(e[f-1].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED"));return false}if(i!=a){extrafieldVal="";i=a;b=false;if(e[f].checked){b=true;continue}}else{if(e[f].checked||b==true){b=true;continue}if((f==(e.length-1)&&b==false)||(e[f+1].type!="radio")&&b==false){alert(e[f].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED"));return false}}}else{c=e[f].value;if(!c){alert(e[f].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED"));return false}}}}}}return true}function reverseString(a){var b=a.split("");var d=b.reverse();var c=d.join("");return c}function GetXmlHttpObject(){if(window.XMLHttpRequest){return new XMLHttpRequest()}if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP")}return null}function changeSubscriptionPrice(a,c,b){document.getElementById("hidden_subscription_id").value=c;document.getElementById("hidden_subscription_prize").value=document.getElementById("hdn_subscribe_"+a).value;calculateTotalPrice(b,0)}function getShippingrate(){xmlhttp=GetXmlHttpObject();if(xmlhttp==null){alert("Your browser does not support XMLHTTP!");return}var e=document.getElementById("country_code").value;var b=document.getElementById("state_code").value;var a=document.getElementById("zip_code").value;var d="country_code="+e+"&state_code="+b+"&zip_code="+a;var c=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=cart&task=getShippingrate&"+d;var f;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){response=xmlhttp.responseText.split("`");if(document.getElementById("spnShippingrate")){document.getElementById("spnShippingrate").innerHTML=response[0];if(document.getElementById("spnTotal")){document.getElementById("spnTotal").innerHTML=response[1]}}}};xmlhttp.open("GET",c,true);xmlhttp.send(null)}function add_to_compare(a,f,d){xmlhttp=GetXmlHttpObject();var e=document.getElementById("chk"+f+a);if(e==null){var d=d}else{if(d=="remove"){e.checked=false}if(e.checked){var d="add"}else{var d="remove"}}var c="pid="+a+"&cmd="+d+"&cid="+f+"&sid="+Math.random();var b=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=product&task=addtocompare&"+c;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){response=xmlhttp.responseText.split("`");if(response[0]==0){alert(response[1]);e.checked=false}else{if(document.getElementById("divCompareProduct")){document.getElementById("divCompareProduct").innerHTML=response[1]}if(document.getElementById("mod_compareproduct")){document.getElementById("mod_compareproduct").innerHTML=response[2]}}}};xmlhttp.open("GET",b,true);xmlhttp.send(null)}function compare(){var a=0;if(document.getElementById("totalCompareProduct")){a=document.getElementById("totalCompareProduct").innerHTML}if(a<2){alert("Add 2 or More Products to Compare")}else{document.frmCompare.submit()}}function expand_collapse(e,b){if(e){var a="+";if(e.innerHTML=="+"){a="-"}e.innerHTML=a;if(document.getElementsByName("exp_"+b)){var f=document.getElementsByName("exp_"+b);var d="none";if(f[0].style.display=="none"){var d="block"}for(var c=0;c<f.length;c++){f[c].style.display=d}}}}function setSliderMinMax(){if(document.getElementById("slider_texpricemin")&&document.getElementById("texpricemin")){document.getElementById("texpricemin").value=document.getElementById("slider_texpricemin").value}if(document.getElementById("slider_texpricemax")&&document.getElementById("texpricemax")){document.getElementById("texpricemax").value=document.getElementById("slider_texpricemax").value}document.orderby_form.submit()}function setSliderMinMaxForManufactur(){if(document.getElementById("slider_texpricemin")&&document.getElementById("manuf_texpricemin")){document.getElementById("manuf_texpricemin").value=document.getElementById("slider_texpricemin").value}if(document.getElementById("slider_texpricemax")&&document.getElementById("manuf_texpricemax")){document.getElementById("manuf_texpricemax").value=document.getElementById("slider_texpricemax").value}document.filterby_form.submit()}function setSliderMinMaxForTemplate(){if(document.getElementById("slider_texpricemin")&&document.getElementById("temp_texpricemin")){document.getElementById("temp_texpricemin").value=document.getElementById("slider_texpricemin").value}if(document.getElementById("slider_texpricemax")&&document.getElementById("temp_texpricemax")){document.getElementById("temp_texpricemax").value=document.getElementById("slider_texpricemax").value}document.template_selecter_form.submit()}function finder_checkbox(b){var c=b.elements;for(var a=0;a<c.length;a++){if(c[a].checked){return}}if(a==c.length){c[0].checked=true;c[0].value="0"}}function submitme(){}function showhidebox(a){if(a&&a.checked){if(document.getElementById("td_password")){document.getElementById("td_password").style.display=""}if(document.getElementById("td_b_password")){document.getElementById("td_b_password").style.display=""}if(document.getElementById("td_username")){document.getElementById("td_username").style.display=""}if(document.getElementById("td_username_lbl")){document.getElementById("td_username_lbl").style.display=""}if(document.getElementById("tr_cmp_username")){document.getElementById("tr_cmp_username").style.display=""}if(document.getElementById("td_required")){document.getElementById("td_required").style.display=""}}else{if(document.getElementById("td_password")){document.getElementById("td_password").style.display="none"}if(document.getElementById("td_b_password")){document.getElementById("td_b_password").style.display="none"}if(document.getElementById("td_username")){document.getElementById("td_username").style.display="none"}if(document.getElementById("td_username_lbl")){document.getElementById("td_username_lbl").style.display="none"}if(document.getElementById("tr_cmp_username")){document.getElementById("tr_cmp_username").style.display="none"}if(document.getElementById("td_required")){document.getElementById("td_required").style.display="none"}}return}function showhideboxPrivate(b){if(b&&b.checked){if(document.getElementById("register_private")){document.getElementById("register_private").style.display=""}if(document.getElementById("register_company")){document.getElementById("register_company").style.display="none"}var a=document.adminForm;if(a.createaccount){showhidebox(a.createaccount)}}}function showhideboxCompany(b){if(b&&b.checked){if(document.getElementById("register_company")){document.getElementById("register_company").style.display=""}if(document.getElementById("register_private")){document.getElementById("register_private").style.display="none"}var a=document.adminForm2;if(a.createaccount){showhidebox(a.createaccount)}}}function showcustomfields(){var a=document.adminForm;var c=false;if(document.getElementById("toggler2")){c=document.getElementById("toggler2").checked}if(c){if(document.getElementById("register_company")){document.getElementById("register_company").style.display=""}if(document.getElementById("register_private")){document.getElementById("register_private").style.display="none"}var b=document.adminForm2;if(b.createaccount){showhidebox(b.createaccount)}}else{if(document.getElementById("register_private")){document.getElementById("register_private").style.display=""}if(document.getElementById("register_company")){document.getElementById("register_company").style.display="none"}var b=document.adminForm;if(b.createaccount){showhidebox(b.createaccount)}}}function changeproductImage(b,c,a){if(document.getElementById("a_main_image"+b)){document.getElementById("a_main_image"+b).href=a}if(document.getElementById("main_image"+b)){document.getElementById("main_image"+b).src=c}}window.onload=function(){billingIsShipping(document.getElementById("billisship"))};function billingIsShipping(a){if(a&&a.checked){if(document.getElementById("divShipping")){document.getElementById("divShipping").style.display="none"}}else{if(document.getElementById("divShipping")){document.getElementById("divShipping").style.display=""}}}function createUserAccount(a){if(document.getElementById("tdUsernamePassword")){if(a&&a.checked){document.getElementById("tdUsernamePassword").style.display=""}else{document.getElementById("tdUsernamePassword").style.display="none"}}}function searchByPhone(){value="";if(document.getElementById("searchphone")){value=document.getElementById("searchphone").value}if(value){if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){if(document.getElementById("divSearchPhonemsg")){document.getElementById("divSearchPhonemsg").style.display=(xmlhttp.responseText!="")?"none":""}var b=xmlhttp.responseText.split("`_`");if(document.getElementById("address_ST")){document.getElementById("address_ST").value=(b[1])?b[1]:""}if(document.getElementById("zipcode_ST")){document.getElementById("zipcode_ST").value=(b[2])?b[2]:""}if(document.getElementById("city_ST")){document.getElementById("city_ST").value=(b[3])?b[3]:""}if(document.getElementById("phone_ST")){document.getElementById("phone_ST").value=(b[5])?b[5]:""}if(document.getElementById("firstname_ST")){document.getElementById("firstname_ST").value=(b[6])?b[6]:""}if(document.getElementById("lastname_ST")){document.getElementById("lastname_ST").value=(b[7])?b[7]:""}if(document.getElementById("company_name")){document.getElementById("company_name").value=(b[0])?b[0]:""}if(document.getElementById("address")){document.getElementById("address").value=(b[1])?b[1]:""}if(document.getElementById("zipcode")){document.getElementById("zipcode").value=(b[2])?b[2]:""}if(document.getElementById("city")){document.getElementById("city").value=(b[3])?b[3]:""}if(document.getElementById("phone")){document.getElementById("phone").value=(b[5])?b[5]:""}if(document.getElementById("firstname")){document.getElementById("firstname").value=(b[6])?b[6]:""}if(document.getElementById("lastname")){document.getElementById("lastname").value=(b[7])?b[7]:""}}};var a="index.php?option=com_redshop&view=registration&task=searchUserdetailByPhone&tmpl=component&phone="+value;xmlhttp.open("GET",a,true);xmlhttp.send(null)}}function showCompanyOrCustomer(a){if(a){if(a.value==1){if(document.getElementById("divCompanyTemplateId")){template_id=parseInt(document.getElementById("divCompanyTemplateId").innerHTML)}if(document.getElementById("is_company")){document.getElementById("is_company").value="1"}if(document.getElementById("company_registrationintro")){document.getElementById("company_registrationintro").style.display=""}if(document.getElementById("customer_registrationintro")){document.getElementById("customer_registrationintro").style.display="none"}}else{if(document.getElementById("divPrivateTemplateId")){template_id=parseInt(document.getElementById("divPrivateTemplateId").innerHTML)}if(document.getElementById("is_company")){document.getElementById("is_company").value="0"}if(document.getElementById("company_registrationintro")){document.getElementById("company_registrationintro").style.display="none"}if(document.getElementById("customer_registrationintro")){document.getElementById("customer_registrationintro").style.display=""}}if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){if(xmlhttp.responseText!=""){if(document.getElementById("tmpRegistrationDiv")){document.getElementById("tmpRegistrationDiv").innerHTML=xmlhttp.responseText}if(a.value==1){if(document.getElementById("tblcompany_customer")){var c=document.getElementById("ajaxRegistrationDiv").innerHTML;document.getElementById("tblcompany_customer").innerHTML=c;initAjaxScripts(c)}if(document.getElementById("tblprivate_customer")){document.getElementById("tblprivate_customer").innerHTML=""}}else{if(document.getElementById("tblcompany_customer")){document.getElementById("tblcompany_customer").innerHTML=""}if(document.getElementById("tblprivate_customer")){var c=document.getElementById("ajaxRegistrationDiv").innerHTML;document.getElementById("tblprivate_customer").innerHTML=c;initAjaxScripts(c)}}document.getElementById("tmpRegistrationDiv").innerHTML=""}}};var b="index.php?option=com_redshop&view=registration&task=getCompanyOrCustomer&tmpl=component";b+="&is_company="+a.value+"&template_id="+template_id;xmlhttp.open("GET",b,true);xmlhttp.send(null)}}function initAjaxScripts(textHtml){jQuery(textHtml).find("script").each(function(){eval(jQuery(this).text())})}function updateGLSLocation(b){xmlhttp1=GetXmlHttpObject();var e=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=updateGLSLocation";var a="";var c=document.getElementsByName("users_info_id");for(var d=0;d<c.length;d++){if(c[d].checked){a=c[d].value}}e=e+"&zipcode="+b+"&users_info_id="+a;xmlhttp1.onreadystatechange=function(){if(xmlhttp1.readyState==4){if(document.getElementById("rs_locationdropdown")){document.getElementById("rs_locationdropdown").innerHTML=xmlhttp1.responseText}}};xmlhttp1.open("GET",e,true);xmlhttp1.send(null)}function displaytextarea(a){if(a&&a.checked){if(document.getElementById("rs_Divcustomer_messageTA")){document.getElementById("rs_Divcustomer_messageTA").style.display="block"}}else{if(document.getElementById("rs_Divcustomer_messageTA")){document.getElementById("rs_Divcustomer_messageTA").style.display="none"}}}function onestepCheckoutProcess(d,r){var o="";var i="";if(d=="shipping_rate_id"){if(r=="default_shipping_gls"){if(document.getElementById("rs_glslocationId")){document.getElementById("rs_glslocationId").style.display="block"}}else{if(document.getElementById("rs_glslocationId")){document.getElementById("rs_glslocationId").style.display="none"}}}if(document.getElementById("responceonestep")){var j=document.getElementsByName("payment_method_id");for(var k=0;k<j.length;k++){if(j[k].checked){i=j[k].value;o=o+"&payment_method_id="+i}else{if(document.getElementById("divcardinfo_"+j[k].value)){document.getElementById("divcardinfo_"+j[k].value).innerHTML=""}}}if(d=="payment_method_id"){xmlhttp1=GetXmlHttpObject();var e=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=displaycreditcard";e=e+o;xmlhttp1.onreadystatechange=function(){if(xmlhttp1.readyState==4){if(document.getElementById("divcardinfo_"+i)){document.getElementById("divcardinfo_"+i).innerHTML=xmlhttp1.responseText;if(document.getElementById("creditcardinfo")){document.getElementById("divcardinfo_"+i).innerHTML=document.getElementById("creditcardinfo").innerHTML}}}else{if(document.getElementById("divcardinfo_"+i)){document.getElementById("divcardinfo_"+i).innerHTML="<br>Please wait while loading credit card information form<br><img src='"+redSHOP.RSConfig._("SITE_URL")+"/components/com_redshop/assets/images/preloader.jpeg' border='0'>"}}};xmlhttp1.open("GET",e,true);xmlhttp1.send(null)}var q="";var l=0;var s=0;var t="";var b=0;var a=0;var c="";var m="";var n="";var h="";var g=0;var j=document.getElementsByName("users_info_id");for(var k=0;k<j.length;k++){if(j[k].checked){l=j[k].value}}var j=document.getElementsByName("shipping_box_id");for(var k=0;k<j.length;k++){if(j[k].checked){s=j[k].value}}var j=document.getElementsByName("shipping_rate_id");for(var k=0;k<j.length;k++){if(j[k].checked){t=j[k].value}}if(document.getElementById("divShippingRateTemplateId")){b=parseInt(document.getElementById("divShippingRateTemplateId").innerHTML)}if(document.getElementById("divRedshopCartTemplateId")){a=parseInt(document.getElementById("divRedshopCartTemplateId").innerHTML)}if(document.getElementById("customer_note")){c=document.getElementById("customer_note").value}if(document.getElementById("requisition_number")){m=document.getElementById("requisition_number").value}if(document.getElementById("rs_customer_message_ta")){h=document.getElementById("rs_customer_message_ta").value}if(document.getElementById("txt_referral_code")){n=document.getElementById("txt_referral_code").value}if(document.getElementById("onestepItemid")){g=document.getElementById("onestepItemid").value}q=q+"option=com_redshop&view=checkout&task=oneStepCheckoutProcess";q=q+"&users_info_id="+l;q=q+"&shipping_box_id="+s;q=q+"&shipping_rate_id="+t;q=q+"&payment_method_id="+i;q=q+"&rate_template_id="+b;q=q+"&cart_template_id="+a;q=q+"&customer_note="+unescape(c);q=q+"&requisition_number="+m;q=q+"&rs_customer_message_ta="+h;q=q+"&txt_referral_code="+n;q=q+"&objectname="+d;q=q+"&Itemid="+g;q=q+"&sid="+Math.random();var f=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&";f=f+q;if(document.getElementById("divShippingRate")&&(d=="users_info_id"||d=="shipping_box_id")){document.getElementById("divShippingRate").innerHTML="Loading...<img src='"+redSHOP.RSConfig._("SITE_URL")+"/components/com_redshop/assets/images/loading.gif' />"}if(document.getElementById("divRedshopCart")){document.getElementById("divRedshopCart").innerHTML="Loading...<img src='"+redSHOP.RSConfig._("SITE_URL")+"/components/com_redshop/assets/images/loading.gif' />"}xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){txtresponse=xmlhttp.responseText;var p=txtresponse.split("`_`");document.getElementById("responceonestep").innerHTML=p[1];if(p[2]&&document.getElementById("mod_cart_total_value_ajax")){document.getElementById("mod_cart_total_value_ajax").innerHTML=p[2]}if(document.getElementById("divShippingRate")&&document.getElementById("onestepshiprate")&&document.getElementById("onestepshiprate").innerHTML!=""){document.getElementById("divShippingRate").innerHTML=document.getElementById("onestepshiprate").innerHTML}if(document.getElementById("divRedshopCart")&&document.getElementById("onestepdisplaycart")&&document.getElementById("onestepdisplaycart").innerHTML!=""){document.getElementById("divRedshopCart").innerHTML=document.getElementById("onestepdisplaycart").innerHTML}document.getElementById("responceonestep").innerHTML="";SqueezeBox.initialize({});$$("a.modal").each(function(u){u.addEvent("click",function(v){new Event(v).stop();SqueezeBox.fromElement(u)})})}};if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){xmlhttp.open("POST",f,true)}else{xmlhttp.open("POST",f,false)}xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.send(q)}if(document.getElementById("extrafield_payment")){if(d=="payment_method_id"){var j=document.getElementsByName("payment_method_id");for(var k=0;k<j.length;k++){if(j[k].checked){i=j[k].value;o=o+"&payment_method_id="+i}}xmlhttp1=GetXmlHttpObject();var e=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=displaypaymentextrafield";e=e+o;xmlhttp1.onreadystatechange=function(){if(xmlhttp1.readyState==4){if(document.getElementById("extrafield_payment")){document.getElementById("extrafield_payment").innerHTML=xmlhttp1.responseText}}};xmlhttp1.open("GET",e,true);xmlhttp1.send(null)}}if(document.getElementById("extrafield_shipping")){if(d=="shipping_rate_id"){o=o+"&shipping_rate_id="+r;xmlhttp1=GetXmlHttpObject();var e=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=displayshippingextrafield";e=e+o;xmlhttp1.onreadystatechange=function(){if(xmlhttp1.readyState==4){if(document.getElementById("extrafield_shipping")){document.getElementById("extrafield_shipping").innerHTML=xmlhttp1.responseText}}};xmlhttp1.open("GET",e,true);xmlhttp1.send(null)}}}function autoFillCity(b,a){if(b){if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){if(xmlhttp.responseText!=""){if(a=="ST"){if(document.getElementById("city_ST")){document.getElementById("city_ST").value=xmlhttp.responseText}}else{if(document.getElementById("city")){document.getElementById("city").value=xmlhttp.responseText}}}}};var c=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=category&task=autofillcityname&tmpl=component&q="+b;xmlhttp.open("GET",c,true);xmlhttp.send(null)}};