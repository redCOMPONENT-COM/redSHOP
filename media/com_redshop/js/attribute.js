function getHTTPObject(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e}function productaddprice(e,t){var n=1;if(0!=t?prefix=t:prefix=e,document.getElementById("accessory_data"))var r=document.getElementById("accessory_data").value;if(document.getElementById("acc_quantity_data"))var a=document.getElementById("acc_quantity_data").value;if(document.getElementById("acc_attribute_data"))var d=document.getElementById("acc_attribute_data").value.replace("##","::");if(document.getElementById("acc_property_data"))var o=document.getElementById("acc_property_data").value.replace("##","::");if(document.getElementById("acc_subproperty_data"))var i=document.getElementById("acc_subproperty_data").value.replace("##","::");if(document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)&&(n=document.getElementById("quantity"+prefix).value),document.getElementById("attribute_data"))var l=document.getElementById("attribute_data").value.replace("##","::");if(document.getElementById("property_data"))var c=document.getElementById("property_data").value.replace("##","::");if(document.getElementById("subproperty_data"))var u=document.getElementById("subproperty_data").value.replace("##","::");var m=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayProductaddprice&tmpl=component&qunatity="+n;m=m+"&product_id="+e+"&attribute_data="+l+"&property_data="+c+"&subproperty_data="+u,m=m+"&accessory_data="+r+"&acc_quantity_data="+a+"&acc_attribute_data="+d+"&acc_property_data="+o+"&acc_subproperty_data="+i,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){var t=request.responseText.split(":"),r=0,a=0;document.getElementById("wrapper_price")&&(r=parseFloat(document.getElementById("wrapper_price").value)),document.getElementById("wrapper_price_withoutvat")&&(a=parseFloat(document.getElementById("wrapper_price_withoutvat").value)),document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix).innerHTML=number_format(parseFloat(t[0])+r*n,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_discount_price"+prefix)&&(document.getElementById("display_product_discount_price"+prefix).innerHTML=number_format(t[4],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_price_without_vat"+prefix)&&(document.getElementById("display_product_price_without_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+a*n,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_price_no_vat"+prefix)&&(document.getElementById("display_product_price_no_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+a*n,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_old_price"+prefix)&&(document.getElementById("display_product_old_price"+prefix).innerHTML=number_format(t[2],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_saving_price"+prefix)&&(document.getElementById("display_product_saving_price"+prefix).innerHTML=number_format(t[3],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("main_price"+prefix)&&(document.getElementById("main_price"+prefix).value=t[0]),document.getElementById("product_price_no_vat"+prefix)&&(document.getElementById("product_price_no_vat"+prefix).value=t[5],document.getElementById("main_price"+e)&&(document.getElementById("main_price"+e).value=t[0]),document.getElementById("product_price_no_vat"+e)&&(document.getElementById("product_price_no_vat"+e).value=t[5]),document.getElementById("product_old_price"+e)&&(document.getElementById("product_old_price"+e).value=t[2])),document.getElementById("product_old_price"+prefix)&&(document.getElementById("product_old_price"+prefix).value=t[2])}},request.open("GET",m,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(null)}function changePropertyDropdown(e,t,n,r,a,d,o){var l,c=arguments,u=[],m=[],s="",p="",_="",y="",g="";document.getElementById("isAjaxBoxOpen")&&(g=document.getElementById("isAjaxBoxOpen").value);var E="";"viewajaxdetail"==g&&(E="ajax_"),l=0!=t?E+"acc_":0!=n?E+"rel_":E+"prd_";var v=l+e+"_"+t+"_"+r;if(document.getElementById("subattdata_"+v)&&(y=document.getElementById("subattdata_"+v).value),_=_+"&subatthtml="+y,_=_+"&product_id="+e,_=_+"&attribute_id="+r,_=_+"&accessory_id="+t,_=_+"&relatedprd_id="+n,document.getElementsByName("property_id_"+v+"[]")){for(var f=document.getElementsByName("property_id_"+v+"[]"),I=0,h=0;h<f.length;h++)"checkbox"==f[h].type||"radio"==f[h].type?f[h].checked&&(u[I++]=f[h].value):f[h].selectedIndex&&(u[I++]=f[h].options[f[h].selectedIndex].value);for(var B=0;B<u.length;B++){var S='[name="subproperty_id_'+v+"_"+u[B]+'[]"]';jQuery(S).length&&("radio"==jQuery(S).attr("type")||"checkbox"==jQuery(S).attr("type")?m.push(jQuery(S+":checked").val()):m.push(jQuery(S).val()))}s=u.join(","),p=m.join(","),_=_+"&property_id="+s,_=_+"&subproperty_id="+p}var R=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displaySubProperty&tmpl=component&isAjaxBox="+g;R+=_,request=getHTTPObject(),request.onreadystatechange=function(){if(document.getElementById("property_responce"+v)&&(document.getElementById("property_responce"+v).style.display="none"),4!=request.readyState&&document.getElementById("rs_image_loader")&&(document.getElementById("rs_image_loader").style.display="block"),4==request.readyState){var r=u.length>0?u[0]:0;if(document.getElementById("property_responce"+v)){document.getElementById("property_responce"+v).innerHTML=request.responseText,document.getElementById("property_responce"+v).style.display="";for(var a=0;a<u.length;a++){r=u[a];var l=v+"_"+r;if(document.getElementById("divsubimgscroll"+l)){var m=document.getElementById("divsubimgscroll"+l).innerHTML;if(""!=m){var s=m.split("#_#"),p="isFlowers"+l;p=new ImageScroller("isFlowersFrame"+l,"isFlowersImageRow"+l);var _="subproperty_id_"+l,y="";for(i=0;i<s.length;i++){y=s[i].match(/\d+/g);var g=y[0],E=document.getElementById(_+"_name"+g).value;p.addThumbnail(s[i],"javascript:isFlowers"+l+".scrollImageCenter('"+i+"');setSubpropImage('"+e+"','"+_+"','"+g+"');calculateTotalPrice('"+e+"','"+n+"');displayAdditionalImage('"+e+"','"+t+"','"+n+"','"+r+"','"+g+"');",E,"",_+"_subpropimg_"+g,"")}var f=50;f=o>d?o:d,p.setThumbnailHeight(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_HEIGHT"))),p.setThumbnailWidth(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_WIDTH"))),p.setThumbnailPadding(5),p.setScrollType(0),p.enableThumbBorder(!1),p.setClickOpenType(1),p.setThumbsShown(redSHOP.RSConfig._("NOOF_SUBATTRIB_THUMB_FOR_SCROLLER")),p.setNumOfImageToScroll(1),p.renderScroller(),window["isFlowers"+l]=p}}}}if(displayAdditionalImage(e,t,n,r,0),calculateTotalPrice(e,n),jQuery('select:not(".disableBootstrapChosen")').select2(),redSHOP.onChangePropertyDropdown.length>0)for(var I=0,h=redSHOP.onChangePropertyDropdown.length;I<h;I++)new redSHOP.onChangePropertyDropdown[I](c,u)}},request.open("GET",R,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(null)}function display_image(e,t,n){redSHOP.RSConfig._("PRODUCT_DETAIL_IS_LIGHTBOX")||(document.getElementById("a_main_image"+t).href=n),document.getElementById("main_image"+t).src=e}function display_image_out(e,t,n){document.getElementById("main_image"+t).src=n}function display_image_add(e,t){document.getElementById("main_image"+t)&&(document.getElementById("main_image"+t).src=e)}function display_image_add_out(e,t){document.getElementById("main_image"+t)&&(""!=subproperty_main_image?document.getElementById("main_image"+t).src=subproperty_main_image:document.getElementById("main_image"+t).src=e)}function collectAttributes(e,t,n){var r,a=[],d=[],o=[],i=0,l=0,c=0,u=!0,m=!0,s=!0,p="",_="",y=jQuery("#isAjaxBoxOpen").val(),g=jQuery("#product_preorder"+e).val(),E=jQuery("#product_stock"+e).val(),v=jQuery("#preorder_product_stock"+e).val(),f="",I=1;jQuery("#accquantity_"+e+"_"+t).length&&(I=jQuery("#accquantity_"+e+"_"+t).val()),"viewajaxdetail"==y&&(f="ajax_"),0!=t?(r=f+"acc_",i=parseFloat(jQuery("#accessory_id_"+e+"_"+t).attr("accessoryprice")),l=parseFloat(jQuery("#accessory_id_"+e+"_"+t).attr("accessorywithoutvatprice")),c=i):(r=0!=n?f+"rel_":f+"prd_",i=parseFloat(jQuery("#main_price"+e).val()),c=parseFloat(jQuery("#product_old_price"+e).val()),jQuery("#product_price_excluding_price"+e).length?l=parseFloat(jQuery("#product_price_excluding_price"+e).val()):jQuery("#product_price_no_vat"+e).length&&(l=parseFloat(jQuery("#product_price_no_vat"+e).val())));var h=r+e+"_"+t,B=r+e;u&&(u=checkProductStockRoom(E,B,g,v));var S=jQuery('[name="attribute_id_'+h+'[]"]');S.length<=0&&1==redSHOP.RSConfig._("AJAX_CART_BOX")&&(p=jQuery("#requiedAttribute").val(),_=jQuery("#requiedProperty").val()),S.each(function(n,i){var y=i.value;h=r+e+"_"+t+"_"+y,a.push(y);var E=jQuery('[name="property_id_'+h+'[]"]');if(E.length){setPropertyImage(e,"property_id_"+h);var v=[],f=[];if(E.each(function(e,t){"checkbox"==t.type||"radio"==t.type?t.checked&&0!=t.value&&f.push(t.value):t.selectedIndex&&0!=t.options[t.selectedIndex].value&&f.push(t.options[t.selectedIndex].value),t.required&&v.push(t.getAttribute("attribute_name"))}),f.length&&d.push(f.join(",,")),v.length&&!f.length&&(p+=Joomla.JText._("COM_REDSHOP_ATTRIBUTE_IS_REQUIRED")+" "+unescape(v.join("<br>"))+"\n"),m&&s){var I="property_id_"+h+"_oprand",S="property_id_"+h+"_proprice",R="property_id_"+h+"_proprice_withoutvat";c=calculateSingleProductPrice(c,I,S,f),l=calculateSingleProductPrice(l,I,R,f)}var b=!1,x=[];f.each(function(n){var a="property_id_"+h+"_stock"+n,d="property_id_"+h+"_preorderstock"+n;jQuery("#"+a).length>0&&jQuery("#"+d).length>0&&u&&0==t&&(u=checkProductStockRoom(jQuery("#"+a).val(),B,g,jQuery("#"+d).val()));var i=r+e+"_"+t+"_"+y+"_"+n,p='[name="subproperty_id_'+i+'[]"]';if(jQuery(p).length){setSubpropertyImage(e,"subproperty_id_"+i),b=!0;var E=[];if("radio"==jQuery(p).attr("type")||"checkbox"==jQuery(p).attr("type")?E.push(jQuery(p+":checked").val()):E.push(jQuery(p).val()),E.each(function(e){var n="#subproperty_id_"+i+"_stock"+e,r="#subproperty_id_"+i+"_preOrderStock"+e;1==redSHOP.RSConfig._("USE_STOCKROOM")&&jQuery(n).length&&0==t&&(u=checkProductStockRoom(jQuery(n).val(),B,g,jQuery(r).val()))}),1==jQuery(p).attr("required")&&E.length&&(_+=jQuery("#subprop_lbl").html()+" "+unescape(jQuery(p).attr("subpropName"))+"\n"),m&&s){var v="subproperty_id_"+i+"_oprand",f="subproperty_id_"+i+"_proprice",I="subproperty_id_"+i+"_proprice_withoutvat";c=calculateSingleProductPrice(c,v,f,E),l=calculateSingleProductPrice(l,v,I,E)}x.push(E.join("::"))}o.push(x.join(",,"))})}}),i=l*(1+redSHOP.RSConfig._("BASE_TAX")),0==d.length&&(a=[]),0!=t?(jQuery("#acc_attribute_data").val(a.join("##")),jQuery("#acc_property_data").val(d.join("##")),jQuery("#acc_subproperty_data").val(o.join("##")),jQuery("#accessory_price").val(i),jQuery("#accessory_price_withoutvat").val(l)):(jQuery("#attribute_data").val(a.join("##")),jQuery("#property_data").val(d.join("##")),jQuery("#subproperty_data").val(o.join("##")),jQuery("#tmp_product_price").val(i),jQuery("#productprice_notvat").val(l),jQuery("#tmp_product_old_price").val(c)),jQuery("#requiedAttribute").val(p),jQuery("#requiedProperty").val(_)}function checkProductStockRoom(e,t,n,r){var a="instock";return e>0?a=1==redSHOP.RSConfig._("USE_AS_CATALOG")?"outofstock":"instock":0==e&&(a="global"==n&&1!=redSHOP.RSConfig._("ALLOW_PRE_ORDER")||""==n&&1!=redSHOP.RSConfig._("ALLOW_PRE_ORDER")||"no"==n?1==redSHOP.RSConfig._("USE_AS_CATALOG")?"instock":"outofstock":0==r?1==redSHOP.RSConfig._("USE_AS_CATALOG")?"preorder":"outofstock":1==redSHOP.RSConfig._("USE_AS_CATALOG")?"outofstock":"preorder"),redSHOP.updateStockStatusMessage(a,t),"instock"==a}function calculateSingleProductPrice(e,t,n,r){var a=!0;e=parseFloat(e);for(var d=0;d<r.length&&0!=r[d];d++){var o=r[d],i=jQuery("#"+t+o).val(),l=parseFloat(jQuery("#"+n+o).val());if("-"==i)e-=l;else if("+"==i)e+=l;else if("*"==i)e*=l;else if("/"==i)e/=l;else if("="==i){e=l,a=!1;break}}return e}function calculateTotalPrice(e,t){if(0==e||""==e)return!1;var n=0,r=0,a=jQuery("#tmp_product_old_price").length>0?parseFloat(jQuery("#tmp_product_old_price").val()):0,d=jQuery("#accessory_price_withoutvat").length>0?parseFloat(jQuery("#accessory_price_withoutvat").val()):0,o=0,i=(jQuery("#quantity"+l).length>0?jQuery("#quantity"+l).val():1,parseFloat(collectAccessory(e,t))),l=0!=t?t:e,c=0,u=0;collectAttributes(e,0,t),jQuery("#tmp_product_price").length&&(n=parseFloat(jQuery("#tmp_product_price").val())),jQuery("#hidden_subscription_prize").length&&(n+=parseFloat(jQuery("#hidden_subscription_prize").val())),jQuery("#productprice_notvat").length&&(r=parseFloat(jQuery("#productprice_notvat").val())),jQuery("#tmp_product_old_price").length&&(a=parseFloat(jQuery("#tmp_product_old_price").val())),setWrapperComboBox(),jQuery("#wrapper_price").length&&(c=parseFloat(jQuery("#wrapper_price").val())),jQuery("#wrapper_price_withoutvat").length&&(u=parseFloat(jQuery("#wrapper_price_withoutvat").val())),final_price_f=n+i+c,product_price_without_vat=r+d+u,o=a+i+c,savingprice=parseFloat(o)-parseFloat(final_price_f),"1"==redSHOP.RSConfig._("SHOW_PRICE")?!final_price_f||"1"==redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&"1"!=redSHOP.RSConfig._("SHOW_QUOTATION_PRICE")?final_price=getPriceReplacement(final_price_f):final_price=number_format(final_price_f,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):final_price=getPriceReplacement(final_price_f),"1"==redSHOP.RSConfig._("SHOW_PRICE")&&("1"!=redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")||redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE"))&&(jQuery("#produkt_kasse_hoejre_pris_indre"+e).html(final_price),jQuery("#display_product_discount_price"+e).html(final_price),product_price_without_vat?product_price_without_vat=number_format(product_price_without_vat,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):product_price_without_vat=getPriceReplacement(product_price_without_vat),jQuery("#display_product_price_without_vat"+e).html(product_price_without_vat),jQuery("#display_product_price_no_vat"+e).html(product_price_without_vat),jQuery("#display_product_old_price"+e).length&&(o=o?number_format(o,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):getPriceReplacement(o),jQuery("#display_product_old_price"+e).html(o)),jQuery("#display_product_saving_price"+e).length&&(savingprice=number_format(savingprice,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),jQuery("#display_product_saving_price"+e).html(savingprice)),jQuery("#rs_selected_accessory_price").html(final_price))}function collectAccessory(e,t){if(0==e||""==e)return!1;var n="",r="",a=0,d=0,o=0,i=0,l=0,c=[],u=[],m=[],s=[],p=[];if(document.getElementById("isAjaxBoxOpen")&&(n=document.getElementById("isAjaxBoxOpen").value),"viewajaxdetail"==n&&(r="ajax_"),document.getElementsByName("accessory_id_"+r+e+"[]")){if(dcatt=document.getElementsByName("accessory_id_"+r+e+"[]"),document.getElementById("giftcard_id")&&document.getElementById("giftcard_id").value>0&&0==dcatt.length)return!0;var _=dcatt.length;for(j=0;j<_;j++){var y=0,g=0,E=dcatt[j].value,v=r+e+"_"+E,f=0,I=0;acc_chk=document.getElementById("accessory_id_"+v),document.getElementById("attribute_id_"+v)&&(I=document.getElementById("attribute_id_"+v)),f=dcatt[j].checked;var h=1;0!=t?qid=t:qid=e,h=document.getElementById("accquantity_"+v)?document.getElementById("accquantity_"+v).value:document.getElementById("quantity"+qid)&&"select-one"==document.getElementById("quantity"+qid).type?document.getElementById("quantity"+qid).value:1,f?(c[l]=E,u[l]=h,collectAttributes(e,E,t),document.getElementById("accessory_price")&&(y=parseFloat(document.getElementById("accessory_price").value)),document.getElementById("accessory_price_withoutvat")&&(g=parseFloat(document.getElementById("accessory_price_withoutvat").value)),document.getElementById("acc_attribute_data")&&(m[l]=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(s[l]=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(p[l]=document.getElementById("acc_subproperty_data").value),document.getElementById("divaccstatus"+v)&&(document.getElementById("divaccstatus"+v).className="accessorystatus added"),l++):document.getElementById("divaccstatus"+v)&&(document.getElementById("divaccstatus"+v).className="accessorystatus"),d+=parseFloat(y)*h,o+=parseFloat(g)*h}a+=parseFloat(d),i+=parseFloat(o),document.getElementById("accessory_data")&&(document.getElementById("accessory_data").value=c.join("@@")),document.getElementById("acc_quantity_data")&&(document.getElementById("acc_quantity_data").value=u.join("@@")),document.getElementById("acc_attribute_data")&&(document.getElementById("acc_attribute_data").value=m.join("@@")),document.getElementById("acc_property_data")&&(document.getElementById("acc_property_data").value=s.join("@@")),document.getElementById("acc_subproperty_data")&&(document.getElementById("acc_subproperty_data").value=p.join("@@")),document.getElementById("accessory_price")&&(document.getElementById("accessory_price").value=a),document.getElementById("accessory_price_withoutvat")&&(document.getElementById("accessory_price_withoutvat").value=i)}return a}function number_format(e,t,n,r){var a=e,d=t;a*=redSHOP.RSConfig._("CURRENCY_CONVERT");var o=function(e,t){var n=Math.pow(10,t);return(Math.round(e*n)/n).toString()};a=isFinite(+a)?+a:0,d=isFinite(+d)?Math.abs(d):0;var i,l,c="undefined"==typeof r?",":r,u="undefined"==typeof n?".":n,m=d>0?o(a,d):o(Math.round(a),d),s=o(Math.abs(a),d);s>=1e3?(i=s.split(/\D/),l=i[0].length%3||3,i[0]=m.slice(0,l+(a<0))+i[0].slice(l).replace(/(\d{3})/g,c+"$1"),m=i.join(u)):m=m.replace(".",u);var p=m.indexOf(u);d>=1&&p!==-1&&m.length-p-1<d?m+=new Array(d-(m.length-p-1)).join(0)+"0":d>=1&&p===-1&&(m+=u+new Array(d).join(0)+"0");var _="";return _="front"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+m:"behind"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?m+redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT"):"none"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?m:redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+m}function getPriceReplacement(e){var t="";return"0"==redSHOP.RSConfig._("SHOW_PRICE")&&(url=redSHOP.RSConfig._("PRICE_REPLACE_URL"),""==url&&(url="#"),t="<a href='"+url+"'>"+redSHOP.RSConfig._("PRICE_REPLACE")+"</a>"),"1"==redSHOP.RSConfig._("SHOW_PRICE")&&0==e&&(url=redSHOP.RSConfig._("ZERO_PRICE_REPLACE_URL"),""==url&&(url="#"),t="<a href='"+url+"'>"+redSHOP.RSConfig._("ZERO_PRICE_REPLACE")+"</a>",null===url&&null===redSHOP.RSConfig._("ZERO_PRICE_REPLACE"))?"":t}function setWrapper(e,t,n,r){document.getElementById("wrapper_id")&&(document.getElementById("wrapper_id").value=e),document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=e),document.getElementById("wrapper_price").value=t,document.getElementById("wrapper_price_withoutvat").value=n,calculateTotalPrice(r,0)}function setPropImage(e,t,n){var r=document.getElementById(t);if(r)if("checkbox"==r.type||"radio"==r.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){var o=a[d].value;o==n&&(a[d].checked=!0)}else for(var d=0;d<r.options.length;d++){var o=r.options[d].value;o==n&&(r.options[d].selected=!0)}}function setSubpropImage(e,t,n){var r=document.getElementById(t);if(r)if("checkbox"==r.type||"radio"==r.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){a[d].value;a[d].value==n&&(a[d].checked=!0)}else for(var d=0;d<r.options.length;d++){r.options[d].value;r.options[d].value==n&&(r.options[d].selected=!0)}}function setPropertyImage(e,t){var n=0,r=document.getElementById(t);if(r)if("checkbox"==r.type||"radio"==r.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){var o="";n=a[d].value,a[d].checked&&(o="1px solid"),document.getElementById(t+"_propimg_"+n)&&(document.getElementById(t+"_propimg_"+n).style.border=o)}else for(var d=0;d<r.length;d++){var o="";n=r[d].value,r[r.selectedIndex].value==n&&(o="1px solid"),document.getElementById(t+"_propimg_"+n)&&(document.getElementById(t+"_propimg_"+n).style.border=o)}}function setSubpropertyImage(e,t,n){var n=0,r=document.getElementById(t);if(r)if("checkbox"==r.type||"radio"==r.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){var o="";n=a[d].value,a[d].checked&&(o="1px solid"),document.getElementById(t+"_subpropimg_"+n)&&(document.getElementById(t+"_subpropimg_"+n).style.border=o)}else for(var d=0;d<r.length;d++){var o="";n=r[d].value,r[r.selectedIndex].value==n&&(o="1px solid"),document.getElementById(t+"_subpropimg_"+n)&&(document.getElementById(t+"_subpropimg_"+n).style.border=o)}}function displayAdditionalImage(e,t,n,r,a){var d="&product_id="+e;d=d+"&accessory_id="+t,d=d+"&relatedprd_id="+n,d=d+"&property_id="+r,d=d+"&subproperty_id="+a;var o="";if(0!=t?(prefix="acc_",e=t):0!=n?prefix="rel_":prefix="prd_",collectAttributes(e,0,n),document.getElementById("property_data")){var i=document.getElementById("property_data").value;d=d+"&property_data="+encodeURIComponent(i)}if(document.getElementById("subproperty_data")){var l=document.getElementById("subproperty_data").value;d=d+"&subproperty_data="+encodeURIComponent(l)}document.getElementById(prefix+"main_imgwidth")&&(d=d+"&main_imgwidth="+parseInt(document.getElementById(prefix+"main_imgwidth").value)),document.getElementById(prefix+"main_imgheight")&&(d=d+"&main_imgheight="+parseInt(document.getElementById(prefix+"main_imgheight").value));var c=0;if(document.getElementById("a_main_image"+e)||document.getElementById("main_image"+e)){var u="";if(document.getElementById("a_main_image"+e)){var m=document.getElementById("a_main_image"+e).href;"undefined"!=typeof m&&(m=m.split(""),u=m.reverse(),u=u.join(""),m=u.split("."),m=m[0].split(""),u=m.reverse(),u=u.join(""))}else{var m=document.getElementById("main_image"+e).src;"undefined"!=typeof m&&(m=m.split(""),u=m.reverse(),u=u.join(""),m=u.split("."),m=m[0].split(""),u=m.reverse(),u=u.join(""),u=u.split("&"),u=u[0])}u=u.toLowerCase(),"jpg"!=u&&"jpeg"!=u&&"png"!=u&&"gif"!=u&&"bmp"!=u||(c=1)}var s=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayAdditionImage&redview="+redSHOP.RSConfig._("REDSHOP_VIEW")+"&redlayout="+redSHOP.RSConfig._("REDSHOP_LAYOUT")+"&tmpl=component";s+=d,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){o=request.responseText;var t=o.split("`_`");""!=t[9]&&document.getElementById("product_number_variable"+e)&&(document.getElementById("product_number_variable"+e).innerHTML=t[9]),subproperty_main_image=t[4],document.getElementById("a_main_image"+e)&&(""!=t[2]&&1==c&&(document.getElementById("a_main_image"+e).href=t[2]),""!=t[3]&&(document.getElementById("a_main_image"+e).title=t[3])),""!=t[4]&&document.getElementById("main_image"+e)&&(document.getElementById("main_image"+e).src=t[4]),document.getElementById("additional_images"+e)&&""!=t[1]&&(document.getElementById("additional_images"+e).innerHTML=t[1]),document.getElementById("hidden_attribute_cartimage"+e)&&(document.getElementById("hidden_attribute_cartimage"+e).value=t[12]),document.getElementById("stockImage"+e)&&""!=t[5]&&(document.getElementById("stockImage"+e).src=t[5]),document.getElementById("stockImageTooltip"+e)&&""!=t[6]&&(document.getElementById("stockImageTooltip"+e).innerHTML=t[6]),document.getElementById("displayProductInStock"+e)&&""!=t[10]&&(document.getElementById("displayProductInStock"+e).innerHTML=t[10]),document.getElementById("ProductAttributeMinDelivery"+e)&&""!=t[7]&&(document.getElementById("ProductAttributeMinDelivery"+e).innerHTML=t[7]),document.getElementById("stock_status_div"+e)&&""!=t[11]&&(document.getElementById("stock_status_div"+e).innerHTML=t[11]),document.getElementById("notify_stock"+e)&&(document.getElementById("notify_stock"+e).innerHTML=t[13]),document.getElementById("stock_availability_date_lbl"+e)&&(document.getElementById("stock_availability_date_lbl"+e).innerHTML=t[14]),document.getElementById("stock_availability_date"+e)&&(document.getElementById("stock_availability_date"+e).innerHTML=t[15]);var n={isenable:!0,mainImage:!1};preloadSlimbox(n)}},request.open("GET",s,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(null)}function preloadSlimbox(e){if(e.isenable){var t={handler:"image"};redBOX.initialize({}),e.mainImage?redBOX.assign($$("a[rel='myallimg']"),t):redBOX.assign($$(".additional_image > a[rel='myallimg']"),t)}}function setWrapperComboBox(){document.getElementById("wrapper_id")&&document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=document.getElementById("wrapper_id").value);var e=document.getElementsByName("w_price"),t=0;document.getElementById("sel_wrapper_id")&&(t=document.getElementById("sel_wrapper_id").value);var n=0,r=0;for(document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&0!=t&&(n=document.getElementById("w_price"+t).value,r=document.getElementById("w_price_withoutvat"+t).value),document.getElementById("wrapper_price")&&(document.getElementById("wrapper_price").value=n),document.getElementById("wrapper_price_withoutvat")&&(document.getElementById("wrapper_price_withoutvat").value=r),i=0;i<e.length;i++){var a=e[i].id.substr(7);document.getElementById("wrappertd"+a)&&(a==t?(document.getElementById("wrappertd"+a).style.border="1px solid",document.getElementById("wrappertd"+a).style.padding="7px"):(document.getElementById("wrappertd"+a).style.border="",document.getElementById("wrappertd"+a).style.padding=""))}}function discountCalculation(e){var t=0,n=0,r=0,a=0,d="cm",o="cm",i="",l=0,c=0,u="",m=0;if(document.getElementById("calc_height")&&(t=document.getElementById("calc_height").value,""==t))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT")),!1;if(document.getElementById("calc_width")&&(n=document.getElementById("calc_width").value,""==n))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH")),!1;if(document.getElementById("calc_depth")&&(r=document.getElementById("calc_depth").value,""==r))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH")),!1;if(document.getElementById("calc_radius")&&(a=document.getElementById("calc_radius").value,""==a))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS")),!1;if(document.getElementById("discount_calc_unit")&&(d=document.getElementById("discount_calc_unit").value,0==d))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT")),!1;document.getElementById("calc_unit")&&(o=document.getElementById("calc_unit").value);var s=[];if(document.getElementsByName("pdc_option_name[]"))for(var p=document.getElementsByName("pdc_option_name[]"),_=0,y=0;y<p.length;y++){var g=p[y];g.checked&&(s[_]=g.value,_++)}return s=s.join(","),http=getHTTPObject(),null==http?void alert("Your browser does not support XMLHTTP!"):(http.onreadystatechange=function(){if(4==http.readyState){var t=http.responseText;if(t=t.replace(/^\s+|\s+$/g,""),"fail"==t)return alert(Joomla.JText._("COM_REDSHOP_NOT_AVAILABLE")),!1;t=t.split("\n");for(var n=document.getElementsByName("quantity"),r=1,a=0;a<n.length;a++)n[a].id=="ajax_quantity"+e?r=n[a].value:n[a].id=="quantity"+e&&(r=n[a].value);i=t[0],l=t[1],c=t[2],price_excl_vat=t[7];var d=number_format(l,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),o=number_format(c,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));r<=0&&(r=1),m=parseFloat(c)*r;var s=number_format(m,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));if(u=t[3]+i+"<br />",u+=t[4]+d+"<br />",u+=t[5]+o+"<br />",u+=t[6]+s,document.getElementById("discount_cal_final_price")&&(document.getElementById("discount_cal_final_price").innerHTML=u),document.getElementById("main_price"+e)){var p=document.getElementById("main_price"+e).value;if("1"==redSHOP.RSConfig._("SHOW_PRICE")&&("1"!=redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")||redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE"))){var _=parseFloat(p)+parseFloat(m);if(1==t[8])var y=m+price_excl_vat*r;else var y=m*r;s=number_format(_,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),formatted_product_price_excl_vat=number_format(y,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),document.getElementById("produkt_kasse_hoejre_pris_indre"+e)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+e).innerHTML=formatted_product_price_excl_vat,document.getElementById("display_product_price_no_vat"+e)&&(document.getElementById("display_product_price_no_vat"+e).innerHTML=s),document.getElementById("product_price_no_vat"+e)&&(document.getElementById("product_price_no_vat"+e).value=_)),document.getElementById("product_price_incl_vat"+e)&&(document.getElementById("product_price_incl_vat"+e).innerHTML=formatted_product_price_excl_vat),document.getElementById("main_price"+e).value=y}calculateTotalPrice(e,0)}}},http.open("GET",redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart&task=discountCalculator&product_id="+e+"&calcHeight="+t+"&calcWidth="+n+"&calcDepth="+r+"&calcRadius="+a+"&calcUnit="+d+"&pdcextraid="+s+"&tmpl=component",!0),http.setRequestHeader("X-Requested-With","XMLHttpRequest"),void http.send(null))}function setProductUserFieldImage(e,t,n,r){for(var a=document.getElementsByClassName("imgClass_"+t),d=0;d<a.length;d++)removeClass(a[d],"selectedimg");document.getElementById(e+"_"+t)&&(document.getElementById(e+"_"+t).value=n,r.className+=" selectedimg"),document.getElementById("ajax"+e+"_"+t)&&(document.getElementById("ajax"+e+"_"+t).value=n),document.getElementById(e)&&(document.getElementById(e).value=n)}function removeClass(e,t){if(hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function hasClass(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function RedgetElementsByClassName(e){var t=[],n=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<n.length;i++)n[i].className==e&&(t[j]=n[i],j++);return t}function getElementsByClassName(e){var t=[],n=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<n.length;i++)n[i].className==e&&(t[j]=n[i],j++);return t}function displayAddtocartForm(e,t,n,r,a){return 0!=t&&""!=t&&(redSHOP.updateCartExtraFields(jQuery("#"+a+" :input:not(:button, :hidden)"),t,"#"+e),jQuery("#requiedAttribute").val(jQuery("#"+e+" [name=requiedAttribute]").attr("reattribute")),jQuery("#requiedProperty").val(jQuery("#"+e+" [name=requiedProperty]").attr("reproperty")),0==r&&calculateTotalPrice(t,n),!!setAddtocartForm(e,t))}function setAddtocartForm(e,t){
var n=document.getElementById(e);document.getElementById("Itemid")&&(n.Itemid.value=document.getElementById("Itemid").value),document.getElementById("attribute_data")&&(n.attribute_data.value=document.getElementById("attribute_data").value),document.getElementById("property_data")&&(n.property_data.value=document.getElementById("property_data").value),document.getElementById("subproperty_data")&&(n.subproperty_data.value=document.getElementById("subproperty_data").value),document.getElementById("accessory_data")&&(n.accessory_data.value=document.getElementById("accessory_data").value),document.getElementById("acc_quantity_data")&&(n.acc_quantity_data.value=document.getElementById("acc_quantity_data").value),document.getElementById("acc_attribute_data")&&(n.acc_attribute_data.value=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(n.acc_property_data.value=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(n.acc_subproperty_data.value=document.getElementById("acc_subproperty_data").value),document.getElementById("accessory_price")&&(n.accessory_price.value=document.getElementById("accessory_price").value),document.getElementById("requiedAttribute")&&(n.requiedAttribute.value=document.getElementById("requiedAttribute").value),document.getElementById("requiedProperty")&&(n.requiedProperty.value=document.getElementById("requiedProperty").value);var r=1;if(document.getElementById("quantity"+t).value&&(r=document.getElementById("quantity"+t).value),document.getElementById("hidden_attribute_cartimage"+t)&&(n.hidden_attribute_cartimage.value=document.getElementById("hidden_attribute_cartimage"+t).value),0!=parseInt(n.min_quantity.value)&&parseInt(n.min_quantity.value)>r)return alert(n.min_quantity.getAttribute("requiredtext")+" "+parseInt(n.min_quantity.value)),!1;if(0!=parseInt(n.max_quantity.value)&&parseInt(n.max_quantity.value)<r)return alert(n.max_quantity.getAttribute("requiredtext")+" "+parseInt(n.max_quantity.value)),!1;if(document.getElementById("calc_height")){var a=document.getElementById("calc_height").value;if(""==a)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT")),!1;n.calcHeight.value=a}if(document.getElementById("calc_width")){var d=document.getElementById("calc_width").value;if(""==d)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH")),!1;n.calcWidth.value=d}if(document.getElementById("calc_depth")){var o=document.getElementById("calc_depth").value;if(""==o)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH")),!1;n.calcDepth.value=o}if(document.getElementById("calc_radius")){var i=document.getElementById("calc_radius").value;if(""==i)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS")),!1;n.calcRadius.value=i}if(document.getElementById("discount_calc_unit")){if(calUnit=document.getElementById("discount_calc_unit").value,0==calUnit)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT")),!1;n.calcUnit.value=calUnit}var l=[];if(document.getElementsByName("pdc_option_name[]"))for(var c=document.getElementsByName("pdc_option_name[]"),u=0,m=0;m<c.length;m++){var s=c[m];s.checked&&(l[u]=s.value,u++)}if(l=l.join(","),n.pdcextraid.value=l,document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;n.subscription_id.value=subId}return!0}function checkAddtocartValidation(e,t,n,r,a,d,o,i){if(0==t||""==t)return!1;if(0==redSHOP.RSConfig._("AJAX_CART_BOX")){var l=userfieldValidation("extrafields"+t);if(!l)return!1;var c=document.getElementById(e).requiedAttribute.value,u=document.getElementById(e).requiedProperty.value;if(""!=c)return alert(c),!1;if(""!=u)return alert(u),!1;document.getElementById(e).submit()}else{var m=parseInt(d)+parseInt(o)+parseInt(i);if(0!=r)submitAjaxCartdetail(e,t,n,r,d,o,i);else{var s=!0,l=userfieldValidation("extrafields"+t);l||(s=!1);var c=document.getElementById(e).requiedAttribute.value,u=document.getElementById(e).requiedProperty.value;""!=c&&(s=!1),""!=u&&(s=!1),m>0&&0==s?displayAjaxCartdetail(e,t,n,r,d,o,i):submitAjaxCartdetail(e,t,n,r,d,o,i)}}}function displayAjaxCartdetail(e,t,r,a,d,o,l){if(0==t||""==t)return!1;var c="";document.getElementById("isAjaxBoxOpen")&&(c=document.getElementById("isAjaxBoxOpen").value);for(var u=(document.getElementById(e),document.getElementsByName("extrafields"+t+"[]")),m="",s="",p="",_=!1,y="",g="",E=!1,v="",f="",I=0;I<u.length;I++)if(u[I].value||"text"!=u[I].type)if(u[I].value||"select-one"!=u[I].type)if(u[I].value||"hidden"!=u[I].type){if("checkbox"==u[I].type){if(p=redSHOP.filterExtraFieldName(u[I].id),""!=s&&s!=p&&0==_&&(m+=s+","),s!=p&&(s=p,_=!1),u[I].checked||1==_){_=!0;continue}(I==u.length-1&&0==_||"checkbox"!=u[I+1].type&&0==_)&&(m+=s+",")}else if("radio"==u[I].type){if(g=redSHOP.filterExtraFieldName(u[I].id),""!=y&&y!=g&&0==E&&(m+=y+","),y!=g&&(y=g,E=!1),u[I].checked||1==E){E=!0;continue}(I==u.length-1&&0==E||"radio"!=u[I+1].type&&0==E)&&(m+=y+",")}else if("select-multiple"==u[I].type){if(f=redSHOP.filterExtraFieldName(u[I].id),u[I].value)continue;m+=f+","}}else v=redSHOP.filterExtraFieldName(u[I].id),m+=v,u.length-1!=I&&(m+=",");else m+=u[I].id,u.length-1!=I&&(m+=",");else m+=u[I].id,u.length-1!=I&&(m+=",");var h=RedgetElementsByClassName("calendar"),B="";for(cal_i=0;cal_i<h.length;cal_i++){var S=h[cal_i].id;arr=S.split("_img"),n=arr.length;var R=arr[0];""!=R&&""==document.getElementById(R).value&&(B=redSHOP.filterExtraFieldName(R),m+=","+B+",")}var b="";if(document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;b="&subscription_id="+subId}var x=1,P="";request=getHTTPObject(),document.getElementById("quantity"+t).value&&(x=document.getElementById("quantity"+t).value);var T=document.getElementById(e).requiedAttribute.value,O=document.getElementById(e).requiedProperty.value,C=document.getElementById(e).accessory_data.value;0==m&&(l=0),""==T&&""==O&&(d=0);var H=[];o>0&&""!=C&&0!=C&&(H=C.split("@@"),o==H.length&&(o=0));var j=parseInt(d)+parseInt(o)+parseInt(l),A=parseInt(d)+parseInt(l);if(o>0&&0==A&&H.length>0||0==j||"viewajaxdetail"==c)submitAjaxCartdetail(e,t,r,a,d,o,l);else{var w="&property_data="+encodeURIComponent(document.getElementById(e).property_data.value);w=w+"&subproperty_data="+encodeURIComponent(document.getElementById(e).subproperty_data.value),w=w+"&accessory_data="+encodeURIComponent(document.getElementById(e).accessory_data.value),w=w+"&acc_quantity_data="+encodeURIComponent(document.getElementById(e).acc_quantity_data.value),w=w+"&acc_property_data="+encodeURIComponent(document.getElementById(e).acc_property_data.value),w=w+"&acc_subproperty_data="+encodeURIComponent(document.getElementById(e).acc_subproperty_data.value);var P="option=com_redshop&view=product&pid="+t+"&relatedprd_id="+r+"&layout=viewajaxdetail&product_quantity="+x+"&tmpl=component&nextrafield="+l+"&extrafieldNames="+m+b+w,q=redSHOP.RSConfig._("SITE_URL")+"index.php?"+P;request.onreadystatechange=function(){if(4==request.readyState&&200==request.status){var e=request.responseText,t={url:q,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_HEIGHT"))},htmldata:e};redBOX.initialize({}),document.attbox=redBOX.open(null,t);var r={isenable:!1,mainImage:!1};preloadSlimbox(r);var a=RedgetElementsByClassName("calendar");for(i=0;i<a.length;i++){var d=a[i].id;arr=d.split("_img"),n=arr.length;var o=arr[0],l=o.split("ajax");d.search("ajax")!=-1&&m.search(l[0])!=-1&&window.addEvent("domready",function(){Calendar.setup({inputField:o,ifFormat:"%d-%m-%Y",button:a[i].id,align:"Tl",singleClick:!0})})}}},request.open("POST",q,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(P)}}function submitAjaxCartdetail(e,t,n,r,a,d,o){var i=document.getElementById(e),l="";if(!userfieldValidation("extrafields"+t))return!1;var c=jQuery("#"+e+" [name=requiedAttribute]").val(),u=jQuery("#"+e+" [name=requiedProperty]").val();if(0!=c&&""!=c)return alert(c),!1;if(0!=u&&""!=u)return alert(u),!1;extraFieldPost=redSHOP.updateAjaxCartExtraFields(jQuery('[name^="extrafields'+t+'"]'),t).join("&");var m="";if(document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;m="&subscription_id="+subId}document.getElementById("giftcard_id")?(l="&giftcard_id="+t,document.getElementById("reciver_email")&&(l+="&reciver_email="+document.getElementById("reciver_email").value),document.getElementById("reciver_name")&&(l+="&reciver_name="+document.getElementById("reciver_name").value),document.getElementById("customer_amount")&&(l+="&customer_amount="+document.getElementById("customer_amount").value)):l="&product_id="+t,request=getHTTPObject();var s="ajax_cart_box=1";if(s=s+"&Itemid="+i.Itemid.value+l,s=s+"&category_id="+i.category_id.value,s=s+"&attribute_data="+i.attribute_data.value,s=s+"&property_data="+i.property_data.value,s=s+"&subproperty_data="+i.subproperty_data.value,s=s+"&requiedAttribute="+i.requiedAttribute.value,s=s+"&requiedProperty="+i.requiedProperty.value,s=s+"&accessory_data="+i.accessory_data.value,s=s+"&acc_quantity_data="+i.acc_quantity_data.value,s=s+"&acc_attribute_data="+i.acc_attribute_data.value,s=s+"&acc_property_data="+i.acc_property_data.value,s=s+"&acc_subproperty_data="+i.acc_subproperty_data.value,s=s+"&accessory_price="+i.accessory_price.value,document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&(s=s+"&sel_wrapper_id="+i.sel_wrapper_id.value),s=s+"&quantity="+i.quantity.value,s=s+"&hidden_attribute_cartimage="+i.hidden_attribute_cartimage.value,document.getElementById("calc_height")&&(s=s+"&calcHeight="+i.calcHeight.value),document.getElementById("calc_width")&&(s=s+"&calcWidth="+i.calcWidth.value),document.getElementById("calc_depth")&&(s=s+"&calcDepth="+i.calcDepth.value),document.getElementById("calc_radius")&&(s=s+"&calcRadius="+i.calcRadius.value),document.getElementById("calc_unit")&&(s=s+"&calcUnit="+i.calcUnit.value),s=s+"&pdcextraid="+i.pdcextraid.value,s=s+m+"&"+extraFieldPost,redShopJsTrigger.length>0)for(var p=0,_=redShopJsTrigger.length;p<_;p++)new redShopJsTrigger[p](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)s+="&"+key+"="+getExtraParamsArray[key];request.open("POST",redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart&task=add&tmpl=component",!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("X-Requested-With","XMLHttpRequest");var y=!0;request.onreadystatechange=function(){if(4==request.readyState){var e=request.responseText;if(e=e.split("`"),"0"==e[1])return alert(e[2]),!1;document.attbox&&document.attbox.close(),document.getElementById("mod_cart_total")&&e[1]&&(document.getElementById("mod_cart_total").innerHTML=e[1]),document.getElementById("rs_promote_free_shipping_div")&&e[2]&&(document.getElementById("rs_promote_free_shipping_div").innerHTML=e[2]),document.getElementById("mod_cart_checkout_ajax")&&(document.getElementById("mod_cart_checkout_ajax").style.display="");var n=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&pid="+t+"&r_template=cartbox&tmpl=component";request_inner=getHTTPObject(),request_inner.onreadystatechange=function(){if(4==request_inner.readyState&&200==request_inner.status&&y){var e=request_inner.responseText;y=!1;var t={url:n,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_BOX_HEIGHT"))},htmldata:e,onOpen:function(){if(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME")>0){(function(){this.close()}).bind(this).delay(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME"))}}};redBOX.initialize({}),document.ajaxbox=redBOX.open(null,t)}},request_inner.open("GET",n,!0),request_inner.setRequestHeader("X-Requested-With","XMLHttpRequest"),request_inner.send(null)}},request.send(s)}function displayAddtocartProperty(e,t,n,r){return document.getElementById("attribute_data")&&(document.getElementById("attribute_data").value=n),document.getElementById("property_data")&&(document.getElementById("property_data").value=r),document.getElementById("subproperty_data")&&(document.getElementById("subproperty_data").value=""),!!setAddtocartForm(e,t)}function showallreviews(){document.getElementById("showreviews")&&("none"==document.getElementById("showreviews").style.display?document.getElementById("showreviews").style.display="":document.getElementById("showreviews").style.display="none")}function checkAddtocartwishlistValidation(e,t,n,r,a,d,o,i,l){if(0==t||""==t)return!1;if(1==l){var c=userfieldValidation("extrafields"+t);if(!c)return!1;var u=document.getElementById(e).requiedAttribute.value,m=document.getElementById(e).requiedProperty.value;return""!=u?(alert(u),!1):""==m||(alert(m),!1)}return submitAjaxCartdetail(e,t,n,r,d,o,i),!0}function productalladdprice(e){var t=1;mainpro_id=document.frm.product_id.value.split(","),totatt=document.frm.totacc_id.value.split(","),totcount_no_user_field=document.frm.totcount_no_user_field.value.split(","),mainpro_id.length=mainpro_id.length-1;for(var n=0;n<mainpro_id.length;n++)if(""!=mainpro_id[n]&&displayAddtocartForm("addtocart_prd_"+mainpro_id[n],mainpro_id[n],"0","0","user_fields_form")&&!checkAddtocartwishlistValidation("addtocart_prd_"+mainpro_id[n],mainpro_id[n],"0","0","user_fields_form",totatt[n],"",totcount_no_user_field[n],t))return!1;submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[0],mainpro_id[0],0,0,totatt[0],0,totcount_no_user_field[0],e)}function submitAjaxwishlistCartdetail(e,t,n,r,a,o,i,l){displayAddtocartForm("addtocart_prd_"+mainpro_id[d],mainpro_id[d],"0","0","user_fields_form");var c=document.getElementById(e),u=[],m=jQuery("#"+e+' [name="requiedAttribute"]').val(),s=jQuery("#"+e+' [name="requiedProperty"]').val();if(!userfieldValidation("extrafields"+t))return!1;if(0!=m&&""!=m)return alert(m),!1;if(0!=s&&""!=s)return alert(s),!1;var p=redSHOP.updateAjaxCartExtraFields(jQuery('[name^="extrafields'+t+'"]'),t).join("&");if(jQuery("#hidden_subscription_id").length>0){if(subId=jQuery("#hidden_subscription_id").val(),0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;u.push("subscription_id="+subId)}jQuery("#giftcard_id").length>0?(u.push("giftcard_id="+t),u.push("reciver_email="+jQuery("#reciver_email").val()),u.push("reciver_name="+jQuery("#reciver_name").val()),u.push("customer_amount="+jQuery("#customer_amount").val())):u.push("product_id="+t),request=getHTTPObject(),u.push("Itemid="+c.Itemid.value),u.push("category_id="+c.category_id.value),u.push("attribute_data="+c.attribute_data.value),u.push("property_data="+c.property_data.value),u.push("subproperty_data="+c.subproperty_data.value),u.push("requiedAttribute="+c.requiedAttribute.value),u.push("requiedProperty="+c.requiedProperty.value),u.push("accessory_data="+c.accessory_data.value),u.push("acc_quantity_data="+c.acc_quantity_data.value),u.push("acc_attribute_data="+c.acc_attribute_data.value),u.push("acc_property_data="+c.acc_property_data.value),u.push("acc_subproperty_data="+c.acc_subproperty_data.value),u.push("accessory_price="+c.accessory_price.value),u.push("sel_wrapper_id="+c.sel_wrapper_id.value),u.push("quantity=1"),u.push("pdcextraid="+c.pdcextraid.value),document.getElementById("calc_height")&&u.push("calcHeight="+c.calcHeight.value),document.getElementById("calc_width")&&u.push("calcWidth="+c.calcWidth.value),document.getElementById("calc_depth")&&u.push("calcDepth="+c.calcDepth.value),document.getElementById("calc_radius")&&u.push("calcRadius="+c.calcRadius.value),document.getElementById("calc_unit")&&u.push("calcUnit="+c.calcUnit.value);var _=u.join("&")+"&"+p;if(redShopJsTrigger.length>0)for(var y=0,g=redShopJsTrigger.length;y<g;y++)new redShopJsTrigger[y](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)_+="&"+key+"="+getExtraParamsArray[key];var E=redSHOP.RSConfig._("SITE_URL")+"index.php";E+=1==l||2==l?"?option=com_redshop&view=product&task=addtowishlist&wid=1&ajaxon=1&tmpl=component":"?option=com_redshop&view=cart&task=add&tmpl=component&ajax_cart_box=1",/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",E,!0):request.open("POST",E,!1),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",_.length),request.setRequestHeader("Connection","close"),request.onreadystatechange=function(){if(request.readyState<4&&jQuery("#saveid, #allcart").html('<font size="1" color="red">Processing...</font>'),4==request.readyState){var e=request.responseText;if(e=e.split("`"),"0"==e[1])return!1;document.attbox&&document.attbox.close(),d++;var t=mainpro_id.length;if(d<t)""!=mainpro_id[d]&&submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[d],mainpro_id[d],0,0,totatt[d],0,totcount_no_user_field[d]);else if(1==l)window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?wishlist=1&option=com_redshop&view=login";else{if(2==l)return!1;window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart"}jQuery("#saveid, #allcart").html(""),e[1]&&jQuery("#mod_cart_total").html(e[1]),e[2]&&jQuery("#rs_promote_free_shipping_div").html(e[2]),jQuery("#mod_cart_checkout_ajax").hide()}},request.send(_)}function addmywishlist(e,t,r){for(var a=document.getElementsByName("extrafields"+t+"[]"),d="",o="",i="",l="",c="",u="",m="",s=!1,p="",_=0;_<a.length;_++)if("checkbox"==a[_].type)c=redSHOP.filterExtraFieldName(a[_].id),""!=l&&l!=c&&""!=o&&(i+="&"+l+"="+o),l!=c&&(o="",l=c),a[_].checked&&(""!=o&&(o+=","),o+=a[_].value),_==a.length-1&&""!=o&&(i+="&"+c+"="+o),_<a.length-1&&"checkbox"!=a[_+1].type&&""!=o&&(i+="&"+c+"="+o);else if("radio"==a[_].type){if(m=redSHOP.filterExtraFieldName(a[_].id),""!=u&&u!=m&&0==s&&(i+="&"+u+"="+o),u!=m){if(o="",u=m,s=!1,a[_].checked||1==s){s=!0,i+="&"+u+"="+a[_].value;continue}}else if(a[_].checked){s=!0,i+="&"+m+"="+a[_].value;continue}}else if("select-multiple"==a[_].type){var y=a[_];o="",p=redSHOP.filterExtraFieldName(a[_].id);for(var g=0;g<y.options.length;g++)if(y.options[g].selected){var E=o;E.search(String(y.options[g].value))==-1&&(""!=o&&(o+=","),o+=String(y.options[g].value))}o&&(i+="&"+p+"="+o)}else if("hidden"==a[_].type)imgfieldNamefrmId=redSHOP.filterExtraFieldName(a[_].id),d=imgfieldNamefrmId,o=a[_].value,i+="&"+d+"="+o,o="";else if("text"==a[_].type)d=a[_].id,o=a[_].value,i+="&"+d+"="+o;else{if(a[_].id.search("ajax")!=-1){var v=a[_].id.split("ajax"),f="";f=redSHOP.filterExtraFieldName(v[1]),a[_].id=f}d=a[_].id,o=a[_].value,i+="&"+d+"="+o}var I=RedgetElementsByClassName("calendar"),f="";for(cal_i=0;cal_i<I.length;cal_i++){var h=I[cal_i].id;arr=h.split("_img"),n=arr.length;var B=arr[0];""!=B&&B.search(t)&&""!=document.getElementById(B).value&&(f=redSHOP.filterExtraFieldName(B),i+="&"+f+"="+document.getElementById(B).value)}request=getHTTPObject();var S="option=com_redshop&view=product&task=addtowishlist&json=1&ajaxon=1&tmpl=component";S=S+"&Itemid="+r,S=S+"&product_id="+t,S=S+"&userfield_id="+a.length,S+=i;var R=redSHOP.RSConfig._("SITE_URL")+"index.php?"+S;/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",R,!0):request.open("POST",R,!1),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",S.length),request.setRequestHeader("Connection","close");request.onreadystatechange=function(){if(request.readyState<4&&(document.getElementById("myprohide_"+t).innerHTML='<font size="1" color="red">Loading...</font>'),4==request.readyState&&200==request.status){var e=(request.responseText,document.getElementById("mypid").innerHTML),n=request.responseText;sp=n.split(":-:"),e.search(sp[1])==-1&&(document.getElementById("mypid").innerHTML+=sp[0],document.getElementById("wid").style.display="block",document.getElementById("myprohide_"+t).innerHTML="")}},request.send(S)}function getStocknotify(e,t,n){var r=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=addNotifystock&tmpl=component&product_id="+e;r=r+"&property_id="+t+"&subproperty_id="+n,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){var t=request.responseText;document.getElementById("notify_stock"+e)&&(document.getElementById("notify_stock"+e).innerHTML=t)}},request.open("GET",r,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest")}redSHOP=window.redSHOP||{},redSHOP.setProductTax=function(e){e.id=e.id||0,e.price=e.price||0,e.userId=e.userId||0,e.taxExempt=e.taxExempt||!1,e.option="com_redshop",e.view="cart",e.task="cart.ajaxGetProductTax",e.tmpl="component",jQuery.ajax({url:redSHOP.RSConfig._("AJAX_BASE_URL"),type:"POST",dataType:"json",data:e}).done(function(e){redSHOP.baseTax=e.tax})},redSHOP.filterExtraFieldName=function(e){return e=reverseString(e),reverseString(e.substr(e.indexOf("_")+1))},redSHOP.collectExtraFields=function(e,t){var n={name:e.id.replace("_"+t,""),value:jQuery(e).val()};switch(e.type){case"checkbox":case"radio":n.name=redSHOP.filterExtraFieldName(e.id),n.value=jQuery("[id^="+n.name+"]:checked").val()}return n},redSHOP.updateCartExtraFields=function(e,t,n){jQuery.each(e,function(e,r){var a=redSHOP.collectExtraFields(r,t);jQuery(n+" input[id="+a.name+"]").val(a.value)})},redSHOP.updateAjaxCartExtraFields=function(e,t){var n=[];return jQuery.each(e,function(e,r){var a=redSHOP.collectExtraFields(r,t);n.push(a.name+"="+a.value)}),n},window.addEvent("domready",function(){var e={isenable:!0,mainImage:!0};preloadSlimbox(e);var t={handler:"iframe"};redBOX.assign($$(".redcolorproductimg"),t),redBOX.assign($$("a.redbox"),{parse:"rel"}),redSHOP.setProductTax({id:0,price:1})});var r_browser=!1,subproperty_main_image="",request;redSHOP.onChangePropertyDropdown=[],redSHOP.updateStockStatusMessage=function(e,t){var n="inline-block",r="inline-block",a="inline-block",d="inline-block",o="";"instock"==e?(n="inline-block",d="inline-block",r="none",a="none",o=Joomla.JText._("COM_REDSHOP_AVAILABLE_STOCK")):(n="none",d="none","preorder"==e?(r="none",a="inline-block",o=Joomla.JText._("COM_REDSHOP_PREORDER_PRODUCT_OUTOFSTOCK_MESSAGE")):(r="inline-block",a="none",o=Joomla.JText._("COM_REDSHOP_PRODUCT_OUTOFSTOCK_MESSAGE"))),document.getElementById("pdaddtocart"+t)&&(document.getElementById("pdaddtocart"+t).style.display=n),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display=r),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).innerHTML=o),document.getElementById("preordercart"+t)&&(document.getElementById("preordercart"+t).style.display=a),document.getElementById("stockQuantity"+t)&&(document.getElementById("stockQuantity"+t).style.display=d)};var getExtraParamsArray={},redShopJsTrigger=[],mainpro_id=[],totatt=[],totcount_no_user_field=[],d=0;