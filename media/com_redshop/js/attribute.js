function getHTTPObject(){var a=!1;if(window.XMLHttpRequest)a=new XMLHttpRequest;else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=!1}}return a}function productaddprice(a,b){var c=1;if(0!=b?prefix=b:prefix=a,document.getElementById("accessory_data"))var d=document.getElementById("accessory_data").value;if(document.getElementById("acc_quantity_data"))var e=document.getElementById("acc_quantity_data").value;if(document.getElementById("acc_attribute_data"))var f=document.getElementById("acc_attribute_data").value.replace("##","::");if(document.getElementById("acc_property_data"))var g=document.getElementById("acc_property_data").value.replace("##","::");if(document.getElementById("acc_subproperty_data"))var h=document.getElementById("acc_subproperty_data").value.replace("##","::");if(document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)&&(c=document.getElementById("quantity"+prefix).value),document.getElementById("attribute_data"))var i=document.getElementById("attribute_data").value.replace("##","::");if(document.getElementById("property_data"))var j=document.getElementById("property_data").value.replace("##","::");if(document.getElementById("subproperty_data"))var k=document.getElementById("subproperty_data").value.replace("##","::");var l=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayProductaddprice&tmpl=component&qunatity="+c;l=l+"&product_id="+a+"&attribute_data="+i+"&property_data="+j+"&subproperty_data="+k,l=l+"&accessory_data="+d+"&acc_quantity_data="+e+"&acc_attribute_data="+f+"&acc_property_data="+g+"&acc_subproperty_data="+h,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){var b=request.responseText.split(":"),f=0,g=0;document.getElementById("wrapper_price")&&(f=parseFloat(document.getElementById("wrapper_price").value)),document.getElementById("wrapper_price_withoutvat")&&(g=parseFloat(document.getElementById("wrapper_price_withoutvat").value)),document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix).innerHTML=number_format(parseFloat(b[0])+f*c,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_discount_price"+prefix)&&(document.getElementById("display_product_discount_price"+prefix).innerHTML=number_format(b[4],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_price_without_vat"+prefix)&&(document.getElementById("display_product_price_without_vat"+prefix).innerHTML=number_format(parseFloat(b[5])+g*c,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_price_no_vat"+prefix)&&(document.getElementById("display_product_price_no_vat"+prefix).innerHTML=number_format(parseFloat(b[5])+g*c,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_old_price"+prefix)&&(document.getElementById("display_product_old_price"+prefix).innerHTML=number_format(b[2],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_saving_price"+prefix)&&(document.getElementById("display_product_saving_price"+prefix).innerHTML=number_format(b[3],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("main_price"+prefix)&&(document.getElementById("main_price"+prefix).value=b[0]),document.getElementById("product_price_no_vat"+prefix)&&(document.getElementById("product_price_no_vat"+prefix).value=b[5],document.getElementById("main_price"+a)&&(document.getElementById("main_price"+a).value=b[0]),document.getElementById("product_price_no_vat"+a)&&(document.getElementById("product_price_no_vat"+a).value=b[5]),document.getElementById("product_old_price"+a)&&(document.getElementById("product_old_price"+a).value=b[2])),document.getElementById("product_old_price"+prefix)&&(document.getElementById("product_old_price"+prefix).value=b[2])}},request.open("GET",l,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(null)}function changePropertyDropdown(a,b,c,d,e,f,g){var q,h=arguments,j=[],k=[],l="",m="",n="",o="",p="";document.getElementById("isAjaxBoxOpen")&&(p=document.getElementById("isAjaxBoxOpen").value);var r="";"viewajaxdetail"==p&&(r="ajax_"),q=0!=b?r+"acc_":0!=c?r+"rel_":r+"prd_";var s=q+a+"_"+b+"_"+d;if(document.getElementById("subattdata_"+s)&&(o=document.getElementById("subattdata_"+s).value),n=n+"&subatthtml="+o,n=n+"&product_id="+a,n=n+"&attribute_id="+d,n=n+"&accessory_id="+b,n=n+"&relatedprd_id="+c,document.getElementsByName("property_id_"+s+"[]")){for(var t=document.getElementsByName("property_id_"+s+"[]"),u=0,v=0;v<t.length;v++)"checkbox"==t[v].type||"radio"==t[v].type?t[v].checked&&(j[u++]=t[v].value):t[v].selectedIndex&&(j[u++]=t[v].options[t[v].selectedIndex].value);for(var x=0;x<j.length;x++){var y='[name="subproperty_id_'+s+"_"+j[x]+'[]"]';jQuery(y).length&&("radio"==jQuery(y).attr("type")||"checkbox"==jQuery(y).attr("type")?k.push(jQuery(y+":checked").val()):k.push(jQuery(y).val()))}l=j.join(","),m=k.join(","),n=n+"&property_id="+l,n=n+"&subproperty_id="+m}var z=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displaySubProperty&tmpl=component&isAjaxBox="+p;z+=n,request=getHTTPObject(),request.onreadystatechange=function(){if(document.getElementById("property_responce"+s)&&(document.getElementById("property_responce"+s).style.display="none"),4!=request.readyState&&document.getElementById("rs_image_loader")&&(document.getElementById("rs_image_loader").style.display="block"),4==request.readyState){var d=j.length>0?j[0]:0;if(document.getElementById("property_responce"+s)){document.getElementById("property_responce"+s).innerHTML=request.responseText,document.getElementById("property_responce"+s).style.display="";for(var e=0;e<j.length;e++){d=j[e];var k=s+"_"+d;if(document.getElementById("divsubimgscroll"+k)){var l=document.getElementById("divsubimgscroll"+k).innerHTML;if(""!=l){var m=l.split("#_#"),n="isFlowers"+k;n=new ImageScroller("isFlowersFrame"+k,"isFlowersImageRow"+k);var o="subproperty_id_"+k,p="";for(i=0;i<m.length;i++){p=m[i].match(/\d+/g);var q=p[0],r=document.getElementById(o+"_name"+q).value;n.addThumbnail(m[i],"javascript:isFlowers"+k+".scrollImageCenter('"+i+"');setSubpropImage('"+a+"','"+o+"','"+q+"');calculateTotalPrice('"+a+"','"+c+"');displayAdditionalImage('"+a+"','"+b+"','"+c+"','"+d+"','"+q+"');",r,"",o+"_subpropimg_"+q,"")}var t=50;t=g>f?g:f,n.setThumbnailHeight(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_HEIGHT"))),n.setThumbnailWidth(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_WIDTH"))),n.setThumbnailPadding(5),n.setScrollType(0),n.enableThumbBorder(!1),n.setClickOpenType(1),n.setThumbsShown(redSHOP.RSConfig._("NOOF_SUBATTRIB_THUMB_FOR_SCROLLER")),n.setNumOfImageToScroll(1),n.renderScroller(),window["isFlowers"+k]=n}}}}if(displayAdditionalImage(a,b,c,d,0),calculateTotalPrice(a,c),jQuery('select:not(".disableBootstrapChosen")').select2(),redSHOP.onChangePropertyDropdown.length>0)for(var u=0,v=redSHOP.onChangePropertyDropdown.length;u<v;u++)new redSHOP.onChangePropertyDropdown[u](h,j)}},request.open("GET",z,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(null)}function display_image(a,b,c){redSHOP.RSConfig._("PRODUCT_DETAIL_IS_LIGHTBOX")||(document.getElementById("a_main_image"+b).href=c),document.getElementById("main_image"+b).src=a}function display_image_out(a,b,c){document.getElementById("main_image"+b).src=c}function display_image_add(a,b){document.getElementById("main_image"+b)&&(document.getElementById("main_image"+b).src=a)}function display_image_add_out(a,b){document.getElementById("main_image"+b)&&(""!=subproperty_main_image?document.getElementById("main_image"+b).src=subproperty_main_image:document.getElementById("main_image"+b).src=a)}function collectAttributes(a,b,c){var d,e=[],f=[],g=[],h=0,i=0,j=0,k=!0,l=!0,m=!0,n="",o="",p=jQuery("#isAjaxBoxOpen").val(),q=jQuery("#product_preorder"+a).val(),r=jQuery("#product_stock"+a).val(),s=jQuery("#preorder_product_stock"+a).val(),t="",u=1;jQuery("#accquantity_"+a+"_"+b).length&&(u=jQuery("#accquantity_"+a+"_"+b).val()),"viewajaxdetail"==p&&(t="ajax_"),0!=b?(d=t+"acc_",h=parseFloat(jQuery("#accessory_id_"+a+"_"+b).attr("accessoryprice")),i=parseFloat(jQuery("#accessory_id_"+a+"_"+b).attr("accessorywithoutvatprice")),j=h):(d=0!=c?t+"rel_":t+"prd_",h=parseFloat(jQuery("#main_price"+a).val()),j=parseFloat(jQuery("#product_old_price"+a).val()),jQuery("#product_price_excluding_price"+a).length?i=parseFloat(jQuery("#product_price_excluding_price"+a).val()):jQuery("#product_price_no_vat"+a).length&&(i=parseFloat(jQuery("#product_price_no_vat"+a).val())));var v=d+a+"_"+b,w=d+a;k&&(k=checkProductStockRoom(r,w,q,s));var x=jQuery('[name="attribute_id_'+v+'[]"]');x.length<=0&&1==redSHOP.RSConfig._("AJAX_CART_BOX")&&(n=jQuery("#requiedAttribute").val(),o=jQuery("#requiedProperty").val()),x.each(function(c,h){var p=h.value;v=d+a+"_"+b+"_"+p,e.push(p);var r=jQuery('[name="property_id_'+v+'[]"]');if(r.length){setPropertyImage(a,"property_id_"+v);var t=[],u=[];if(r.each(function(a,b){"checkbox"==b.type||"radio"==b.type?b.checked&&0!=b.value&&u.push(b.value):b.selectedIndex&&0!=b.options[b.selectedIndex].value&&u.push(b.options[b.selectedIndex].value),b.required&&t.push(b.getAttribute("attribute_name"))}),u.length&&f.push(u.join(",,")),t.length&&!u.length&&(n+=Joomla.JText._("COM_REDSHOP_ATTRIBUTE_IS_REQUIRED")+" "+unescape(t.join("<br>"))+"\n"),l&&m){var x="property_id_"+v+"_oprand",y="property_id_"+v+"_proprice",z="property_id_"+v+"_proprice_withoutvat";j=calculateSingleProductPrice(j,x,y,u),i=calculateSingleProductPrice(i,x,z,u)}var A=!1,B=[];u.each(function(c){var e="property_id_"+v+"_stock"+c,f="property_id_"+v+"_preorderstock"+c;jQuery("#"+e).length>0&&jQuery("#"+f).length>0&&k&&0==b&&(k=checkProductStockRoom(jQuery("#"+e).val(),w,q,jQuery("#"+f).val()));var h=d+a+"_"+b+"_"+p+"_"+c,n='[name="subproperty_id_'+h+'[]"]';if(jQuery(n).length){setSubpropertyImage(a,"subproperty_id_"+h),A=!0;var r=[];if("radio"==jQuery(n).attr("type")||"checkbox"==jQuery(n).attr("type")?r.push(jQuery(n+":checked").val()):r.push(jQuery(n).val()),r.each(function(a){var c="#subproperty_id_"+h+"_stock"+a,d="#subproperty_id_"+h+"_preOrderStock"+a;1==redSHOP.RSConfig._("USE_STOCKROOM")&&jQuery(c).length&&0==b&&(k=checkProductStockRoom(jQuery(c).val(),w,q,jQuery(d).val()))}),1==jQuery(n).attr("required")&&r.length&&(o+=jQuery("#subprop_lbl").html()+" "+unescape(jQuery(n).attr("subpropName"))+"\n"),l&&m){var s="subproperty_id_"+h+"_oprand",t="subproperty_id_"+h+"_proprice",u="subproperty_id_"+h+"_proprice_withoutvat";j=calculateSingleProductPrice(j,s,t,r),i=calculateSingleProductPrice(i,s,u,r)}B.push(r.join("::"))}g.push(B.join(",,"))})}}),h=i,h>0&&(h*=1+redSHOP.RSConfig._("BASE_TAX")),0==f.length&&(e=[]),0!=b?(jQuery("#acc_attribute_data").val(e.join("##")),jQuery("#acc_property_data").val(f.join("##")),jQuery("#acc_subproperty_data").val(g.join("##")),jQuery("#accessory_price").val(h),jQuery("#accessory_price_withoutvat").val(i)):(jQuery("#attribute_data").val(e.join("##")),jQuery("#property_data").val(f.join("##")),jQuery("#subproperty_data").val(g.join("##")),jQuery("#tmp_product_price").val(h),jQuery("#productprice_notvat").val(i),jQuery("#tmp_product_old_price").val(j)),jQuery("#requiedAttribute").val(n),jQuery("#requiedProperty").val(o)}function checkProductStockRoom(a,b,c,d){var e="instock";return a>0?e=1==redSHOP.RSConfig._("USE_AS_CATALOG")?"outofstock":"instock":0==a&&(e="global"==c&&1!=redSHOP.RSConfig._("ALLOW_PRE_ORDER")||""==c&&1!=redSHOP.RSConfig._("ALLOW_PRE_ORDER")||"no"==c?1==redSHOP.RSConfig._("USE_AS_CATALOG")?"instock":"outofstock":0==d?1==redSHOP.RSConfig._("USE_AS_CATALOG")?"preorder":"outofstock":1==redSHOP.RSConfig._("USE_AS_CATALOG")?"outofstock":"preorder"),redSHOP.updateStockStatusMessage(e,b),"instock"==e}function calculateSingleProductPrice(a,b,c,d){var e=!0;a=parseFloat(a);for(var f=0;f<d.length&&0!=d[f];f++){var g=d[f],h=jQuery("#"+b+g).val(),i=parseFloat(jQuery("#"+c+g).val());if("-"==h)a-=i;else if("+"==h)a+=i;else if("*"==h)a*=i;else if("/"==h)a/=i;else if("="==h){a=i,e=!1;break}}return a}function calculateTotalPrice(a,b){if(0==a||""==a)return!1;var c=0,d=0,e=0,f=0,g=0,h=1,i=parseFloat(collectAccessory(a,b)),j=0!=b?b:a,k=0,l=0;collectAttributes(a,0,b),jQuery("#tmp_product_old_price").length&&(g=parseFloat(jQuery("#tmp_product_old_price").val())),jQuery("#accessory_price_withoutvat").length&&(f=parseFloat(jQuery("#accessory_price_withoutvat").val())),jQuery("#quantity"+j).length&&(h=jQuery("#quantity"+j).val()),jQuery("#tmp_product_price").length&&(c=parseFloat(jQuery("#tmp_product_price").val())),jQuery("#hidden_subscription_prize").length&&(c+=parseFloat(jQuery("#hidden_subscription_prize").val())),jQuery("#productprice_notvat").length&&(d=parseFloat(jQuery("#productprice_notvat").val())),jQuery("#tmp_product_old_price").length&&(e=parseFloat(jQuery("#tmp_product_old_price").val())),setWrapperComboBox(),jQuery("#wrapper_price").length&&(k=parseFloat(jQuery("#wrapper_price").val())),jQuery("#wrapper_price_withoutvat").length&&(l=parseFloat(jQuery("#wrapper_price_withoutvat").val())),final_price_f=c+i+k,product_price_without_vat=d+f+l,g=e+i+k,savingprice=parseFloat(g)-parseFloat(final_price_f),"1"==redSHOP.RSConfig._("SHOW_PRICE")?!final_price_f||"1"==redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&"1"!=redSHOP.RSConfig._("SHOW_QUOTATION_PRICE")?(final_price=getPriceReplacement(final_price_f),final_price_novat=getPriceReplacement(product_price_without_vat)):(final_price=number_format(final_price_f,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),final_price_novat=number_format(product_price_without_vat,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))):(final_price=getPriceReplacement(final_price_f),final_price_novat=getPriceReplacement(product_price_without_vat)),"1"==redSHOP.RSConfig._("SHOW_PRICE")&&("1"!=redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")||redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE"))&&("1"==redSHOP.RSConfig._("SHOW_PRICE_WITHOUT_VAT")?(jQuery("#produkt_kasse_hoejre_pris_indre"+a).html(final_price_novat),jQuery("#display_product_discount_price"+a).html(final_price_novat)):(jQuery("#produkt_kasse_hoejre_pris_indre"+a).html(final_price),jQuery("#display_product_discount_price"+a).html(final_price)),product_price_without_vat?product_price_without_vat=number_format(product_price_without_vat,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):product_price_without_vat=getPriceReplacement(product_price_without_vat),jQuery("#display_product_price_without_vat"+a).html(product_price_without_vat),jQuery("#display_product_price_no_vat"+a).html(product_price_without_vat),jQuery("#display_product_old_price"+a).length&&(g=g?number_format(g,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):getPriceReplacement(g),jQuery("#display_product_old_price"+a).html(g)),jQuery("#display_product_saving_price"+a).length&&(savingprice=number_format(savingprice,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),jQuery("#display_product_saving_price"+a).html(savingprice)),jQuery("#rs_selected_accessory_price").html(final_price))}function collectAccessory(a,b){if(0==a||""==a)return!1;var c="",d="",e=0,f=0,g=0,h=0,k=0,m=[],n=[],o=[],p=[],q=[];if(document.getElementById("isAjaxBoxOpen")&&(c=document.getElementById("isAjaxBoxOpen").value),"viewajaxdetail"==c&&(d="ajax_"),document.getElementsByName("accessory_id_"+d+a+"[]")){if(dcatt=document.getElementsByName("accessory_id_"+d+a+"[]"),document.getElementById("giftcard_id")&&document.getElementById("giftcard_id").value>0&&0==dcatt.length)return!0;var r=dcatt.length;for(j=0;j<r;j++){var s=0,t=0,u=dcatt[j].value,v=d+a+"_"+u,w=0,x=0;acc_chk=document.getElementById("accessory_id_"+v),document.getElementById("attribute_id_"+v)&&(x=document.getElementById("attribute_id_"+v)),w=dcatt[j].checked;var y=1;0!=b?qid=b:qid=a,y=document.getElementById("accquantity_"+v)?document.getElementById("accquantity_"+v).value:document.getElementById("quantity"+qid)&&"select-one"==document.getElementById("quantity"+qid).type?document.getElementById("quantity"+qid).value:1,w?(m[k]=u,n[k]=y,collectAttributes(a,u,b),document.getElementById("accessory_price")&&(s=parseFloat(document.getElementById("accessory_price").value)),document.getElementById("accessory_price_withoutvat")&&(t=parseFloat(document.getElementById("accessory_price_withoutvat").value)),document.getElementById("acc_attribute_data")&&(o[k]=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(p[k]=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(q[k]=document.getElementById("acc_subproperty_data").value),document.getElementById("divaccstatus"+v)&&(document.getElementById("divaccstatus"+v).className="accessorystatus added"),k++):document.getElementById("divaccstatus"+v)&&(document.getElementById("divaccstatus"+v).className="accessorystatus"),f+=parseFloat(s)*y,g+=parseFloat(t)*y}e+=parseFloat(f),h+=parseFloat(g),document.getElementById("accessory_data")&&(document.getElementById("accessory_data").value=m.join("@@")),document.getElementById("acc_quantity_data")&&(document.getElementById("acc_quantity_data").value=n.join("@@")),document.getElementById("acc_attribute_data")&&(document.getElementById("acc_attribute_data").value=o.join("@@")),document.getElementById("acc_property_data")&&(document.getElementById("acc_property_data").value=p.join("@@")),document.getElementById("acc_subproperty_data")&&(document.getElementById("acc_subproperty_data").value=q.join("@@")),document.getElementById("accessory_price")&&(document.getElementById("accessory_price").value=e),document.getElementById("accessory_price_withoutvat")&&(document.getElementById("accessory_price_withoutvat").value=h)}return e}function number_format(a,b,c,d){var e=a,f=b;e*=redSHOP.RSConfig._("CURRENCY_CONVERT");var g=function(a,b){var c=Math.pow(10,b);return(Math.round(a*c)/c).toString()};e=isFinite(+e)?+e:0,f=isFinite(+f)?Math.abs(f):0;var l,m,h="undefined"==typeof d?",":d,i="undefined"==typeof c?".":c,j=f>0?g(e,f):g(Math.round(e),f),k=g(Math.abs(e),f);k>=1e3?(l=k.split(/\D/),m=l[0].length%3||3,l[0]=j.slice(0,m+(e<0))+l[0].slice(m).replace(/(\d{3})/g,h+"$1"),j=l.join(i)):j=j.replace(".",i);var n=j.indexOf(i);f>=1&&n!==-1&&j.length-n-1<f?j+=new Array(f-(j.length-n-1)).join(0)+"0":f>=1&&n===-1&&(j+=i+new Array(f).join(0)+"0");var o="";return o="front"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+j:"behind"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?j+redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT"):"none"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?j:redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+j}function getPriceReplacement(a){var b="";return"0"==redSHOP.RSConfig._("SHOW_PRICE")&&(url=redSHOP.RSConfig._("PRICE_REPLACE_URL"),""==url&&(url="#"),b="<a href='"+url+"'>"+redSHOP.RSConfig._("PRICE_REPLACE")+"</a>"),"1"==redSHOP.RSConfig._("SHOW_PRICE")&&0==a&&(url=redSHOP.RSConfig._("ZERO_PRICE_REPLACE_URL"),""==url&&(url="#"),b="<a href='"+url+"'>"+redSHOP.RSConfig._("ZERO_PRICE_REPLACE")+"</a>",null===url&&null===redSHOP.RSConfig._("ZERO_PRICE_REPLACE"))?"":b}function setWrapper(a,b,c,d){document.getElementById("wrapper_id")&&(document.getElementById("wrapper_id").value=a),document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=a),document.getElementById("wrapper_price").value=b,document.getElementById("wrapper_price_withoutvat").value=c,calculateTotalPrice(d,0)}function setPropImage(a,b,c){var d=document.getElementById(b);if(d)if("checkbox"==d.type||"radio"==d.type)for(var e=document.getElementsByName(b+"[]"),f=0;f<e.length;f++){var g=e[f].value;g==c&&(e[f].checked=!0)}else for(var f=0;f<d.options.length;f++){var g=d.options[f].value;g==c&&(d.options[f].selected=!0)}}function setSubpropImage(a,b,c){var d=document.getElementById(b);if(d)if("checkbox"==d.type||"radio"==d.type)for(var e=document.getElementsByName(b+"[]"),f=0;f<e.length;f++){e[f].value;e[f].value==c&&(e[f].checked=!0)}else for(var f=0;f<d.options.length;f++){d.options[f].value;d.options[f].value==c&&(d.options[f].selected=!0)}}function setPropertyImage(a,b){var c=0,d=document.getElementById(b);if(d)if("checkbox"==d.type||"radio"==d.type)for(var e=document.getElementsByName(b+"[]"),f=0;f<e.length;f++){var g="";c=e[f].value,e[f].checked&&(g="1px solid"),document.getElementById(b+"_propimg_"+c)&&(document.getElementById(b+"_propimg_"+c).style.border=g)}else for(var f=0;f<d.length;f++){var g="";c=d[f].value,d[d.selectedIndex].value==c&&(g="1px solid"),document.getElementById(b+"_propimg_"+c)&&(document.getElementById(b+"_propimg_"+c).style.border=g)}}function setSubpropertyImage(a,b,c){var c=0,d=document.getElementById(b);if(d)if("checkbox"==d.type||"radio"==d.type)for(var e=document.getElementsByName(b+"[]"),f=0;f<e.length;f++){var g="";c=e[f].value,e[f].checked&&(g="1px solid"),document.getElementById(b+"_subpropimg_"+c)&&(document.getElementById(b+"_subpropimg_"+c).style.border=g)}else for(var f=0;f<d.length;f++){var g="";c=d[f].value,d[d.selectedIndex].value==c&&(g="1px solid"),document.getElementById(b+"_subpropimg_"+c)&&(document.getElementById(b+"_subpropimg_"+c).style.border=g)}}function displayAdditionalImage(a,b,c,d,e){var f="&product_id="+a;f=f+"&accessory_id="+b,f=f+"&relatedprd_id="+c,f=f+"&property_id="+d,f=f+"&subproperty_id="+e;var g="";if(0!=b?(prefix="acc_",a=b):0!=c?prefix="rel_":prefix="prd_",collectAttributes(a,0,c),document.getElementById("property_data")){var h=document.getElementById("property_data").value;f=f+"&property_data="+encodeURIComponent(h)}if(document.getElementById("subproperty_data")){var i=document.getElementById("subproperty_data").value;f=f+"&subproperty_data="+encodeURIComponent(i)}document.getElementById(prefix+"main_imgwidth")&&(f=f+"&main_imgwidth="+parseInt(document.getElementById(prefix+"main_imgwidth").value)),document.getElementById(prefix+"main_imgheight")&&(f=f+"&main_imgheight="+parseInt(document.getElementById(prefix+"main_imgheight").value));var j=0;if(document.getElementById("a_main_image"+a)||document.getElementById("main_image"+a)){var k="";if(document.getElementById("a_main_image"+a)){var l=document.getElementById("a_main_image"+a).href;"undefined"!=typeof l&&(l=l.split(""),k=l.reverse(),k=k.join(""),l=k.split("."),l=l[0].split(""),k=l.reverse(),k=k.join(""))}else{var l=document.getElementById("main_image"+a).src;"undefined"!=typeof l&&(l=l.split(""),k=l.reverse(),k=k.join(""),l=k.split("."),l=l[0].split(""),k=l.reverse(),k=k.join(""),k=k.split("&"),k=k[0])}k=k.toLowerCase(),"jpg"!=k&&"jpeg"!=k&&"png"!=k&&"gif"!=k&&"bmp"!=k||(j=1)}var m=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayAdditionImage&redview="+redSHOP.RSConfig._("REDSHOP_VIEW")+"&redlayout="+redSHOP.RSConfig._("REDSHOP_LAYOUT")+"&tmpl=component";m+=f,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){g=request.responseText;var b=g.split("`_`");""!=b[9]&&document.getElementById("product_number_variable"+a)&&(document.getElementById("product_number_variable"+a).innerHTML=b[9]),subproperty_main_image=b[4],document.getElementById("a_main_image"+a)&&(""!=b[2]&&1==j&&(document.getElementById("a_main_image"+a).href=b[2]),""!=b[3]&&(document.getElementById("a_main_image"+a).title=b[3])),document.getElementById("main_image"+a).src=b[4],document.getElementsByClassName("product_more_videos")[0].innerHTML=b[16],document.getElementById("additional_images"+a)&&""!=b[1]&&(document.getElementById("additional_images"+a).innerHTML=b[1]),document.getElementById("hidden_attribute_cartimage"+a)&&(document.getElementById("hidden_attribute_cartimage"+a).value=b[12]),document.getElementById("stockImage"+a)&&""!=b[5]&&(document.getElementById("stockImage"+a).src=b[5]),document.getElementById("stockImageTooltip"+a)&&""!=b[6]&&(document.getElementById("stockImageTooltip"+a).innerHTML=b[6]),document.getElementById("displayProductInStock"+a)&&""!=b[10]&&(document.getElementById("displayProductInStock"+a).innerHTML=b[10]),document.getElementById("ProductAttributeMinDelivery"+a)&&""!=b[7]&&(document.getElementById("ProductAttributeMinDelivery"+a).innerHTML=b[7]),document.getElementById("stock_status_div"+a)&&""!=b[11]&&(document.getElementById("stock_status_div"+a).innerHTML=b[11]),document.getElementById("notify_stock"+a)&&(document.getElementById("notify_stock"+a).innerHTML=b[13]),document.getElementById("stock_availability_date_lbl"+a)&&(document.getElementById("stock_availability_date_lbl"+a).innerHTML=b[14]),document.getElementById("stock_availability_date"+a)&&(document.getElementById("stock_availability_date"+a).innerHTML=b[15]);var c={isenable:!0,mainImage:!1};preloadSlimbox(c)}},request.open("GET",m,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(null)}function preloadSlimbox(a){if(a.isenable){var b={handler:"image"},c={handler:"iframe",size:{x:800,y:500}};redBOX.initialize({}),a.mainImage?redBOX.assign($$("a[rel='myallimg']"),b):(redBOX.assign($$(".additional_image > a[rel='myallimg']"),b),redBOX.assign($$("[id^='additional_vids_'] > a.modal"),c))}}function setWrapperComboBox(){document.getElementById("wrapper_id")&&document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=document.getElementById("wrapper_id").value);var a=document.getElementsByName("w_price"),b=0;document.getElementById("sel_wrapper_id")&&(b=document.getElementById("sel_wrapper_id").value);var c=0,d=0;for(document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&0!=b&&(c=document.getElementById("w_price"+b).value,d=document.getElementById("w_price_withoutvat"+b).value),document.getElementById("wrapper_price")&&(document.getElementById("wrapper_price").value=c),document.getElementById("wrapper_price_withoutvat")&&(document.getElementById("wrapper_price_withoutvat").value=d),i=0;i<a.length;i++){var e=a[i].id.substr(7);document.getElementById("wrappertd"+e)&&(e==b?(document.getElementById("wrappertd"+e).style.border="1px solid",document.getElementById("wrappertd"+e).style.padding="7px"):(document.getElementById("wrappertd"+e).style.border="",document.getElementById("wrappertd"+e).style.padding=""))}}function discountCalculation(a){var b=0,c=0,d=0,e=0,f="cm",g="cm",h="",i=0,j=0,k="",l=0;if(document.getElementById("calc_height")&&(b=document.getElementById("calc_height").value,""==b))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT")),!1;if(document.getElementById("calc_width")&&(c=document.getElementById("calc_width").value,""==c))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH")),!1;if(document.getElementById("calc_depth")&&(d=document.getElementById("calc_depth").value,""==d))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH")),!1;if(document.getElementById("calc_radius")&&(e=document.getElementById("calc_radius").value,""==e))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS")),!1;if(document.getElementById("discount_calc_unit")&&(f=document.getElementById("discount_calc_unit").value,0==f))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT")),!1;document.getElementById("calc_unit")&&(g=document.getElementById("calc_unit").value);var m=[];if(document.getElementsByName("pdc_option_name[]"))for(var n=document.getElementsByName("pdc_option_name[]"),o=0,p=0;p<n.length;p++){var q=n[p];q.checked&&(m[o]=q.value,o++)}return m=m.join(","),http=getHTTPObject(),null==http?void alert("Your browser does not support XMLHTTP!"):(http.onreadystatechange=function(){if(4==http.readyState){var b=http.responseText;if(b=b.replace(/^\s+|\s+$/g,""),"fail"==b)return alert(Joomla.JText._("COM_REDSHOP_NOT_AVAILABLE")),!1;b=b.split("\n");for(var c=document.getElementsByName("quantity"),d=1,e=0;e<c.length;e++)c[e].id=="ajax_quantity"+a?d=c[e].value:c[e].id=="quantity"+a&&(d=c[e].value);h=b[0],i=b[1],j=b[2],price_excl_vat=b[7];var f=number_format(i,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),g=number_format(j,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));d<=0&&(d=1),l=parseFloat(j)*d;var m=number_format(l,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));if(k=b[3]+h+"<br />",k+=b[4]+f+"<br />",k+=b[5]+g+"<br />",k+=b[6]+m,document.getElementById("discount_cal_final_price")&&(document.getElementById("discount_cal_final_price").innerHTML=k),document.getElementById("main_price"+a)){var n=document.getElementById("main_price"+a).value;if("1"==redSHOP.RSConfig._("SHOW_PRICE")&&("1"!=redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")||redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE"))){var o=parseFloat(n)+parseFloat(l);if(1==b[8])var p=l+price_excl_vat*d;else var p=l*d;m=number_format(o,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),formatted_product_price_excl_vat=number_format(p,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),document.getElementById("produkt_kasse_hoejre_pris_indre"+a)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+a).innerHTML=formatted_product_price_excl_vat,document.getElementById("display_product_price_no_vat"+a)&&(document.getElementById("display_product_price_no_vat"+a).innerHTML=m),document.getElementById("product_price_no_vat"+a)&&(document.getElementById("product_price_no_vat"+a).value=o)),document.getElementById("product_price_incl_vat"+a)&&(document.getElementById("product_price_incl_vat"+a).innerHTML=formatted_product_price_excl_vat),document.getElementById("main_price"+a).value=p}calculateTotalPrice(a,0)}}},http.open("GET",redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart&task=discountCalculator&product_id="+a+"&calcHeight="+b+"&calcWidth="+c+"&calcDepth="+d+"&calcRadius="+e+"&calcUnit="+f+"&pdcextraid="+m+"&tmpl=component",!0),http.setRequestHeader("X-Requested-With","XMLHttpRequest"),void http.send(null))}function setProductUserFieldImage(a,b,c,d){for(var e=document.getElementsByClassName("imgClass_"+b),f=0;f<e.length;f++)removeClass(e[f],"selectedimg");document.getElementById(a+"_"+b)&&(document.getElementById(a+"_"+b).value=c,d.className+=" selectedimg"),document.getElementById("ajax"+a+"_"+b)&&(document.getElementById("ajax"+a+"_"+b).value=c),document.getElementById(a)&&(document.getElementById(a).value=c)}function removeClass(a,b){if(hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}function hasClass(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function RedgetElementsByClassName(a){var b=[],c=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<c.length;i++)c[i].className==a&&(b[j]=c[i],
j++);return b}function getElementsByClassName(a){var b=[],c=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<c.length;i++)c[i].className==a&&(b[j]=c[i],j++);return b}function displayAddtocartForm(a,b,c,d,e){return 0!=b&&""!=b&&(redSHOP.updateCartExtraFields(jQuery("#"+e+" :input:not(:button, :hidden)"),b,"#"+a),jQuery("#requiedAttribute").val(jQuery("#"+a+" [name=requiedAttribute]").attr("reattribute")),jQuery("#requiedProperty").val(jQuery("#"+a+" [name=requiedProperty]").attr("reproperty")),0==d&&calculateTotalPrice(b,c),!!setAddtocartForm(a,b))}function setAddtocartForm(a,b){var c=document.getElementById(a);document.getElementById("Itemid")&&(c.Itemid.value=document.getElementById("Itemid").value),document.getElementById("attribute_data")&&(c.attribute_data.value=document.getElementById("attribute_data").value),document.getElementById("property_data")&&(c.property_data.value=document.getElementById("property_data").value),document.getElementById("subproperty_data")&&(c.subproperty_data.value=document.getElementById("subproperty_data").value),document.getElementById("accessory_data")&&(c.accessory_data.value=document.getElementById("accessory_data").value),document.getElementById("acc_quantity_data")&&(c.acc_quantity_data.value=document.getElementById("acc_quantity_data").value),document.getElementById("acc_attribute_data")&&(c.acc_attribute_data.value=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(c.acc_property_data.value=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(c.acc_subproperty_data.value=document.getElementById("acc_subproperty_data").value),document.getElementById("accessory_price")&&(c.accessory_price.value=document.getElementById("accessory_price").value),document.getElementById("requiedAttribute")&&(c.requiedAttribute.value=document.getElementById("requiedAttribute").value),document.getElementById("requiedProperty")&&(c.requiedProperty.value=document.getElementById("requiedProperty").value);var d=1;if(document.getElementById("quantity"+b).value&&(d=document.getElementById("quantity"+b).value),document.getElementById("hidden_attribute_cartimage"+b)&&(c.hidden_attribute_cartimage.value=document.getElementById("hidden_attribute_cartimage"+b).value),0!=parseInt(c.min_quantity.value)&&parseInt(c.min_quantity.value)>d)return alert(c.min_quantity.getAttribute("requiredtext")+" "+parseInt(c.min_quantity.value)),!1;if(0!=parseInt(c.max_quantity.value)&&parseInt(c.max_quantity.value)<d)return alert(c.max_quantity.getAttribute("requiredtext")+" "+parseInt(c.max_quantity.value)),!1;if(document.getElementById("calc_height")){var e=document.getElementById("calc_height").value;if(""==e)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT")),!1;c.calcHeight.value=e}if(document.getElementById("calc_width")){var f=document.getElementById("calc_width").value;if(""==f)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH")),!1;c.calcWidth.value=f}if(document.getElementById("calc_depth")){var g=document.getElementById("calc_depth").value;if(""==g)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH")),!1;c.calcDepth.value=g}if(document.getElementById("calc_radius")){var h=document.getElementById("calc_radius").value;if(""==h)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS")),!1;c.calcRadius.value=h}if(document.getElementById("discount_calc_unit")){if(calUnit=document.getElementById("discount_calc_unit").value,0==calUnit)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT")),!1;c.calcUnit.value=calUnit}var i=[];if(document.getElementsByName("pdc_option_name[]"))for(var j=document.getElementsByName("pdc_option_name[]"),k=0,l=0;l<j.length;l++){var m=j[l];m.checked&&(i[k]=m.value,k++)}if(i=i.join(","),c.pdcextraid.value=i,document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;c.subscription_id.value=subId}return!0}function checkAddtocartValidation(a,b,c,d,e,f,g,h){if(0==b||""==b)return!1;if(0==redSHOP.RSConfig._("AJAX_CART_BOX")){var y=userfieldValidation("extrafields"+b);if(!y)return!1;var z=document.getElementById(a).requiedAttribute.value,A=document.getElementById(a).requiedProperty.value;if(""!=z)return alert(z),!1;if(""!=A)return alert(A),!1;document.getElementById(a).submit()}else{var B=parseInt(f)+parseInt(g)+parseInt(h);if(0!=d)submitAjaxCartdetail(a,b,c,d,f,g,h);else{var C=!0,y=userfieldValidation("extrafields"+b);y||(C=!1);var z=document.getElementById(a).requiedAttribute.value,A=document.getElementById(a).requiedProperty.value;""!=z&&(C=!1),""!=A&&(C=!1),B>0&&0==C?displayAjaxCartdetail(a,b,c,d,f,g,h):submitAjaxCartdetail(a,b,c,d,f,g,h)}}}function displayAjaxCartdetail(a,b,c,d,e,f,g){if(0==b||""==b)return!1;var h="";document.getElementById("isAjaxBoxOpen")&&(h=document.getElementById("isAjaxBoxOpen").value);for(var p=(document.getElementById(a),document.getElementsByName("extrafields"+b+"[]")),q="",r="",s="",t=!1,u="",v="",w=!1,x="",y="",z=0;z<p.length;z++)if(p[z].value||"text"!=p[z].type)if(p[z].value||"select-one"!=p[z].type)if(p[z].value||"hidden"!=p[z].type){if("checkbox"==p[z].type){if(s=redSHOP.filterExtraFieldName(p[z].id),""!=r&&r!=s&&0==t&&(q+=r+","),r!=s&&(r=s,t=!1),p[z].checked||1==t){t=!0;continue}(z==p.length-1&&0==t||"checkbox"!=p[z+1].type&&0==t)&&(q+=r+",")}else if("radio"==p[z].type){if(v=redSHOP.filterExtraFieldName(p[z].id),""!=u&&u!=v&&0==w&&(q+=u+","),u!=v&&(u=v,w=!1),p[z].checked||1==w){w=!0;continue}(z==p.length-1&&0==w||"radio"!=p[z+1].type&&0==w)&&(q+=u+",")}else if("select-multiple"==p[z].type){if(y=redSHOP.filterExtraFieldName(p[z].id),p[z].value)continue;q+=y+","}}else x=redSHOP.filterExtraFieldName(p[z].id),q+=x,p.length-1!=z&&(q+=",");else q+=p[z].id,p.length-1!=z&&(q+=",");else q+=p[z].id,p.length-1!=z&&(q+=",");var A=RedgetElementsByClassName("calendar"),B="";for(cal_i=0;cal_i<A.length;cal_i++){var C=A[cal_i].id;arr=C.split("_img"),n=arr.length;var D=arr[0];""!=D&&""==document.getElementById(D).value&&(B=redSHOP.filterExtraFieldName(D),q+=","+B+",")}var E="";if(document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;E="&subscription_id="+subId}var F=1,G="";request=getHTTPObject(),document.getElementById("quantity"+b).value&&(F=document.getElementById("quantity"+b).value);var H=document.getElementById(a).requiedAttribute.value,I=document.getElementById(a).requiedProperty.value,J=document.getElementById(a).accessory_data.value;0==q&&(g=0),""==H&&""==I&&(e=0);var K=[];f>0&&""!=J&&0!=J&&(K=J.split("@@"),f==K.length&&(f=0));var L=parseInt(e)+parseInt(f)+parseInt(g),M=parseInt(e)+parseInt(g);if(f>0&&0==M&&K.length>0||0==L||"viewajaxdetail"==h)submitAjaxCartdetail(a,b,c,d,e,f,g);else{var N="&property_data="+encodeURIComponent(document.getElementById(a).property_data.value);N=N+"&subproperty_data="+encodeURIComponent(document.getElementById(a).subproperty_data.value),N=N+"&accessory_data="+encodeURIComponent(document.getElementById(a).accessory_data.value),N=N+"&acc_quantity_data="+encodeURIComponent(document.getElementById(a).acc_quantity_data.value),N=N+"&acc_property_data="+encodeURIComponent(document.getElementById(a).acc_property_data.value),N=N+"&acc_subproperty_data="+encodeURIComponent(document.getElementById(a).acc_subproperty_data.value);var G="option=com_redshop&view=product&pid="+b+"&relatedprd_id="+c+"&layout=viewajaxdetail&product_quantity="+F+"&tmpl=component&nextrafield="+g+"&extrafieldNames="+q+E+N,O=redSHOP.RSConfig._("SITE_URL")+"index.php?"+G;request.onreadystatechange=function(){if(4==request.readyState&&200==request.status){var a=request.responseText,b={url:O,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_HEIGHT"))},htmldata:a};redBOX.initialize({}),document.attbox=redBOX.open(null,b);var c={isenable:!1,mainImage:!1};preloadSlimbox(c);var d=RedgetElementsByClassName("calendar");for(i=0;i<d.length;i++){var e=d[i].id;arr=e.split("_img"),n=arr.length;var f=arr[0],g=f.split("ajax");e.search("ajax")!=-1&&q.search(g[0])!=-1&&window.addEvent("domready",function(){Calendar.setup({inputField:f,ifFormat:"%d-%m-%Y",button:d[i].id,align:"Tl",singleClick:!0})})}}},request.open("POST",O,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.send(G)}}function submitAjaxCartdetail(a,b,c,d,e,f,g){var h=document.getElementById(a),i="";if(!userfieldValidation("extrafields"+b))return!1;var k=jQuery("#"+a+" [name=requiedAttribute]").val(),l=jQuery("#"+a+" [name=requiedProperty]").val();if(0!=k&&""!=k)return alert(k),!1;if(0!=l&&""!=l)return alert(l),!1;extraFieldPost=redSHOP.updateAjaxCartExtraFields(jQuery('[name^="extrafields'+b+'"]'),b).join("&");var m="";if(document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;m="&subscription_id="+subId}document.getElementById("giftcard_id")?(i="&giftcard_id="+b,document.getElementById("reciver_email")&&(i+="&reciver_email="+document.getElementById("reciver_email").value),document.getElementById("reciver_name")&&(i+="&reciver_name="+document.getElementById("reciver_name").value),document.getElementById("customer_amount")&&(i+="&customer_amount="+document.getElementById("customer_amount").value)):i="&product_id="+b,request=getHTTPObject();var n="ajax_cart_box=1";if(n=n+"&Itemid="+h.Itemid.value+i,n=n+"&category_id="+h.category_id.value,n=n+"&attribute_data="+h.attribute_data.value,n=n+"&property_data="+h.property_data.value,n=n+"&subproperty_data="+h.subproperty_data.value,n=n+"&requiedAttribute="+h.requiedAttribute.value,n=n+"&requiedProperty="+h.requiedProperty.value,n=n+"&accessory_data="+h.accessory_data.value,n=n+"&acc_quantity_data="+h.acc_quantity_data.value,n=n+"&acc_attribute_data="+h.acc_attribute_data.value,n=n+"&acc_property_data="+h.acc_property_data.value,n=n+"&acc_subproperty_data="+h.acc_subproperty_data.value,n=n+"&accessory_price="+h.accessory_price.value,document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&(n=n+"&sel_wrapper_id="+h.sel_wrapper_id.value),n=n+"&quantity="+h.quantity.value,n=n+"&hidden_attribute_cartimage="+h.hidden_attribute_cartimage.value,document.getElementById("calc_height")&&(n=n+"&calcHeight="+h.calcHeight.value),document.getElementById("calc_width")&&(n=n+"&calcWidth="+h.calcWidth.value),document.getElementById("calc_depth")&&(n=n+"&calcDepth="+h.calcDepth.value),document.getElementById("calc_radius")&&(n=n+"&calcRadius="+h.calcRadius.value),document.getElementById("calc_unit")&&(n=n+"&calcUnit="+h.calcUnit.value),n=n+"&pdcextraid="+h.pdcextraid.value,n=n+m+"&"+extraFieldPost,redShopJsTrigger.length>0)for(var o=0,p=redShopJsTrigger.length;o<p;o++)new redShopJsTrigger[o](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)n+="&"+key+"="+getExtraParamsArray[key];request.open("POST",redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart&task=add&tmpl=component",!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("X-Requested-With","XMLHttpRequest");var q=!0;request.onreadystatechange=function(){if(4==request.readyState){var a=request.responseText;if(a=a.split("`"),"0"==a[1])return alert(a[2]),!1;document.attbox&&document.attbox.close(),document.getElementById("mod_cart_total")&&a[1]&&(document.getElementById("mod_cart_total").innerHTML=a[1]),document.getElementById("rs_promote_free_shipping_div")&&a[2]&&(document.getElementById("rs_promote_free_shipping_div").innerHTML=a[2]),document.getElementById("mod_cart_checkout_ajax")&&(document.getElementById("mod_cart_checkout_ajax").style.display="");var c=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&pid="+b+"&r_template=cartbox&tmpl=component";request_inner=getHTTPObject(),request_inner.onreadystatechange=function(){if(4==request_inner.readyState&&200==request_inner.status&&q){var a=request_inner.responseText;q=!1;var b={url:c,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_BOX_HEIGHT"))},htmldata:a,onOpen:function(){if(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME")>0){(function(){this.close()}).bind(this).delay(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME"))}}};redBOX.initialize({}),document.ajaxbox=redBOX.open(null,b)}},request_inner.open("GET",c,!0),request_inner.setRequestHeader("X-Requested-With","XMLHttpRequest"),request_inner.send(null)}},request.send(n)}function displayAddtocartProperty(a,b,c,d){return document.getElementById("attribute_data")&&(document.getElementById("attribute_data").value=c),document.getElementById("property_data")&&(document.getElementById("property_data").value=d),document.getElementById("subproperty_data")&&(document.getElementById("subproperty_data").value=""),!!setAddtocartForm(a,b)}function showallreviews(){document.getElementById("showreviews")&&("none"==document.getElementById("showreviews").style.display?document.getElementById("showreviews").style.display="":document.getElementById("showreviews").style.display="none")}function checkAddtocartwishlistValidation(a,b,c,d,e,f,g,h,i){if(0==b||""==b)return!1;if(1==i){var z=userfieldValidation("extrafields"+b);if(!z)return!1;var A=document.getElementById(a).requiedAttribute.value,B=document.getElementById(a).requiedProperty.value;return""!=A?(alert(A),!1):""==B||(alert(B),!1)}return submitAjaxCartdetail(a,b,c,d,f,g,h),!0}function productalladdprice(a){var b=1;mainpro_id=document.frm.product_id.value.split(","),totatt=document.frm.totacc_id.value.split(","),totcount_no_user_field=document.frm.totcount_no_user_field.value.split(","),mainpro_id.length=mainpro_id.length-1;for(var c=0;c<mainpro_id.length;c++)if(""!=mainpro_id[c]&&displayAddtocartForm("addtocart_prd_"+mainpro_id[c],mainpro_id[c],"0","0","user_fields_form")&&!checkAddtocartwishlistValidation("addtocart_prd_"+mainpro_id[c],mainpro_id[c],"0","0","user_fields_form",totatt[c],"",totcount_no_user_field[c],b))return!1;submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[0],mainpro_id[0],0,0,totatt[0],0,totcount_no_user_field[0],a)}function submitAjaxwishlistCartdetail(a,b,c,e,f,g,h,i){displayAddtocartForm("addtocart_prd_"+mainpro_id[d],mainpro_id[d],"0","0","user_fields_form");var j=document.getElementById(a),k=[],l=jQuery("#"+a+' [name="requiedAttribute"]').val(),m=jQuery("#"+a+' [name="requiedProperty"]').val();if(!userfieldValidation("extrafields"+b))return!1;if(0!=l&&""!=l)return alert(l),!1;if(0!=m&&""!=m)return alert(m),!1;var n=redSHOP.updateAjaxCartExtraFields(jQuery('[name^="extrafields'+b+'"]'),b).join("&");if(jQuery("#hidden_subscription_id").length>0){if(subId=jQuery("#hidden_subscription_id").val(),0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;k.push("subscription_id="+subId)}jQuery("#giftcard_id").length>0?(k.push("giftcard_id="+b),k.push("reciver_email="+jQuery("#reciver_email").val()),k.push("reciver_name="+jQuery("#reciver_name").val()),k.push("customer_amount="+jQuery("#customer_amount").val())):k.push("product_id="+b),request=getHTTPObject(),k.push("Itemid="+j.Itemid.value),k.push("category_id="+j.category_id.value),k.push("attribute_data="+j.attribute_data.value),k.push("property_data="+j.property_data.value),k.push("subproperty_data="+j.subproperty_data.value),k.push("requiedAttribute="+j.requiedAttribute.value),k.push("requiedProperty="+j.requiedProperty.value),k.push("accessory_data="+j.accessory_data.value),k.push("acc_quantity_data="+j.acc_quantity_data.value),k.push("acc_attribute_data="+j.acc_attribute_data.value),k.push("acc_property_data="+j.acc_property_data.value),k.push("acc_subproperty_data="+j.acc_subproperty_data.value),k.push("accessory_price="+j.accessory_price.value),k.push("sel_wrapper_id="+j.sel_wrapper_id.value),k.push("quantity=1"),k.push("pdcextraid="+j.pdcextraid.value),document.getElementById("calc_height")&&k.push("calcHeight="+j.calcHeight.value),document.getElementById("calc_width")&&k.push("calcWidth="+j.calcWidth.value),document.getElementById("calc_depth")&&k.push("calcDepth="+j.calcDepth.value),document.getElementById("calc_radius")&&k.push("calcRadius="+j.calcRadius.value),document.getElementById("calc_unit")&&k.push("calcUnit="+j.calcUnit.value);var o=k.join("&")+"&"+n;if(redShopJsTrigger.length>0)for(var p=0,q=redShopJsTrigger.length;p<q;p++)new redShopJsTrigger[p](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)o+="&"+key+"="+getExtraParamsArray[key];var r=redSHOP.RSConfig._("SITE_URL")+"index.php";r+=1==i||2==i?"?option=com_redshop&view=product&task=addtowishlist&wid=1&ajaxon=1&tmpl=component":"?option=com_redshop&view=cart&task=add&tmpl=component&ajax_cart_box=1",/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",r,!0):request.open("POST",r,!1),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",o.length),request.setRequestHeader("Connection","close"),request.onreadystatechange=function(){if(request.readyState<4&&jQuery("#saveid, #allcart").html('<font size="1" color="red">Processing...</font>'),4==request.readyState){var a=request.responseText;if(a=a.split("`"),"0"==a[1])return!1;document.attbox&&document.attbox.close(),d++;var b=mainpro_id.length;if(d<b)""!=mainpro_id[d]&&submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[d],mainpro_id[d],0,0,totatt[d],0,totcount_no_user_field[d]);else if(1==i)window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?wishlist=1&option=com_redshop&view=login";else{if(2==i)return!1;window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart"}jQuery("#saveid, #allcart").html(""),a[1]&&jQuery("#mod_cart_total").html(a[1]),a[2]&&jQuery("#rs_promote_free_shipping_div").html(a[2]),jQuery("#mod_cart_checkout_ajax").hide()}},request.send(o)}function addmywishlist(a,b,c){for(var d=document.getElementsByName("extrafields"+b+"[]"),e="",f="",g="",h="",i="",k="",l="",m=!1,o="",p=0;p<d.length;p++)if("checkbox"==d[p].type)i=redSHOP.filterExtraFieldName(d[p].id),""!=h&&h!=i&&""!=f&&(g+="&"+h+"="+f),h!=i&&(f="",h=i),d[p].checked&&(""!=f&&(f+=","),f+=d[p].value),p==d.length-1&&""!=f&&(g+="&"+i+"="+f),p<d.length-1&&"checkbox"!=d[p+1].type&&""!=f&&(g+="&"+i+"="+f);else if("radio"==d[p].type){if(l=redSHOP.filterExtraFieldName(d[p].id),""!=k&&k!=l&&0==m&&(g+="&"+k+"="+f),k!=l){if(f="",k=l,m=!1,d[p].checked||1==m){m=!0,g+="&"+k+"="+d[p].value;continue}}else if(d[p].checked){m=!0,g+="&"+l+"="+d[p].value;continue}}else if("select-multiple"==d[p].type){var q=d[p];f="",o=redSHOP.filterExtraFieldName(d[p].id);for(var r=0;r<q.options.length;r++)if(q.options[r].selected){var s=f;s.search(String(q.options[r].value))==-1&&(""!=f&&(f+=","),f+=String(q.options[r].value))}f&&(g+="&"+o+"="+f)}else if("hidden"==d[p].type)imgfieldNamefrmId=redSHOP.filterExtraFieldName(d[p].id),e=imgfieldNamefrmId,f=d[p].value,g+="&"+e+"="+f,f="";else if("text"==d[p].type)e=d[p].id,f=d[p].value,g+="&"+e+"="+f;else{if(d[p].id.search("ajax")!=-1){var t=d[p].id.split("ajax"),u="";u=redSHOP.filterExtraFieldName(t[1]),d[p].id=u}e=d[p].id,f=d[p].value,g+="&"+e+"="+f}var v=RedgetElementsByClassName("calendar"),u="";for(cal_i=0;cal_i<v.length;cal_i++){var w=v[cal_i].id;arr=w.split("_img"),n=arr.length;var x=arr[0];""!=x&&x.search(b)&&""!=document.getElementById(x).value&&(u=redSHOP.filterExtraFieldName(x),g+="&"+u+"="+document.getElementById(x).value)}request=getHTTPObject();var y="option=com_redshop&view=product&task=addtowishlist&json=1&ajaxon=1&tmpl=component";y=y+"&Itemid="+c,y=y+"&product_id="+b,y=y+"&userfield_id="+d.length,y+=g;var z=redSHOP.RSConfig._("SITE_URL")+"index.php?"+y;/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",z,!0):request.open("POST",z,!1),request.setRequestHeader("X-Requested-With","XMLHttpRequest"),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",y.length),request.setRequestHeader("Connection","close");request.onreadystatechange=function(){if(request.readyState<4&&(document.getElementById("myprohide_"+b).innerHTML='<font size="1" color="red">Loading...</font>'),4==request.readyState&&200==request.status){var c=(request.responseText,document.getElementById("mypid").innerHTML),d=request.responseText;sp=d.split(":-:"),c.search(sp[1])==-1&&(document.getElementById("mypid").innerHTML+=sp[0],document.getElementById("wid").style.display="block",document.getElementById("myprohide_"+b).innerHTML="")}},request.send(y)}function getStocknotify(a,b,c){var d=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=addNotifystock&tmpl=component&product_id="+a;d=d+"&property_id="+b+"&subproperty_id="+c,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){var b=request.responseText;document.getElementById("notify_stock"+a)&&(document.getElementById("notify_stock"+a).innerHTML=b)}},request.open("GET",d,!0),request.setRequestHeader("X-Requested-With","XMLHttpRequest")}redSHOP=window.redSHOP||{},redSHOP.setProductTax=function(a){a.id=a.id||0,a.price=a.price||0,a.userId=a.userId||0,a.taxExempt=a.taxExempt||!1,a.option="com_redshop",a.view="cart",a.task="cart.ajaxGetProductTax",a.tmpl="component",jQuery.ajax({url:redSHOP.RSConfig._("AJAX_BASE_URL"),type:"POST",dataType:"json",data:a}).done(function(a){redSHOP.baseTax=a.tax})},redSHOP.filterExtraFieldName=function(a){return a=reverseString(a),reverseString(a.substr(a.indexOf("_")+1))},redSHOP.collectExtraFields=function(a,b){var c={name:a.id.replace("_"+b,""),value:jQuery(a).val()};switch(a.type){case"checkbox":case"radio":c.name=redSHOP.filterExtraFieldName(a.id),c.value=jQuery("[id^="+c.name+"]:checked").val()}return c},redSHOP.updateCartExtraFields=function(a,b,c){jQuery.each(a,function(a,d){var e=redSHOP.collectExtraFields(d,b);jQuery(c+" input[id="+e.name+"]").val(e.value)})},redSHOP.updateAjaxCartExtraFields=function(a,b){var c=[];return jQuery.each(a,function(a,d){var e=redSHOP.collectExtraFields(d,b);c.push(e.name+"="+e.value)}),c},window.addEvent("domready",function(){var a={isenable:!0,mainImage:!0};preloadSlimbox(a);var b={handler:"iframe"};redBOX.assign($$(".redcolorproductimg"),b),redBOX.assign($$("a.redbox"),{parse:"rel"}),redSHOP.setProductTax({id:0,price:1})});var r_browser=!1,subproperty_main_image="",request;redSHOP.onChangePropertyDropdown=[],redSHOP.updateStockStatusMessage=function(a,b){var c="inline-block",d="inline-block",e="inline-block",f="inline-block",g="";"instock"==a?(c="inline-block",f="inline-block",d="none",e="none",g=Joomla.JText._("COM_REDSHOP_AVAILABLE_STOCK")):(c="none",f="none","preorder"==a?(d="none",e="inline-block",g=Joomla.JText._("COM_REDSHOP_PREORDER_PRODUCT_OUTOFSTOCK_MESSAGE")):(d="inline-block",e="none",g=Joomla.JText._("COM_REDSHOP_PRODUCT_OUTOFSTOCK_MESSAGE"))),document.getElementById("pdaddtocart"+b)&&(document.getElementById("pdaddtocart"+b).style.display=c),document.getElementById("stockaddtocart"+b)&&(document.getElementById("stockaddtocart"+b).style.display=d),document.getElementById("stockaddtocart"+b)&&(document.getElementById("stockaddtocart"+b).innerHTML=g),document.getElementById("preordercart"+b)&&(document.getElementById("preordercart"+b).style.display=e),document.getElementById("stockQuantity"+b)&&(document.getElementById("stockQuantity"+b).style.display=f)};var getExtraParamsArray={},redShopJsTrigger=[],mainpro_id=[],totatt=[],totcount_no_user_field=[],d=0;

