function getHTTPObject(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e}function productaddprice(e,t){var r=1;if(0!=t?prefix=t:prefix=e,document.getElementById("accessory_data"))var n=document.getElementById("accessory_data").value;if(document.getElementById("acc_quantity_data"))var a=document.getElementById("acc_quantity_data").value;if(document.getElementById("acc_attribute_data"))var d=document.getElementById("acc_attribute_data").value.replace("##","::");if(document.getElementById("acc_property_data"))var o=document.getElementById("acc_property_data").value.replace("##","::");if(document.getElementById("acc_subproperty_data"))var i=document.getElementById("acc_subproperty_data").value.replace("##","::");if(document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)&&(r=document.getElementById("quantity"+prefix).value),document.getElementById("attribute_data"))var c=document.getElementById("attribute_data").value.replace("##","::");if(document.getElementById("property_data"))var l=document.getElementById("property_data").value.replace("##","::");if(document.getElementById("subproperty_data"))var u=document.getElementById("subproperty_data").value.replace("##","::");var m=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayProductaddprice&tmpl=component&qunatity="+r;m=m+"&product_id="+e+"&attribute_data="+c+"&property_data="+l+"&subproperty_data="+u,m=m+"&accessory_data="+n+"&acc_quantity_data="+a+"&acc_attribute_data="+d+"&acc_property_data="+o+"&acc_subproperty_data="+i,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){var t=request.responseText.split(":"),n=0,a=0;document.getElementById("wrapper_price")&&(n=parseFloat(document.getElementById("wrapper_price").value)),document.getElementById("wrapper_price_withoutvat")&&(a=parseFloat(document.getElementById("wrapper_price_withoutvat").value)),document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix).innerHTML=number_format(parseFloat(t[0])+n*r,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_discount_price"+prefix)&&(document.getElementById("display_product_discount_price"+prefix).innerHTML=number_format(t[4],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_price_without_vat"+prefix)&&(document.getElementById("display_product_price_without_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+a*r,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_price_no_vat"+prefix)&&(document.getElementById("display_product_price_no_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+a*r,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_old_price"+prefix)&&(document.getElementById("display_product_old_price"+prefix).innerHTML=number_format(t[2],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("display_product_saving_price"+prefix)&&(document.getElementById("display_product_saving_price"+prefix).innerHTML=number_format(t[3],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))),document.getElementById("main_price"+prefix)&&(document.getElementById("main_price"+prefix).value=t[0]),document.getElementById("product_price_no_vat"+prefix)&&(document.getElementById("product_price_no_vat"+prefix).value=t[5],document.getElementById("main_price"+e)&&(document.getElementById("main_price"+e).value=t[0]),document.getElementById("product_price_no_vat"+e)&&(document.getElementById("product_price_no_vat"+e).value=t[5]),document.getElementById("product_old_price"+e)&&(document.getElementById("product_old_price"+e).value=t[2])),document.getElementById("product_old_price"+prefix)&&(document.getElementById("product_old_price"+prefix).value=t[2])}},request.open("GET",m,!0),request.send(null)}function changePropertyDropdown(e,t,r,n,a,d,o){var c,l=arguments,u=new Array,m=new Array,_="",p="",s="",g="",y="";document.getElementById("isAjaxBoxOpen")&&(y=document.getElementById("isAjaxBoxOpen").value);var E="";"viewajaxdetail"==y&&(E="ajax_"),c=0!=t?E+"acc_":0!=r?E+"rel_":E+"prd_";var v=c+e+"_"+t+"_"+n;if(document.getElementById("subattdata_"+v)&&(g=document.getElementById("subattdata_"+v).value),s=s+"&subatthtml="+g,s=s+"&product_id="+e,s=s+"&attribute_id="+n,s=s+"&accessory_id="+t,s=s+"&relatedprd_id="+r,document.getElementsByName("property_id_"+v+"[]")){for(var I=document.getElementsByName("property_id_"+v+"[]"),f=0,B=0;B<I.length;B++)"checkbox"==I[B].type||"radio"==I[B].type?I[B].checked&&(u[f++]=I[B].value):I[B].selectedIndex&&(u[f++]=I[B].options[I[B].selectedIndex].value);for(var S=0,h=0;h<u.length;h++){var R=v+"_"+u[h];if(document.getElementsByName("subproperty_id_"+R+"[]"))for(var O=document.getElementsByName("subproperty_id_"+R+"[]"),B=0;B<O.length;B++)"checkbox"==O[B].type||"radio"==O[B].type?O[B].checked&&(m[S++]=O[B].value):O[B].selectedIndex&&(m[S++]=O[B].options[O[B].selectedIndex].value)}_=u.join(","),p=m.join(","),s=s+"&property_id="+_,s=s+"&subproperty_id="+p}var b=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displaySubProperty&tmpl=component&isAjaxBox="+y;b+=s,request=getHTTPObject(),request.onreadystatechange=function(){if(document.getElementById("property_responce"+v)&&(document.getElementById("property_responce"+v).style.display="none"),4!=request.readyState&&document.getElementById("rs_image_loader")&&(document.getElementById("rs_image_loader").style.display="block"),4==request.readyState){var n=u.length>0?u[0]:0;if(document.getElementById("property_responce"+v)){document.getElementById("property_responce"+v).innerHTML=request.responseText,document.getElementById("property_responce"+v).style.display="";for(var a=0;a<u.length;a++){n=u[a];var c=v+"_"+n;if(document.getElementById("divsubimgscroll"+c)){var m=document.getElementById("divsubimgscroll"+c).innerHTML;if(""!=m){var _=m.split("#_#"),p="isFlowers"+c;p=new ImageScroller("isFlowersFrame"+c,"isFlowersImageRow"+c);var s="subproperty_id_"+c,g="";for(i=0;i<_.length;i++){g=_[i].match(/\d+/g);var y=g[0],E=document.getElementById(s+"_name"+y).value;p.addThumbnail(_[i],"javascript:isFlowers"+c+".scrollImageCenter('"+i+"');setSubpropImage('"+e+"','"+s+"','"+y+"');calculateTotalPrice('"+e+"','"+r+"');displayAdditionalImage('"+e+"','"+t+"','"+r+"','"+n+"','"+y+"');",E,"",s+"_subpropimg_"+y,"")}var I=50;I=o>d?o:d,p.setThumbnailHeight(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_HEIGHT"))),p.setThumbnailWidth(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_WIDTH"))),p.setThumbnailPadding(5),p.setScrollType(0),p.enableThumbBorder(!1),p.setClickOpenType(1),p.setThumbsShown(redSHOP.RSConfig._("NOOF_SUBATTRIB_THUMB_FOR_SCROLLER")),p.setNumOfImageToScroll(1),p.renderScroller(),window["isFlowers"+c]=p}}}}displayAdditionalImage(e,t,r,n,0),calculateTotalPrice(e,r),onchangePropertyDropdown(l)}},request.open("GET",b,!0),request.send(null)}function onchangePropertyDropdown(e){return!0}function display_image(e,t,r){redSHOP.RSConfig._("PRODUCT_DETAIL_IS_LIGHTBOX")||(document.getElementById("a_main_image"+t).href=r),document.getElementById("main_image"+t).src=e}function display_image_out(e,t,r){document.getElementById("main_image"+t).src=r}function display_image_add(e,t){document.getElementById("main_image"+t)&&(document.getElementById("main_image"+t).src=e)}function display_image_add_out(e,t){document.getElementById("main_image"+t)&&(""!=subproperty_main_image?document.getElementById("main_image"+t).src=subproperty_main_image:document.getElementById("main_image"+t).src=e)}function collectAttributes(e,t,r){var n,a=new Array,d=new Array,o=new Array,i=0,c=0,l=0,u=!0,m=!0,_=!0,p="",s="",g="",y=1;if(document.getElementById("accquantity_"+e+"_"+t)&&(y=document.getElementById("accquantity_"+e+"_"+t).value),document.getElementById("product_preorder"+e))var E=document.getElementById("product_preorder"+e).value;if(document.getElementById("product_stock"+e))var v=document.getElementById("product_stock"+e).value;if(document.getElementById("preorder_product_stock"+e))var I=document.getElementById("preorder_product_stock"+e).value;document.getElementById("isAjaxBoxOpen")&&(g=document.getElementById("isAjaxBoxOpen").value);var f="";"viewajaxdetail"==g&&(f="ajax_"),0!=t?(n=f+"acc_",document.getElementById("accessory_id_"+e+"_"+t)&&(i=parseFloat(document.getElementById("accessory_id_"+e+"_"+t).getAttribute("accessoryprice")),c=parseFloat(document.getElementById("accessory_id_"+e+"_"+t).getAttribute("accessorywithoutvatprice"))),l=i):0!=r?(n=f+"rel_",document.getElementById("main_price"+e)&&(i=parseFloat(document.getElementById("main_price"+e).value)),document.getElementById("product_price_excluding_price"+e)?c=parseFloat(document.getElementById("product_price_excluding_price"+e).value):document.getElementById("product_price_no_vat"+e)&&(c=parseFloat(document.getElementById("product_price_no_vat"+e).value)),document.getElementById("product_old_price"+e)&&(l=parseFloat(document.getElementById("product_old_price"+e).value))):(n=f+"prd_",document.getElementById("main_price"+e)&&(i=parseFloat(document.getElementById("main_price"+e).value)),document.getElementById("product_price_excluding_price"+e)?c=parseFloat(document.getElementById("product_price_excluding_price"+e).value):document.getElementById("product_price_no_vat"+e)&&(c=parseFloat(document.getElementById("product_price_no_vat"+e).value)),document.getElementById("product_old_price"+e)&&(l=parseFloat(document.getElementById("product_old_price"+e).value)));var B=n+e+"_"+t,S=n+e;if(document.getElementsByName("attribute_id_"+B+"[]"))for(var h=document.getElementsByName("attribute_id_"+B+"[]"),R=0;R<h.length;R++)a[R]=h[R].value;u&&(u=checkProductStockRoom(v,S,E,I)),a.length<=0&&1==redSHOP.RSConfig._("AJAX_CART_BOX")&&(document.getElementById("requiedAttribute")&&(p=document.getElementById("requiedAttribute").value),document.getElementById("requiedProperty")&&(s=document.getElementById("requiedProperty").value));for(var R=0;R<a.length;R++){var O=a[R];B=n+e+"_"+t+"_"+O;var b=document.getElementsByName("property_id_"+B+"[]");if(b.length>0){setPropertyImage(e,"property_id_"+B);for(var P=0,T=[],C=[],x=0;x<b.length;x++)"checkbox"==b[x].type||"radio"==b[x].type?b[x].checked&&0!=b[x].value&&(C[P++]=b[x].value):b[x].selectedIndex&&0!=b[x].options[b[x].selectedIndex].value&&(C[P++]=b[x].options[b[x].selectedIndex].value),b[x].required&&T.push(b[x].getAttribute("attribute_name"));if(C.length>0&&(d[R]=C.join(",,")),T.length>0&&0==C.length&&(p+=Joomla.JText._("COM_REDSHOP_ATTRIBUTE_IS_REQUIRED")+" "+unescape(T[0])+"\n"),m&&_){var A="property_id_"+B+"_oprand",H="property_id_"+B+"_proprice",w=calculateSingleProductPrice(i,A,H,C);i=w[1];var w=calculateSingleProductPrice(l,A,H,C);l=w[1],H="property_id_"+B+"_proprice_withoutvat",w=calculateSingleProductPrice(c,A,H,C),c=w[1]}for(var q=!1,k=new Array,x=0;x<C.length;x++){var L=C[x],N="property_id_"+B+"_stock"+L,M="property_id_"+B+"_preorderstock"+L;document.getElementById(N)&&document.getElementById(M)&&u&&0==t&&(u=checkProductStockRoom(document.getElementById(N).value,S,E,document.getElementById(M).value));var j=n+e+"_"+t+"_"+O+"_"+L,U=document.getElementById("subproperty_id_"+j);if(U){setSubpropertyImage(e,"subproperty_id_"+j),q=!0;var D=document.getElementsByName("subproperty_id_"+j+"[]");P=0;for(var F=new Array,J=0;J<D.length;J++)"checkbox"==D[J].type||"radio"==D[J].type?D[J].checked&&D[J].value&&(F[P++]=D[J].value):D[J].selectedIndex&&D[J].options[D[J].selectedIndex].value&&(F[P++]=D[J].options[D[J].selectedIndex].value);for(var J=0;J<F.length;J++){var N="subproperty_id_"+j+"_stock"+F[J],X="subproperty_id_"+j+"_preOrderStock"+F[J];1==redSHOP.RSConfig._("USE_STOCKROOM")&&document.getElementById(N)&&0==t&&(u=checkProductStockRoom(document.getElementById(N).value,S,E,document.getElementById(X).value))}if(1==U.getAttribute("required")&&0==F.length&&(s+=document.getElementById("subprop_lbl").innerHTML+" "+unescape(U.getAttribute("subpropName"))+"\n"),m&&_){var A="subproperty_id_"+j+"_oprand",H="subproperty_id_"+j+"_proprice",W=calculateSingleProductPrice(i,A,H,F);i=W[1];var W=calculateSingleProductPrice(l,A,H,F);l=W[1],H="subproperty_id_"+j+"_proprice_withoutvat",W=calculateSingleProductPrice(c,A,H,F),c=W[1]}k[x]=F.join("::")}}o[R]=k.join(",,")}}0==d.length&&(a=new Array),0!=t?(document.getElementById("acc_attribute_data")&&(document.getElementById("acc_attribute_data").value=a.join("##")),document.getElementById("acc_property_data")&&(document.getElementById("acc_property_data").value=d.join("##")),document.getElementById("acc_subproperty_data")&&(document.getElementById("acc_subproperty_data").value=o.join("##")),document.getElementById("accessory_price")&&(document.getElementById("accessory_price").value=i),document.getElementById("accessory_price_withoutvat")&&(document.getElementById("accessory_price_withoutvat").value=c)):(document.getElementById("attribute_data")&&(document.getElementById("attribute_data").value=a.join("##")),document.getElementById("property_data")&&(document.getElementById("property_data").value=d.join("##")),document.getElementById("subproperty_data")&&(document.getElementById("subproperty_data").value=o.join("##")),document.getElementById("tmp_product_price")&&(document.getElementById("tmp_product_price").value=i),document.getElementById("productprice_notvat")&&(document.getElementById("productprice_notvat").value=c),document.getElementById("tmp_product_old_price")&&(document.getElementById("tmp_product_old_price").value=l)),document.getElementById("requiedAttribute")&&(document.getElementById("requiedAttribute").value=p),document.getElementById("requiedProperty")&&(document.getElementById("requiedProperty").value=s)}function checkProductStockRoom(e,t,r,n){var a="instock";return e>0?a=1==redSHOP.RSConfig._("USE_AS_CATALOG")?"outofstock":"instock":0==e&&(a="global"==r&&1!=redSHOP.RSConfig._("ALLOW_PRE_ORDER")||""==r&&1!=redSHOP.RSConfig._("ALLOW_PRE_ORDER")||"no"==r?1==redSHOP.RSConfig._("USE_AS_CATALOG")?"instock":"outofstock":0==n?1==redSHOP.RSConfig._("USE_AS_CATALOG")?"preorder":"outofstock":1==redSHOP.RSConfig._("USE_AS_CATALOG")?"outofstock":"preorder"),redSHOP.updateStockStatusMessage(a,t),"instock"==a}function calculateSingleProductPrice(e,t,r,n){var a=!0;e=parseFloat(e);for(var d=0;d<n.length;d++){var o=n[d],i=document.getElementById(t+o).value,c=document.getElementById(r+o).value;if("-"==i)e-=parseFloat(c);else if("+"==i)e+=parseFloat(c);else if("*"==i)e*=parseFloat(c);else if("/"==i)e/=parseFloat(c);else if("="==i){e=parseFloat(c),a=!1;break}}var l=new Array;return l[0]=a,l[1]=e,l}function calculateTotalPrice(e,t){if(0==e||""==e)return!1;var r=0,n=0,a=0,d=0,o=0,i=collectAccessory(e,t),c=1;0!=t?prefix=t:prefix=e,document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)&&(c=document.getElementById("quantity"+prefix).value),document.getElementById("accessory_price_withoutvat")&&(d=parseFloat(document.getElementById("accessory_price_withoutvat").value)),collectAttributes(e,0,t),document.getElementById("tmp_product_price")&&(r=parseFloat(document.getElementById("tmp_product_price").value)),document.getElementById("hidden_subscription_prize")&&(r=parseFloat(r)+parseFloat(document.getElementById("hidden_subscription_prize").value)),document.getElementById("productprice_notvat")&&(n=parseFloat(document.getElementById("productprice_notvat").value)),document.getElementById("tmp_product_old_price")&&(a=parseFloat(document.getElementById("tmp_product_old_price").value)),setWrapperComboBox();var l=0;document.getElementById("wrapper_price")&&(l=document.getElementById("wrapper_price").value);var u=0;document.getElementById("wrapper_price_withoutvat")&&(u=document.getElementById("wrapper_price_withoutvat").value),final_price_f=parseFloat(r)+parseFloat(i)+parseFloat(l),product_price_without_vat=parseFloat(n)+parseFloat(d)+parseFloat(u),o=parseFloat(a)+parseFloat(i)+parseFloat(l),savingprice=parseFloat(o)-parseFloat(final_price_f),"1"==redSHOP.RSConfig._("SHOW_PRICE")?!final_price_f||"1"==redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&"1"!=redSHOP.RSConfig._("SHOW_QUOTATION_PRICE")?final_price=getPriceReplacement(final_price_f):final_price=number_format(final_price_f,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):final_price=getPriceReplacement(final_price_f),"1"==redSHOP.RSConfig._("SHOW_PRICE")&&("1"!=redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")||redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE"))&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+e)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+e).innerHTML=final_price),document.getElementById("display_product_discount_price"+e)&&(document.getElementById("display_product_discount_price"+e).innerHTML=final_price),product_price_without_vat?product_price_without_vat=number_format(product_price_without_vat,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):product_price_without_vat=getPriceReplacement(product_price_without_vat),document.getElementById("display_product_price_without_vat"+e)&&(document.getElementById("display_product_price_without_vat"+e).innerHTML=product_price_without_vat),document.getElementById("display_product_price_no_vat"+e)&&(document.getElementById("display_product_price_no_vat"+e).innerHTML=product_price_without_vat),document.getElementById("display_product_old_price"+e)&&(o=o?number_format(o,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")):getPriceReplacement(o),document.getElementById("display_product_old_price"+e).innerHTML=o),document.getElementById("display_product_saving_price"+e)&&(savingprice=number_format(savingprice,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),document.getElementById("display_product_saving_price"+e).innerHTML=savingprice),document.getElementById("rs_selected_accessory_price")&&(document.getElementById("rs_selected_accessory_price").innerHTML=final_price))}function collectAccessory(e,t){if(0==e||""==e)return!1;var r="",n="",a=0,d=0,o=0,i=0,c=0,l=new Array,u=new Array,m=new Array,_=new Array,p=new Array;if(document.getElementById("isAjaxBoxOpen")&&(r=document.getElementById("isAjaxBoxOpen").value),"viewajaxdetail"==r&&(n="ajax_"),document.getElementsByName("accessory_id_"+n+e+"[]")){if(dcatt=document.getElementsByName("accessory_id_"+n+e+"[]"),document.getElementById("giftcard_id")&&document.getElementById("giftcard_id").value>0&&0==dcatt.length)return!0;var s=dcatt.length;for(j=0;j<s;j++){var g=0,y=0,E=dcatt[j].value,v=n+e+"_"+E,I=0,f=0;acc_chk=document.getElementById("accessory_id_"+v),document.getElementById("attribute_id_"+v)&&(f=document.getElementById("attribute_id_"+v)),I=dcatt[j].checked;var B=1;0!=t?qid=t:qid=e,B=document.getElementById("accquantity_"+v)?document.getElementById("accquantity_"+v).value:document.getElementById("quantity"+qid)&&"select-one"==document.getElementById("quantity"+qid).type?document.getElementById("quantity"+qid).value:1,I?(l[c]=E,u[c]=B,collectAttributes(e,E,t),document.getElementById("accessory_price")&&(g=parseFloat(document.getElementById("accessory_price").value)),document.getElementById("accessory_price_withoutvat")&&(y=parseFloat(document.getElementById("accessory_price_withoutvat").value)),document.getElementById("acc_attribute_data")&&(m[c]=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(_[c]=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(p[c]=document.getElementById("acc_subproperty_data").value),document.getElementById("divaccstatus"+v)&&(document.getElementById("divaccstatus"+v).className="accessorystatus added"),c++):document.getElementById("divaccstatus"+v)&&(document.getElementById("divaccstatus"+v).className="accessorystatus"),d+=parseFloat(g)*B,o+=parseFloat(y)*B}a+=parseFloat(d),i+=parseFloat(o),document.getElementById("accessory_data")&&(document.getElementById("accessory_data").value=l.join("@@")),document.getElementById("acc_quantity_data")&&(document.getElementById("acc_quantity_data").value=u.join("@@")),document.getElementById("acc_attribute_data")&&(document.getElementById("acc_attribute_data").value=m.join("@@")),document.getElementById("acc_property_data")&&(document.getElementById("acc_property_data").value=_.join("@@")),document.getElementById("acc_subproperty_data")&&(document.getElementById("acc_subproperty_data").value=p.join("@@")),document.getElementById("accessory_price")&&(document.getElementById("accessory_price").value=a),document.getElementById("accessory_price_withoutvat")&&(document.getElementById("accessory_price_withoutvat").value=i)}return a}function number_format(e,t,r,n){var a=e,d=t;a*=redSHOP.RSConfig._("CURRENCY_CONVERT");var o=function(e,t){var r=Math.pow(10,t);return(Math.round(e*r)/r).toString()};a=isFinite(+a)?+a:0,d=isFinite(+d)?Math.abs(d):0;var i,c,l="undefined"==typeof n?",":n,u="undefined"==typeof r?".":r,m=d>0?o(a,d):o(Math.round(a),d),_=o(Math.abs(a),d);_>=1e3?(i=_.split(/\D/),c=i[0].length%3||3,i[0]=m.slice(0,c+(0>a))+i[0].slice(c).replace(/(\d{3})/g,l+"$1"),m=i.join(u)):m=m.replace(".",u);var p=m.indexOf(u);d>=1&&-1!==p&&m.length-p-1<d?m+=new Array(d-(m.length-p-1)).join(0)+"0":d>=1&&-1===p&&(m+=u+new Array(d).join(0)+"0");var s="";return s="front"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+m:"behind"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?m+redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT"):"none"==redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")?m:redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+m}function getPriceReplacement(e){var t="";return"0"==redSHOP.RSConfig._("SHOW_PRICE")&&(url=redSHOP.RSConfig._("PRICE_REPLACE_URL"),""==url&&(url="#"),t="<a href='"+url+"'>"+redSHOP.RSConfig._("PRICE_REPLACE")+"</a>"),"1"==redSHOP.RSConfig._("SHOW_PRICE")&&0==e&&(url=redSHOP.RSConfig._("ZERO_PRICE_REPLACE_URL"),""==url&&(url="#"),t="<a href='"+url+"'>"+redSHOP.RSConfig._("ZERO_PRICE_REPLACE")+"</a>"),t}function setWrapper(e,t,r,n){document.getElementById("wrapper_id")&&(document.getElementById("wrapper_id").value=e),document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=e),document.getElementById("wrapper_price").value=t,document.getElementById("wrapper_price_withoutvat").value=r,calculateTotalPrice(n,0)}function setPropImage(e,t,r){var n=document.getElementById(t);if(n)if("checkbox"==n.type||"radio"==n.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){var o=a[d].value;o==r&&(a[d].checked=!0)}else for(var d=0;d<n.options.length;d++){var o=n.options[d].value;o==r&&(n.options[d].selected=!0)}}function setSubpropImage(e,t,r){var n=document.getElementById(t);if(n)if("checkbox"==n.type||"radio"==n.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){a[d].value;a[d].value==r&&(a[d].checked=!0)}else for(var d=0;d<n.options.length;d++){n.options[d].value;n.options[d].value==r&&(n.options[d].selected=!0)}}function setPropertyImage(e,t){var r=0,n=document.getElementById(t);if(n)if("checkbox"==n.type||"radio"==n.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){var o="";r=a[d].value,a[d].checked&&(o="1px solid"),document.getElementById(t+"_propimg_"+r)&&(document.getElementById(t+"_propimg_"+r).style.border=o)}else for(var d=0;d<n.length;d++){var o="";r=n[d].value,n[n.selectedIndex].value==r&&(o="1px solid"),document.getElementById(t+"_propimg_"+r)&&(document.getElementById(t+"_propimg_"+r).style.border=o)}}function setSubpropertyImage(e,t,r){var r=0,n=document.getElementById(t);if(n)if("checkbox"==n.type||"radio"==n.type)for(var a=document.getElementsByName(t+"[]"),d=0;d<a.length;d++){var o="";r=a[d].value,a[d].checked&&(o="1px solid"),document.getElementById(t+"_subpropimg_"+r)&&(document.getElementById(t+"_subpropimg_"+r).style.border=o)}else for(var d=0;d<n.length;d++){var o="";r=n[d].value,n[n.selectedIndex].value==r&&(o="1px solid"),document.getElementById(t+"_subpropimg_"+r)&&(document.getElementById(t+"_subpropimg_"+r).style.border=o)}}function displayAdditionalImage(e,t,r,n,a){var d="&product_id="+e;d=d+"&accessory_id="+t,d=d+"&relatedprd_id="+r,d=d+"&property_id="+n,d=d+"&subproperty_id="+a;var o="";if(0!=t?(prefix="acc_",e=t):0!=r?prefix="rel_":prefix="prd_",collectAttributes(e,0,r),document.getElementById("property_data")){var i=document.getElementById("property_data").value;d=d+"&property_data="+encodeURIComponent(i)}if(document.getElementById("subproperty_data")){var c=document.getElementById("subproperty_data").value;d=d+"&subproperty_data="+encodeURIComponent(c)}document.getElementById(prefix+"main_imgwidth")&&(d=d+"&main_imgwidth="+parseInt(document.getElementById(prefix+"main_imgwidth").value)),document.getElementById(prefix+"main_imgheight")&&(d=d+"&main_imgheight="+parseInt(document.getElementById(prefix+"main_imgheight").value));var l=0;if(document.getElementById("a_main_image"+e)||document.getElementById("main_image"+e)){var u="";if(document.getElementById("a_main_image"+e)){var m=document.getElementById("a_main_image"+e).href;"undefined"!=typeof m&&(m=m.split(""),u=m.reverse(),u=u.join(""),m=u.split("."),m=m[0].split(""),u=m.reverse(),u=u.join(""))}else{var m=document.getElementById("main_image"+e).src;"undefined"!=typeof m&&(m=m.split(""),u=m.reverse(),u=u.join(""),m=u.split("."),m=m[0].split(""),u=m.reverse(),u=u.join(""),u=u.split("&"),u=u[0])}u=u.toLowerCase(),("jpg"==u||"jpeg"==u||"png"==u||"gif"==u||"bmp"==u)&&(l=1)}var _=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayAdditionImage&redview="+redSHOP.RSConfig._("REDSHOP_VIEW")+"&redlayout="+redSHOP.RSConfig._("REDSHOP_LAYOUT")+"&tmpl=component";_+=d,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){o=request.responseText;var t=o.split("`_`");""!=t[9]&&document.getElementById("product_number_variable"+e)&&(document.getElementById("product_number_variable"+e).innerHTML=t[9]),subproperty_main_image=t[4],document.getElementById("a_main_image"+e)&&(""!=t[2]&&1==l&&(document.getElementById("a_main_image"+e).href=t[2]),""!=t[3]&&(document.getElementById("a_main_image"+e).title=t[3])),""!=t[4]&&document.getElementById("main_image"+e)&&(document.getElementById("main_image"+e).src=t[4]),document.getElementById("additional_images"+e)&&""!=t[1]&&(document.getElementById("additional_images"+e).innerHTML=t[1]),document.getElementById("hidden_attribute_cartimage"+e)&&(document.getElementById("hidden_attribute_cartimage"+e).value=t[12]),document.getElementById("stockImage"+e)&&""!=t[5]&&(document.getElementById("stockImage"+e).src=t[5]),document.getElementById("stockImageTooltip"+e)&&""!=t[6]&&(document.getElementById("stockImageTooltip"+e).innerHTML=t[6]),document.getElementById("displayProductInStock"+e)&&""!=t[10]&&(document.getElementById("displayProductInStock"+e).innerHTML=t[10]),document.getElementById("ProductAttributeMinDelivery"+e)&&""!=t[7]&&(document.getElementById("ProductAttributeMinDelivery"+e).innerHTML=t[7]),document.getElementById("stock_status_div"+e)&&""!=t[11]&&(document.getElementById("stock_status_div"+e).innerHTML=t[11]),document.getElementById("notify_stock"+e)&&(document.getElementById("notify_stock"+e).innerHTML=t[13]),document.getElementById("stock_availability_date_lbl"+e)&&(document.getElementById("stock_availability_date_lbl"+e).innerHTML=t[14]),document.getElementById("stock_availability_date"+e)&&(document.getElementById("stock_availability_date"+e).innerHTML=t[15]);var r={isenable:!0,mainImage:!1};preloadSlimbox(r)}},request.open("GET",_,!0),request.send(null)}function preloadSlimbox(e){if(e.isenable){var t={handler:"image"};redBOX.initialize({}),e.mainImage?redBOX.assign($$("a[rel='myallimg']"),t):redBOX.assign($$(".additional_image > a[rel='myallimg']"),t)}}function setWrapperComboBox(){document.getElementById("wrapper_id")&&document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=document.getElementById("wrapper_id").value);var e=document.getElementsByName("w_price"),t=0;document.getElementById("sel_wrapper_id")&&(t=document.getElementById("sel_wrapper_id").value);var r=0,n=0;for(document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&0!=t&&(r=document.getElementById("w_price"+t).value,n=document.getElementById("w_price_withoutvat"+t).value),document.getElementById("wrapper_price")&&(document.getElementById("wrapper_price").value=r),document.getElementById("wrapper_price_withoutvat")&&(document.getElementById("wrapper_price_withoutvat").value=n),i=0;i<e.length;i++){var a=e[i].id.substr(7);document.getElementById("wrappertd"+a)&&(a==t?(document.getElementById("wrappertd"+a).style.border="1px solid",document.getElementById("wrappertd"+a).style.padding="7px"):(document.getElementById("wrappertd"+a).style.border="",document.getElementById("wrappertd"+a).style.padding=""))}}function discountCalculation(e){var t=0,r=0,n=0,a=0,d="cm",o="cm",i="",c=0,l=0,u="",m=0;if(document.getElementById("calc_height")&&(t=document.getElementById("calc_height").value,""==t))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT")),!1;if(document.getElementById("calc_width")&&(r=document.getElementById("calc_width").value,""==r))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH")),!1;if(document.getElementById("calc_depth")&&(n=document.getElementById("calc_depth").value,""==n))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH")),!1;if(document.getElementById("calc_radius")&&(a=document.getElementById("calc_radius").value,""==a))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS")),!1;if(document.getElementById("discount_calc_unit")&&(d=document.getElementById("discount_calc_unit").value,0==d))return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT")),!1;document.getElementById("calc_unit")&&(o=document.getElementById("calc_unit").value);var _=new Array;if(document.getElementsByName("pdc_option_name[]"))for(var p=document.getElementsByName("pdc_option_name[]"),s=0,g=0;g<p.length;g++){var y=p[g];y.checked&&(_[s]=y.value,s++)}return _=_.join(","),http=getHTTPObject(),null==http?void alert("Your browser does not support XMLHTTP!"):(http.onreadystatechange=function(){if(4==http.readyState){var t=http.responseText;if(t=t.replace(/^\s+|\s+$/g,""),"fail"==t)return alert(Joomla.JText._("COM_REDSHOP_NOT_AVAILABLE")),!1;t=t.split("\n");for(var r=document.getElementsByName("quantity"),n=1,a=0;a<r.length;a++)r[a].id=="ajax_quantity"+e?n=r[a].value:r[a].id=="quantity"+e&&(n=r[a].value);i=t[0],c=t[1],l=t[2],price_excl_vat=t[7];var d=number_format(c,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),o=number_format(l,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));0>=n&&(n=1),m=parseFloat(l)*n;var _=number_format(m,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));if(u=t[3]+i+"<br />",
u+=t[4]+d+"<br />",u+=t[5]+o+"<br />",u+=t[6]+_,document.getElementById("discount_cal_final_price")&&(document.getElementById("discount_cal_final_price").innerHTML=u),document.getElementById("main_price"+e)){var p=document.getElementById("main_price"+e).value;if(calculateTotalPrice(e,0),"1"==redSHOP.RSConfig._("SHOW_PRICE")&&("1"!=redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")||redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE"))){var s=final_price_f-parseFloat(p)+parseFloat(m);if(1==t[8])var g=m+price_excl_vat*n;else var g=m*n;_=number_format(s,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),formatted_product_price_excl_vat=number_format(g,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR")),document.getElementById("produkt_kasse_hoejre_pris_indre"+e)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+e).innerHTML=formatted_product_price_excl_vat,document.getElementById("display_product_price_no_vat"+e)&&(document.getElementById("display_product_price_no_vat"+e).innerHTML=_),document.getElementById("product_price_no_vat"+e)&&(document.getElementById("product_price_no_vat"+e).value=s)),document.getElementById("product_price_incl_vat"+e)&&(document.getElementById("product_price_incl_vat"+e).innerHTML=formatted_product_price_excl_vat),document.getElementById("main_price"+e).value=g}}}},http.open("GET",redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart&task=discountCalculator&product_id="+e+"&calcHeight="+t+"&calcWidth="+r+"&calcDepth="+n+"&calcRadius="+a+"&calcUnit="+d+"&pdcextraid="+_+"&tmpl=component",!0),void http.send(null))}function setProductUserFieldImage(e,t,r,n){for(var a=document.getElementsByClassName("imgClass_"+t),d=0;d<a.length;d++)removeClass(a[d],"selectedimg");document.getElementById(e+"_"+t)&&(document.getElementById(e+"_"+t).value=r,n.className+=" selectedimg"),document.getElementById("ajax"+e+"_"+t)&&(document.getElementById("ajax"+e+"_"+t).value=r),document.getElementById(e)&&(document.getElementById(e).value=r)}function removeClass(e,t){if(hasClass(e,t)){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(r," ")}}function hasClass(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function RedgetElementsByClassName(e){var t=new Array,r=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<r.length;i++)r[i].className==e&&(t[j]=r[i],j++);return t}function getElementsByClassName(e){var t=new Array,r=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<r.length;i++)r[i].className==e&&(t[j]=r[i],j++);return t}function displayAddtocartForm(e,t,r,a,d){var o="";if(document.getElementById(d)&&(o=document.getElementById(d).elements),0==t||""==t)return!1;for(var i=new Array,c=new Array,l=(new Array,""),u=0;u<o.length;u++)if("checkbox"==o[u].type&&""!=o||"radio"==o[u].type&&""!=o){if(1==o[u].checked){i[u]=o[u].value,c[u]=o[u].name;var m=document.getElementById(e).elements;l=reverseString(o[u].id),l=reverseString(l.substr(l.indexOf("_")+1));for(var _=0;_<m.length;_++)if(l==m[_].name){var p=m[_].value;-1==p.search(i[u])&&(""!=m[_].value&&(m[_].value+=","),m[_].value+=i[u])}}}else if("select-one"==o[u].type){i[u]=o[u].value,c[u]=o[u].name;for(var m=document.getElementById(e).elements,_=0;_<m.length;_++)if(l=o[u].id,l==m[_].name){var p=m[_].value;p.search(i[u])&&(m[_].value+=i[u])}}else if("select-multiple"==o[u].type){var s=o[u];m=document.getElementById(e).elements;for(var g=0;g<s.options.length;g++)if(s.options[g].selected)for(var _=0;_<m.length;_++)if(l=o[u].id,l==m[_].name){var p=m[_].value;-1==p.search(String(s.options[g].value))&&(""!=m[_].value&&(m[_].value+=","),m[_].value+=String(s.options[g].value))}}var y=RedgetElementsByClassName("calendar"),E="";for(cal_i=0;cal_i<y.length;cal_i++){var v=y[cal_i].id;arr=v.split("_img"),n=arr.length;var I=arr[0];if(""!=I&&I.search(e)&&""!=document.getElementById(I).value){E=reverseString(I),E=reverseString(E.substr(E.indexOf("_")+1));for(var f=String(e),m=document.getElementById(f).elements,B=String(E+"_"+t),_=0;_<m.length;_++)E==m[_].name&&(m[_].value=document.getElementById(B).value)}}return document.getElementById(e)&&document.getElementById("requiedAttribute")&&(document.getElementById("requiedAttribute").value=document.getElementById(e).requiedAttribute.getAttribute("reattribute")),document.getElementById(e)&&document.getElementById("requiedProperty")&&(document.getElementById("requiedProperty").value=document.getElementById(e).requiedProperty.getAttribute("reproperty")),0==a&&calculateTotalPrice(t,r),setAddtocartForm(e,t)?!0:!1}function setAddtocartForm(e,t){var r=document.getElementById(e);document.getElementById("Itemid")&&(r.Itemid.value=document.getElementById("Itemid").value),document.getElementById("attribute_data")&&(r.attribute_data.value=document.getElementById("attribute_data").value),document.getElementById("property_data")&&(r.property_data.value=document.getElementById("property_data").value),document.getElementById("subproperty_data")&&(r.subproperty_data.value=document.getElementById("subproperty_data").value),document.getElementById("accessory_data")&&(r.accessory_data.value=document.getElementById("accessory_data").value),document.getElementById("acc_quantity_data")&&(r.acc_quantity_data.value=document.getElementById("acc_quantity_data").value),document.getElementById("acc_attribute_data")&&(r.acc_attribute_data.value=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(r.acc_property_data.value=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(r.acc_subproperty_data.value=document.getElementById("acc_subproperty_data").value),document.getElementById("accessory_price")&&(r.accessory_price.value=document.getElementById("accessory_price").value),document.getElementById("requiedAttribute")&&(r.requiedAttribute.value=document.getElementById("requiedAttribute").value),document.getElementById("requiedProperty")&&(r.requiedProperty.value=document.getElementById("requiedProperty").value);var n=1;if(document.getElementById("quantity"+t).value&&(n=document.getElementById("quantity"+t).value),document.getElementById("hidden_attribute_cartimage"+t)&&(r.hidden_attribute_cartimage.value=document.getElementById("hidden_attribute_cartimage"+t).value),0!=parseInt(r.min_quantity.value)&&parseInt(r.min_quantity.value)>n)return alert(r.min_quantity.getAttribute("requiredtext")+" "+parseInt(r.min_quantity.value)),!1;if(0!=parseInt(r.max_quantity.value)&&parseInt(r.max_quantity.value)<n)return alert(r.max_quantity.getAttribute("requiredtext")+" "+parseInt(r.max_quantity.value)),!1;if(document.getElementById("calc_height")){var a=document.getElementById("calc_height").value;if(""==a)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT")),!1;r.calcHeight.value=a}if(document.getElementById("calc_width")){var d=document.getElementById("calc_width").value;if(""==d)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH")),!1;r.calcWidth.value=d}if(document.getElementById("calc_depth")){var o=document.getElementById("calc_depth").value;if(""==o)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH")),!1;r.calcDepth.value=o}if(document.getElementById("calc_radius")){var i=document.getElementById("calc_radius").value;if(""==i)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS")),!1;r.calcRadius.value=i}if(document.getElementById("discount_calc_unit")){if(calUnit=document.getElementById("discount_calc_unit").value,0==calUnit)return alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT")),!1;r.calcUnit.value=calUnit}var c=new Array;if(document.getElementsByName("pdc_option_name[]"))for(var l=document.getElementsByName("pdc_option_name[]"),u=0,m=0;m<l.length;m++){var _=l[m];_.checked&&(c[u]=_.value,u++)}if(c=c.join(","),r.pdcextraid.value=c,document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;r.subscription_id.value=subId}return!0}function checkAddtocartValidation(e,t,r,n,a,d,o,i){if(0==t||""==t)return!1;new Array,new Array;if(0==redSHOP.RSConfig._("AJAX_CART_BOX")){var c=userfieldValidation("extrafields"+t);if(!c)return!1;var l=document.getElementById(e).requiedAttribute.value,u=document.getElementById(e).requiedProperty.value;if(""!=l)return alert(l),!1;if(""!=u)return alert(u),!1;document.getElementById(e).submit()}else{var m=parseInt(d)+parseInt(o)+parseInt(i);if(0!=n)submitAjaxCartdetail(e,t,r,n,d,o,i);else{var _=!0,c=userfieldValidation("extrafields"+t);c||(_=!1);var l=document.getElementById(e).requiedAttribute.value,u=document.getElementById(e).requiedProperty.value;""!=l&&(_=!1),""!=u&&(_=!1),m>0&&0==_?displayAjaxCartdetail(e,t,r,n,d,o,i):submitAjaxCartdetail(e,t,r,n,d,o,i)}}}function displayAjaxCartdetail(e,t,r,a,d,o,c){if(0==t||""==t)return!1;var l="";document.getElementById("isAjaxBoxOpen")&&(l=document.getElementById("isAjaxBoxOpen").value);for(var u=(document.getElementById(e),document.getElementsByName("extrafields"+t+"[]")),m="",_="",p="",s=!1,g="",y="",E=!1,v="",I="",f=0;f<u.length;f++)if(u[f].value||"text"!=u[f].type)if(u[f].value||"select-one"!=u[f].type)if(u[f].value||"hidden"!=u[f].type){if("checkbox"==u[f].type){if(p=reverseString(u[f].id),p=reverseString(p.substr(p.indexOf("_")+1)),""!=_&&_!=p&&0==s&&(m+=_+","),_!=p&&(_=p,s=!1),u[f].checked||1==s){s=!0;continue}(f==u.length-1&&0==s||"checkbox"!=u[f+1].type&&0==s)&&(m+=_+",")}else if("radio"==u[f].type){if(y=reverseString(u[f].id),y=reverseString(y.substr(y.indexOf("_")+1)),""!=g&&g!=y&&0==E&&(m+=g+","),g!=y&&(g=y,E=!1),u[f].checked||1==E){E=!0;continue}(f==u.length-1&&0==E||"radio"!=u[f+1].type&&0==E)&&(m+=g+",")}else if("select-multiple"==u[f].type){if(I=reverseString(u[f].id),I=reverseString(I.substr(I.indexOf("_")+1)),u[f].value)continue;m+=I+","}}else v=reverseString(u[f].id),v=reverseString(v.substr(v.indexOf("_")+1)),m+=v,u.length-1!=f&&(m+=",");else m+=u[f].id,u.length-1!=f&&(m+=",");else m+=u[f].id,u.length-1!=f&&(m+=",");var B=RedgetElementsByClassName("calendar"),S="";for(cal_i=0;cal_i<B.length;cal_i++){var h=B[cal_i].id;arr=h.split("_img"),n=arr.length;var R=arr[0];""!=R&&""==document.getElementById(R).value&&(S=reverseString(R),S=reverseString(S.substr(S.indexOf("_")+1)),m+=","+S+",")}var O="";if(document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;O="&subscription_id="+subId}var b=1,P="";request=getHTTPObject(),document.getElementById("quantity"+t).value&&(b=document.getElementById("quantity"+t).value);var T=document.getElementById(e).requiedAttribute.value,C=document.getElementById(e).requiedProperty.value,x=document.getElementById(e).accessory_data.value;0==m&&(c=0),""==T&&""==C&&(d=0);var A=new Array;o>0&&""!=x&&0!=x&&(A=x.split("@@"),o==A.length&&(o=0));var H=parseInt(d)+parseInt(o)+parseInt(c),w=parseInt(d)+parseInt(c);if(o>0&&0==w&&A.length>0||0==H||"viewajaxdetail"==l)submitAjaxCartdetail(e,t,r,a,d,o,c);else{var q="&property_data="+encodeURIComponent(document.getElementById(e).property_data.value);q=q+"&subproperty_data="+encodeURIComponent(document.getElementById(e).subproperty_data.value),q=q+"&accessory_data="+encodeURIComponent(document.getElementById(e).accessory_data.value),q=q+"&acc_quantity_data="+encodeURIComponent(document.getElementById(e).acc_quantity_data.value),q=q+"&acc_property_data="+encodeURIComponent(document.getElementById(e).acc_property_data.value),q=q+"&acc_subproperty_data="+encodeURIComponent(document.getElementById(e).acc_subproperty_data.value);var P="option=com_redshop&view=product&pid="+t+"&relatedprd_id="+r+"&layout=viewajaxdetail&product_quantity="+b+"&tmpl=component&nextrafield="+c+"&extrafieldNames="+m+O+q,k=redSHOP.RSConfig._("SITE_URL")+"index.php?"+P;request.onreadystatechange=function(){if(4==request.readyState&&200==request.status){var e=request.responseText,t={url:k,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_HEIGHT"))},htmldata:e};redBOX.initialize({}),document.attbox=redBOX.open(null,t);var r={isenable:!1,mainImage:!1};preloadSlimbox(r);var a=RedgetElementsByClassName("calendar");for(i=0;i<a.length;i++){var d=a[i].id;arr=d.split("_img"),n=arr.length;var o=arr[0],c=o.split("ajax");-1!=d.search("ajax")&&-1!=m.search(c[0])&&window.addEvent("domready",function(){Calendar.setup({inputField:o,ifFormat:"%d-%m-%Y",button:a[i].id,align:"Tl",singleClick:!0})})}}},request.open("POST",k,!0),request.send(P)}}function submitAjaxCartdetail(e,t,r,n,a,d,o){var i=document.getElementById(e),c="",l=document.getElementsByName("extrafields"+t+"[]"),u="",m="",_="",p="",s="",g="",y="",E=!1,v="",I=userfieldValidation("extrafields"+t);if(!I)return!1;var f=document.getElementById(e).requiedAttribute.value,B=document.getElementById(e).requiedProperty.value;if(0!=f&&""!=f)return alert(f),!1;if(0!=B&&""!=B)return alert(B),!1;for(var S=0;S<l.length;S++)if("checkbox"==l[S].type)s=reverseString(l[S].id),s=reverseString(s.substr(s.indexOf("_")+1)),""!=p&&p!=s&&""!=m&&(_+="&"+p+"="+m),p!=s&&(m="",p=s),l[S].checked&&(""!=m&&(m+=","),m+=l[S].value),S==l.length-1&&""!=m&&(_+="&"+s+"="+m),S<l.length-1&&"checkbox"!=l[S+1].type&&""!=m&&(_+="&"+s+"="+m);else if("radio"==l[S].type){if(y=reverseString(l[S].id),y=reverseString(y.substr(y.indexOf("_")+1)),""!=g&&g!=y&&0==E&&(_+="&"+g+"="+m),g!=y){if(m="",g=y,E=!1,l[S].checked||1==E){E=!0,_+="&"+g+"="+l[S].value;continue}}else if(l[S].checked||1==E){E=!0,_+="&"+y+"="+l[S].value;continue}}else if("select-multiple"==l[S].type){var h=l[S];m="",v=reverseString(l[S].id),v=reverseString(v.substr(v.indexOf("_")+1));for(var R=0;R<h.options.length;R++)if(h.options[R].selected){var O=m;-1==O.search(String(h.options[R].value))&&(""!=m&&(m+=","),m+=String(h.options[R].value))}m&&(_+="&"+v+"="+m)}else if("hidden"==l[S].type)imgfieldNamefrmId=reverseString(l[S].id),imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1)),u=imgfieldNamefrmId,m=l[S].value,_+="&"+u+"="+m,m="";else{if(-1!=l[S].id.search("ajax")){var b=l[S].id.split("ajax"),P="";P=reverseString(b[1]),P=reverseString(P.substr(P.indexOf("_")+1)),l[S].id=P}u=l[S].id,m=encodeURIComponent(l[S].value),_+="&"+u+"="+m}var T=RedgetElementsByClassName("calendar"),P="";for(cal_i=0;cal_i<T.length;cal_i++){var C=T[cal_i].id;arr=C.split("_img"),q=arr.length;var x=arr[0];""!=x&&x.search(t)&&""!=document.getElementById(x).value&&(P=reverseString(x),P=reverseString(P.substr(P.indexOf("_")+1)),_+="&"+P+"="+document.getElementById(x).value)}var A="";if(document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;A="&subscription_id="+subId}document.getElementById("giftcard_id")?(c="&giftcard_id="+t,document.getElementById("reciver_email")&&(c+="&reciver_email="+document.getElementById("reciver_email").value),document.getElementById("reciver_name")&&(c+="&reciver_name="+document.getElementById("reciver_name").value),document.getElementById("customer_amount")&&(c+="&customer_amount="+document.getElementById("customer_amount").value)):c="&product_id="+t,request=getHTTPObject();var H="ajax_cart_box=1";if(H=H+"&Itemid="+i.Itemid.value+c,H=H+"&category_id="+i.category_id.value,H=H+"&attribute_data="+i.attribute_data.value,H=H+"&property_data="+i.property_data.value,H=H+"&subproperty_data="+i.subproperty_data.value,H=H+"&requiedAttribute="+i.requiedAttribute.value,H=H+"&requiedProperty="+i.requiedProperty.value,H=H+"&accessory_data="+i.accessory_data.value,H=H+"&acc_quantity_data="+i.acc_quantity_data.value,H=H+"&acc_attribute_data="+i.acc_attribute_data.value,H=H+"&acc_property_data="+i.acc_property_data.value,H=H+"&acc_subproperty_data="+i.acc_subproperty_data.value,H=H+"&accessory_price="+i.accessory_price.value,document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&(H=H+"&sel_wrapper_id="+i.sel_wrapper_id.value),H=H+"&quantity="+i.quantity.value,H=H+"&hidden_attribute_cartimage="+i.hidden_attribute_cartimage.value,document.getElementById("calc_height")&&(H=H+"&calcHeight="+i.calcHeight.value),document.getElementById("calc_width")&&(H=H+"&calcWidth="+i.calcWidth.value),document.getElementById("calc_depth")&&(H=H+"&calcDepth="+i.calcDepth.value),document.getElementById("calc_radius")&&(H=H+"&calcRadius="+i.calcRadius.value),document.getElementById("calc_unit")&&(H=H+"&calcUnit="+i.calcUnit.value),H=H+"&pdcextraid="+i.pdcextraid.value,H=H+A+_,redShopJsTrigger.length>0)for(var w=0,q=redShopJsTrigger.length;q>w;w++)new redShopJsTrigger[w](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)H+="&"+key+"="+getExtraParamsArray[key];request.open("POST",redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart&task=add&tmpl=component",!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded");var k=!0;request.onreadystatechange=function(){if(4==request.readyState){var e=request.responseText;if(e=e.split("`"),"0"==e[1])return alert(e[2]),!1;document.attbox&&document.attbox.close(),document.getElementById("mod_cart_total")&&e[1]&&(document.getElementById("mod_cart_total").innerHTML=e[1]),document.getElementById("rs_promote_free_shipping_div")&&e[2]&&(document.getElementById("rs_promote_free_shipping_div").innerHTML=e[2]),document.getElementById("mod_cart_checkout_ajax")&&(document.getElementById("mod_cart_checkout_ajax").style.display="");var r=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&pid="+t+"&r_template=cartbox&tmpl=component";request_inner=getHTTPObject(),request_inner.onreadystatechange=function(){if(4==request_inner.readyState&&200==request_inner.status&&k){var e=request_inner.responseText;k=!1;var t={url:r,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_BOX_HEIGHT"))},htmldata:e,onOpen:function(){if(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME")>0){(function(){this.close()}).bind(this).delay(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME"))}}};redBOX.initialize({}),document.ajaxbox=redBOX.open(null,t)}},request_inner.open("GET",r,!0),request_inner.send(null)}},request.send(H)}function displayAddtocartProperty(e,t,r,n){return document.getElementById("attribute_data")&&(document.getElementById("attribute_data").value=r),document.getElementById("property_data")&&(document.getElementById("property_data").value=n),document.getElementById("subproperty_data")&&(document.getElementById("subproperty_data").value=""),setAddtocartForm(e,t)?!0:!1}function showallreviews(){document.getElementById("showreviews")&&("none"==document.getElementById("showreviews").style.display?document.getElementById("showreviews").style.display="":document.getElementById("showreviews").style.display="none")}function checkAddtocartwishlistValidation(e,t,r,n,a,d,o,i,c){if(0==t||""==t)return!1;new Array,new Array;if(1==c){var l=userfieldValidation("extrafields"+t);if(!l)return!1;var u=document.getElementById(e).requiedAttribute.value,m=document.getElementById(e).requiedProperty.value;return""!=u?(alert(u),!1):""!=m?(alert(m),!1):!0}return submitAjaxCartdetail(e,t,r,n,d,o,i),!0}function productalladdprice(e){var t=1;mainpro_id=document.frm.product_id.value.split(","),totatt=document.frm.totacc_id.value.split(","),totcount_no_user_field=document.frm.totcount_no_user_field.value.split(","),mainpro_id.length=mainpro_id.length-1;for(var r=0;r<mainpro_id.length;r++)if(""!=mainpro_id[r]&&displayAddtocartForm("addtocart_prd_"+mainpro_id[r],mainpro_id[r],"0","0","user_fields_form")){if(!checkAddtocartwishlistValidation("addtocart_prd_"+mainpro_id[r],mainpro_id[r],"0","0","user_fields_form",totatt[r],"",totcount_no_user_field[r],t))return!1;r==mainpro_id.length-1}submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[0],mainpro_id[0],0,0,totatt[0],0,totcount_no_user_field[0],e)}function submitAjaxwishlistCartdetail(e,t,r,n,a,o,i,c){displayAddtocartForm("addtocart_prd_"+mainpro_id[d],mainpro_id[d],"0","0","user_fields_form");var l=document.getElementById(e),u="",m=document.getElementsByName("extrafields"+t+"[]"),_="",p="",s="",g="",y="",E="",v="",I=!1,f="",B=userfieldValidation("extrafields"+t);if(!B)return!1;var S=document.getElementById(e).requiedAttribute.value,h=document.getElementById(e).requiedProperty.value;if(0!=S&&""!=S)return alert(S),!1;if(0!=h&&""!=h)return alert(h),!1;for(var R=0;R<m.length;R++)if("checkbox"==m[R].type)y=reverseString(m[R].id),y=reverseString(y.substr(y.indexOf("_")+1)),""!=g&&g!=y&&""!=p&&(s+="&"+g+"="+p),g!=y&&(p="",g=y),m[R].checked&&(""!=p&&(p+=","),p+=m[R].value),R==m.length-1&&""!=p&&(s+="&"+y+"="+p),R<m.length-1&&"checkbox"!=m[R+1].type&&""!=p&&(s+="&"+y+"="+p);else if("radio"==m[R].type){if(v=reverseString(m[R].id),v=reverseString(v.substr(v.indexOf("_")+1)),""!=E&&E!=v&&0==I&&(s+="&"+E+"="+p),E!=v){if(p="",E=v,I=!1,m[R].checked||1==I){I=!0,s+="&"+E+"="+m[R].value;continue}}else if(m[R].checked||1==I){I=!0,s+="&"+v+"="+m[R].value;continue}}else if("select-multiple"==m[R].type){var O=m[R];p="",f=reverseString(m[R].id),f=reverseString(f.substr(f.indexOf("_")+1));for(var b=0;b<O.options.length;b++)if(O.options[b].selected){var P=p;-1==P.search(String(O.options[b].value))&&(""!=p&&(p+=","),p+=String(O.options[b].value))}p&&(s+="&"+f+"="+p)}else if("hidden"==m[R].type)imgfieldNamefrmId=reverseString(m[R].id),imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1)),_=imgfieldNamefrmId,p=m[R].value,s+="&"+_+"="+p,p="";else if("text"==m[R].type)_=m[R].id,p=m[R].value,s+="&"+_+"="+p;else{if(-1!=m[R].id.search("ajax")){var T=m[R].id.split("ajax"),C="";C=reverseString(T[1]),C=reverseString(C.substr(C.indexOf("_")+1)),m[R].id=C}_=m[R].id,p=m[R].value,s+="&"+_+"="+p}var x=RedgetElementsByClassName("calendar"),C="";for(cal_i=0;cal_i<x.length;cal_i++){var A=x[cal_i].id;arr=A.split("_img"),L=arr.length;var H=arr[0];""!=H&&H.search(t)&&""!=document.getElementById(H).value&&(C=reverseString(H),C=reverseString(C.substr(C.indexOf("_")+1)),s+="&"+C+"="+document.getElementById(H).value)}var w="";if(document.getElementById("hidden_subscription_id")){if(subId=document.getElementById("hidden_subscription_id").value,0==subId||""==subId)return alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN")),!1;w="&subscription_id="+subId}if(document.getElementById("giftcard_id")?(u="&giftcard_id="+t,document.getElementById("reciver_email")&&(u+="&reciver_email="+document.getElementById("reciver_email").value),document.getElementById("reciver_name")&&(u+="&reciver_name="+document.getElementById("reciver_name").value),document.getElementById("customer_amount")&&(u+="&customer_amount="+document.getElementById("customer_amount").value)):u="&product_id="+t,request=getHTTPObject(),1==c||2==c)var q="option=com_redshop&view=product&task=addtowishlist&wid=1&ajaxon=1&tmpl=component";else var q="option=com_redshop&view=cart&task=add&tmpl=component&ajax_cart_box=1";if(q=q+"&Itemid="+l.Itemid.value+u,q=q+"&category_id="+l.category_id.value,q=q+"&attribute_data="+l.attribute_data.value,q=q+"&property_data="+l.property_data.value,q=q+"&subproperty_data="+l.subproperty_data.value,q=q+"&requiedAttribute="+l.requiedAttribute.value,q=q+"&requiedProperty="+l.requiedProperty.value,q=q+"&accessory_data="+l.accessory_data.value,q=q+"&acc_quantity_data="+l.acc_quantity_data.value,q=q+"&acc_attribute_data="+l.acc_attribute_data.value,q=q+"&acc_property_data="+l.acc_property_data.value,q=q+"&acc_subproperty_data="+l.acc_subproperty_data.value,q=q+"&accessory_price="+l.accessory_price.value,q=q+"&sel_wrapper_id="+l.sel_wrapper_id.value,q+="&quantity=1",document.getElementById("calc_height")&&(q=q+"&calcHeight="+l.calcHeight.value),document.getElementById("calc_width")&&(q=q+"&calcWidth="+l.calcWidth.value),document.getElementById("calc_depth")&&(q=q+"&calcDepth="+l.calcDepth.value),document.getElementById("calc_radius")&&(q=q+"&calcRadius="+l.calcRadius.value),document.getElementById("calc_unit")&&(q=q+"&calcUnit="+l.calcUnit.value),q=q+"&pdcextraid="+l.pdcextraid.value,q=q+w+s,redShopJsTrigger.length>0)for(var k=0,L=redShopJsTrigger.length;L>k;k++)new redShopJsTrigger[k](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)q+="&"+key+"="+getExtraParamsArray[key];var N=redSHOP.RSConfig._("SITE_URL")+"index.php?"+q;/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",N,!0):request.open("POST",N,!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",q.length),request.setRequestHeader("Connection","close"),request.onreadystatechange=function(){if(request.readyState<4&&(""!=document.getElementById("saveid")&&1==c?document.getElementById("saveid").innerHTML='<font size="1" color="red">Processing...</font>':document.getElementById("allcart").innerHTML='<font size="1" color="red">Processing...</font>'),4==request.readyState){var e=request.responseText;if(e=e.split("`"),"0"==e[1])return!1;document.attbox&&document.attbox.close(),d++;var r=mainpro_id.length;if(r>d)""!=mainpro_id[d]&&submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[d],mainpro_id[d],0,0,totatt[d],0,totcount_no_user_field[d]);else if(1==c)window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?wishlist=1&option=com_redshop&view=login";else{if(2==c)return!1;window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart"}document.getElementById("saveid").innerHTML="",document.getElementById("allcart").innerHTML="",document.getElementById("mod_cart_total")&&e[1]&&(document.getElementById("mod_cart_total").innerHTML=e[1]),document.getElementById("rs_promote_free_shipping_div")&&e[2]&&(document.getElementById("rs_promote_free_shipping_div").innerHTML=e[2]),document.getElementById("mod_cart_checkout_ajax")&&(document.getElementById("mod_cart_checkout_ajax").style.display="");var n=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&pid="+t+"&r_template=cartbox&tmpl=component",a={url:n,handler:"ajax",size:{x:500,y:600}};redBOX.initialize({}),redBOX.open(null,a)}},request.send(N),request.send(null)}function addmywishlist(e,t,r){for(var a=document.getElementsByName("extrafields"+t+"[]"),d="",o="",i="",c="",l="",u="",m="",_=!1,p="",s=0;s<a.length;s++)if("checkbox"==a[s].type)l=reverseString(a[s].id),l=reverseString(l.substr(l.indexOf("_")+1)),""!=c&&c!=l&&""!=o&&(i+="&"+c+"="+o),c!=l&&(o="",c=l),a[s].checked&&(""!=o&&(o+=","),o+=a[s].value),s==a.length-1&&""!=o&&(i+="&"+l+"="+o),s<a.length-1&&"checkbox"!=a[s+1].type&&""!=o&&(i+="&"+l+"="+o);else if("radio"==a[s].type){if(m=reverseString(a[s].id),m=reverseString(m.substr(m.indexOf("_")+1)),""!=u&&u!=m&&0==_&&(i+="&"+u+"="+o),u!=m){if(o="",u=m,_=!1,a[s].checked||1==_){_=!0,i+="&"+u+"="+a[s].value;continue}}else if(a[s].checked){_=!0,i+="&"+m+"="+a[s].value;continue}}else if("select-multiple"==a[s].type){var g=a[s];o="",p=reverseString(a[s].id),p=reverseString(p.substr(p.indexOf("_")+1));for(var y=0;y<g.options.length;y++)if(g.options[y].selected){var E=o;-1==E.search(String(g.options[y].value))&&(""!=o&&(o+=","),o+=String(g.options[y].value))}o&&(i+="&"+p+"="+o)}else if("hidden"==a[s].type)imgfieldNamefrmId=reverseString(a[s].id),imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1)),d=imgfieldNamefrmId,o=a[s].value,i+="&"+d+"="+o,o="";else if("text"==a[s].type)d=a[s].id,o=a[s].value,i+="&"+d+"="+o;else{if(-1!=a[s].id.search("ajax")){var v=a[s].id.split("ajax"),I="";I=reverseString(v[1]),I=reverseString(I.substr(I.indexOf("_")+1)),a[s].id=I}d=a[s].id,o=a[s].value,i+="&"+d+"="+o}var f=RedgetElementsByClassName("calendar"),I="";for(cal_i=0;cal_i<f.length;cal_i++){var B=f[cal_i].id;arr=B.split("_img"),n=arr.length;var S=arr[0];""!=S&&S.search(t)&&""!=document.getElementById(S).value&&(I=reverseString(S),I=reverseString(I.substr(I.indexOf("_")+1)),i+="&"+I+"="+document.getElementById(S).value)}request=getHTTPObject();var h="option=com_redshop&view=product&task=addtowishlist&json=1&ajaxon=1&tmpl=component";h=h+"&Itemid="+r,h=h+"&product_id="+t,h=h+"&userfield_id="+a.length,h+=i;var R=redSHOP.RSConfig._("SITE_URL")+"index.php?"+h;/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",R,!0):request.open("POST",R,!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",h.length),request.setRequestHeader("Connection","close");request.onreadystatechange=function(){if(request.readyState<4&&(document.getElementById("myprohide_"+t).innerHTML='<font size="1" color="red">Loading...</font>'),4==request.readyState&&200==request.status){var e=(request.responseText,document.getElementById("mypid").innerHTML),r=request.responseText;sp=r.split(":-:"),-1==e.search(sp[1])&&(document.getElementById("mypid").innerHTML+=sp[0],document.getElementById("wid").style.display="block",document.getElementById("myprohide_"+t).innerHTML="")}},request.send(R),request.send(h)}function getStocknotify(e,t,r){var n=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=addNotifystock&tmpl=component&product_id="+e;n=n+"&property_id="+t+"&subproperty_id="+r,request=getHTTPObject(),request.onreadystatechange=function(){if(4==request.readyState){var t=request.responseText;document.getElementById("notify_stock"+e)&&(document.getElementById("notify_stock"+e).innerHTML=t)}},request.open("POST",n,!0),request.send(null)}redSHOP=window.redSHOP||{},window.addEvent("domready",function(){var e={isenable:!0,mainImage:!0};preloadSlimbox(e);var t={handler:"iframe"};redBOX.assign($$(".redcolorproductimg"),t),redBOX.assign($$("a.redbox"),{parse:"rel"})});var r_browser=!1,subproperty_main_image="",request;redSHOP.updateStockStatusMessage=function(e,t){var r="inline-block",n="inline-block",a="inline-block",d="inline-block",o="";"instock"==e?(r="inline-block",d="inline-block",n="none",a="none",o=Joomla.JText._("COM_REDSHOP_AVAILABLE_STOCK")):(r="none",d="none","preorder"==e?(n="none",a="inline-block",o=Joomla.JText._("COM_REDSHOP_PREORDER_PRODUCT_OUTOFSTOCK_MESSAGE")):(n="inline-block",a="none",o=Joomla.JText._("COM_REDSHOP_PRODUCT_OUTOFSTOCK_MESSAGE"))),document.getElementById("pdaddtocart"+t)&&(document.getElementById("pdaddtocart"+t).style.display=r),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display=n),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).innerHTML=o),document.getElementById("preordercart"+t)&&(document.getElementById("preordercart"+t).style.display=a),document.getElementById("stockQuantity"+t)&&(document.getElementById("stockQuantity"+t).style.display=d)};var getExtraParamsArray={},redShopJsTrigger=[],mainpro_id=new Array,totatt=new Array,totcount_no_user_field=new Array,d=0;
