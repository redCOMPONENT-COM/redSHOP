redSHOP=window.redSHOP||{};window.addEvent("domready",function(){var b={isenable:true,mainImage:true};preloadSlimbox(b);var a={handler:"iframe"};redBOX.assign($$(".redcolorproductimg"),a);redBOX.assign($$("a.redbox"),{parse:"rel"})});var r_browser=false;var subproperty_main_image="";function getHTTPObject(){var b=false;if(window.XMLHttpRequest){b=new XMLHttpRequest()}else{if(window.ActiveXObject){try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){b=false}}}}return b}var request;function productaddprice(f,m){var o=1;if(m!=0){prefix=m}else{prefix=f}if(document.getElementById("accessory_data")){var b=document.getElementById("accessory_data").value}if(document.getElementById("acc_quantity_data")){var g=document.getElementById("acc_quantity_data").value}if(document.getElementById("acc_attribute_data")){var p=document.getElementById("acc_attribute_data").value.replace("##","::")}if(document.getElementById("acc_property_data")){var e=document.getElementById("acc_property_data").value.replace("##","::")}if(document.getElementById("acc_subproperty_data")){var h=document.getElementById("acc_subproperty_data").value.replace("##","::")}if(document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)){o=document.getElementById("quantity"+prefix).value}if(document.getElementById("attribute_data")){var k=document.getElementById("attribute_data").value.replace("##","::")}if(document.getElementById("property_data")){var l=document.getElementById("property_data").value.replace("##","::")}if(document.getElementById("subproperty_data")){var c=document.getElementById("subproperty_data").value.replace("##","::")}var a=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayProductaddprice&tmpl=component&qunatity="+o;a=a+"&product_id="+f+"&attribute_data="+k+"&property_data="+l+"&subproperty_data="+c;a=a+"&accessory_data="+b+"&acc_quantity_data="+g+"&acc_attribute_data="+p+"&acc_property_data="+e+"&acc_subproperty_data="+h;request=getHTTPObject();request.onreadystatechange=function(){if(request.readyState==4){var t=request.responseText.split(":");var q=0;var r=0;var u=0;var s=0;if(document.getElementById("wrapper_price")){u=parseFloat(document.getElementById("wrapper_price").value)}if(document.getElementById("wrapper_price_withoutvat")){s=parseFloat(document.getElementById("wrapper_price_withoutvat").value)}if(document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix)){document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix).innerHTML=number_format(parseFloat(t[0])+(u*o),redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}if(document.getElementById("display_product_discount_price"+prefix)){document.getElementById("display_product_discount_price"+prefix).innerHTML=number_format(t[4],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}if(document.getElementById("display_product_price_without_vat"+prefix)){document.getElementById("display_product_price_without_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+(s*o),redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}if(document.getElementById("display_product_price_no_vat"+prefix)){document.getElementById("display_product_price_no_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+(s*o),redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}if(document.getElementById("display_product_old_price"+prefix)){document.getElementById("display_product_old_price"+prefix).innerHTML=number_format(t[2],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}if(document.getElementById("display_product_saving_price"+prefix)){document.getElementById("display_product_saving_price"+prefix).innerHTML=number_format(t[3],redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}if(document.getElementById("main_price"+prefix)){document.getElementById("main_price"+prefix).value=t[0]}if(document.getElementById("product_price_no_vat"+prefix)){document.getElementById("product_price_no_vat"+prefix).value=t[5];if(document.getElementById("main_price"+f)){document.getElementById("main_price"+f).value=t[0]}if(document.getElementById("product_price_no_vat"+f)){document.getElementById("product_price_no_vat"+f).value=t[5]}if(document.getElementById("product_old_price"+f)){document.getElementById("product_old_price"+f).value=t[2]}}if(document.getElementById("product_old_price"+prefix)){document.getElementById("product_old_price"+prefix).value=t[2]}}};request.open("GET",a,true);request.send(null)}function changePropertyDropdown(v,a,m,o,k,w,u){var C=arguments;var h=new Array();var t=new Array();var s="";var z="";var c="";var g="";var E="";var y;if(document.getElementById("isAjaxBoxOpen")){E=document.getElementById("isAjaxBoxOpen").value}var b="";if(E=="viewajaxdetail"){b="ajax_"}if(a!=0){y=b+"acc_"}else{if(m!=0){y=b+"rel_"}else{y=b+"prd_"}}var l=y+v+"_"+a+"_"+o;if(document.getElementById("subattdata_"+l)){g=document.getElementById("subattdata_"+l).value}c=c+"&subatthtml="+g;c=c+"&product_id="+v;c=c+"&attribute_id="+o;c=c+"&accessory_id="+a;c=c+"&relatedprd_id="+m;if(document.getElementsByName("property_id_"+l+"[]")){var r=document.getElementsByName("property_id_"+l+"[]");var D=0;for(var x=0;x<r.length;x++){if(r[x].type=="checkbox"||r[x].type=="radio"){if(r[x].checked){h[D++]=r[x].value}}else{if(r[x].selectedIndex){h[D++]=r[x].options[r[x].selectedIndex].value}}}var e=0;for(var A=0;A<h.length;A++){var B=l+"_"+h[A];if(document.getElementsByName("subproperty_id_"+B+"[]")){var q=document.getElementsByName("subproperty_id_"+B+"[]");for(var x=0;x<q.length;x++){if(q[x].type=="checkbox"||q[x].type=="radio"){if(q[x].checked){t[e++]=q[x].value}}else{if(q[x].selectedIndex){t[e++]=q[x].options[q[x].selectedIndex].value}}}}}s=h.join(",");z=t.join(",");c=c+"&property_id="+s;c=c+"&subproperty_id="+z}var f=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displaySubProperty&tmpl=component&isAjaxBox="+E;f=f+c;request=getHTTPObject();request.onreadystatechange=function(){if(document.getElementById("property_responce"+l)){document.getElementById("property_responce"+l).style.display="none"}if(request.readyState!=4){if(document.getElementById("rs_image_loader")){document.getElementById("rs_image_loader").style.display="block"}}if(request.readyState==4){var J=0;if(document.getElementById("property_responce"+l)){document.getElementById("property_responce"+l).innerHTML=request.responseText;document.getElementById("property_responce"+l).style.display="";for(var G=0;G<h.length;G++){J=h[G];var H=l+"_"+J;if(document.getElementById("divsubimgscroll"+H)){var I=document.getElementById("divsubimgscroll"+H).innerHTML;if(I!=""){var L=I.split("#_#");var K="isFlowers"+H;K=new ImageScroller("isFlowersFrame"+H,"isFlowersImageRow"+H);var M="subproperty_id_"+H;var F="";for(i=0;i<L.length;i++){F=L[i].match(/\d+/g);var O=F[0];var P=document.getElementById(M+"_name"+O).value;K.addThumbnail(L[i],"javascript:isFlowers"+H+".scrollImageCenter('"+i+"');setSubpropImage('"+v+"','"+M+"','"+O+"');calculateTotalPrice('"+v+"','"+m+"');displayAdditionalImage('"+v+"','"+a+"','"+m+"','"+J+"','"+O+"');",P,"",M+"_subpropimg_"+O,"")}var N=50;if(u>w){N=u}else{N=w}K.setThumbnailHeight(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_HEIGHT")));K.setThumbnailWidth(parseInt(redSHOP.RSConfig._("ATTRIBUTE_SCROLLER_THUMB_WIDTH")));K.setThumbnailPadding(5);K.setScrollType(0);K.enableThumbBorder(false);K.setClickOpenType(1);K.setThumbsShown(redSHOP.RSConfig._("NOOF_SUBATTRIB_THUMB_FOR_SCROLLER"));K.setNumOfImageToScroll(1);K.renderScroller();window["isFlowers"+H]=K}}}}displayAdditionalImage(v,a,m,J,0);calculateTotalPrice(v,m);onchangePropertyDropdown(C)}};request.open("GET",f,true);request.send(null)}function onchangePropertyDropdown(a){return true}function display_image(c,a,b){if(!redSHOP.RSConfig._("PRODUCT_DETAIL_IS_LIGHTBOX")){document.getElementById("a_main_image"+a).href=b}document.getElementById("main_image"+a).src=c}function display_image_out(c,a,b){document.getElementById("main_image"+a).src=b}function display_image_add(a,b){if(document.getElementById("main_image"+b)){document.getElementById("main_image"+b).src=a}}function display_image_add_out(a,b){if(document.getElementById("main_image"+b)){if(subproperty_main_image!=""){document.getElementById("main_image"+b).src=subproperty_main_image}else{document.getElementById("main_image"+b).src=a}}}function collectAttributes(u,M,A){var I;var m=new Array();var w=new Array();var F=new Array();var G=0;var V=0;var D=0;var l=true;var x=true;var v=true;var Q="";var q="";var B="";var c=1;if(document.getElementById("accquantity_"+u+"_"+M)){c=document.getElementById("accquantity_"+u+"_"+M).value}if(document.getElementById("product_preorder"+u)){var O=document.getElementById("product_preorder"+u).value}if(document.getElementById("product_stock"+u)){var U=document.getElementById("product_stock"+u).value}if(document.getElementById("preorder_product_stock"+u)){var P=document.getElementById("preorder_product_stock"+u).value}if(document.getElementById("isAjaxBoxOpen")){B=document.getElementById("isAjaxBoxOpen").value}var C="";if(B=="viewajaxdetail"){C="ajax_"}if(M!=0){I=C+"acc_";if(document.getElementById("accessory_id_"+u+"_"+M)){G=parseFloat(document.getElementById("accessory_id_"+u+"_"+M).getAttribute("accessoryprice"));V=parseFloat(document.getElementById("accessory_id_"+u+"_"+M).getAttribute("accessorywithoutvatprice"))}D=G}else{if(A!=0){I=C+"rel_";if(document.getElementById("main_price"+u)){G=parseFloat(document.getElementById("main_price"+u).value)}if(document.getElementById("product_price_excluding_price"+u)){V=parseFloat(document.getElementById("product_price_excluding_price"+u).value)}else{if(document.getElementById("product_price_no_vat"+u)){V=parseFloat(document.getElementById("product_price_no_vat"+u).value)}}if(document.getElementById("product_old_price"+u)){D=parseFloat(document.getElementById("product_old_price"+u).value)}}else{I=C+"prd_";if(document.getElementById("main_price"+u)){G=parseFloat(document.getElementById("main_price"+u).value)}if(document.getElementById("product_price_excluding_price"+u)){V=parseFloat(document.getElementById("product_price_excluding_price"+u).value)}else{if(document.getElementById("product_price_no_vat"+u)){V=parseFloat(document.getElementById("product_price_no_vat"+u).value)}}if(document.getElementById("product_old_price"+u)){D=parseFloat(document.getElementById("product_old_price"+u).value)}}}var X=I+u+"_"+M;var b=I+u;if(document.getElementsByName("attribute_id_"+X+"[]")){var H=document.getElementsByName("attribute_id_"+X+"[]");for(var S=0;S<H.length;S++){m[S]=H[S].value}}if(l){l=checkProductStockRoom(U,b,O,P)}if(m.length<=0&&redSHOP.RSConfig._("AJAX_CART_BOX")==1){if(document.getElementById("requiedAttribute")){Q=document.getElementById("requiedAttribute").value}if(document.getElementById("requiedProperty")){q=document.getElementById("requiedProperty").value}}for(var S=0;S<m.length;S++){var L=m[S];X=I+u+"_"+M+"_"+L;var s=document.getElementById("property_id_"+X);if(s){setPropertyImage(u,"property_id_"+X);var N=document.getElementsByName("property_id_"+X+"[]");var g=0;var J=new Array();for(var K=0;K<N.length;K++){if(N[K].type=="checkbox"||N[K].type=="radio"){if(N[K].checked&&N[K].value!=0){J[g++]=N[K].value}}else{if(N[K].selectedIndex&&N[K].options[N[K].selectedIndex].value!=0){J[g++]=N[K].options[N[K].selectedIndex].value}}}if(J.length>0){w[S]=J.join(",,")}if(s.getAttribute("required")==1&&J.length==0){Q+=document.getElementById("att_lebl").innerHTML+" "+unescape(s.getAttribute("attribute_name"))+"\n"}if(x&&v){var f="property_id_"+X+"_oprand";var W="property_id_"+X+"_proprice";var y=calculateSingleProductPrice(G,f,W,J);G=y[1];var y=calculateSingleProductPrice(D,f,W,J);D=y[1];W="property_id_"+X+"_proprice_withoutvat";y=calculateSingleProductPrice(V,f,W,J);V=y[1]}var E=false;var z=new Array();for(var K=0;K<J.length;K++){var t=J[K];var Y="property_id_"+X+"_stock"+t;var T="property_id_"+X+"_preorderstock"+t;if(document.getElementById(Y)&&document.getElementById(T)&&l&&M==0){l=checkProductStockRoom(document.getElementById(Y).value,b,O,document.getElementById(T).value)}var o=I+u+"_"+M+"_"+L+"_"+t;var k=document.getElementById("subproperty_id_"+o);if(k){setSubpropertyImage(u,"subproperty_id_"+o);E=true;var e=document.getElementsByName("subproperty_id_"+o+"[]");g=0;var h=new Array();for(var r=0;r<e.length;r++){if(e[r].type=="checkbox"||e[r].type=="radio"){if(e[r].checked&&e[r].value){h[g++]=e[r].value}}else{if(e[r].selectedIndex&&e[r].options[e[r].selectedIndex].value){h[g++]=e[r].options[e[r].selectedIndex].value}}}for(var r=0;r<h.length;r++){var Y="subproperty_id_"+o+"_stock"+h[r];var a="subproperty_id_"+o+"_preOrderStock"+h[r];if(redSHOP.RSConfig._("USE_STOCKROOM")==1&&document.getElementById(Y)&&M==0){l=checkProductStockRoom(document.getElementById(Y).value,b,O,document.getElementById(a).value)}}if(k.getAttribute("required")==1&&h.length==0){q+=document.getElementById("subprop_lbl").innerHTML+" "+unescape(k.getAttribute("subpropName"))+"\n"}if(x&&v){var f="subproperty_id_"+o+"_oprand";var W="subproperty_id_"+o+"_proprice";var R=calculateSingleProductPrice(G,f,W,h);G=R[1];var R=calculateSingleProductPrice(D,f,W,h);D=R[1];W="subproperty_id_"+o+"_proprice_withoutvat";R=calculateSingleProductPrice(V,f,W,h);V=R[1]}z[K]=h.join("::")}}F[S]=z.join(",,")}}if(w.length==0){m=new Array()}if(M!=0){if(document.getElementById("acc_attribute_data")){document.getElementById("acc_attribute_data").value=m.join("##")}if(document.getElementById("acc_property_data")){document.getElementById("acc_property_data").value=w.join("##")}if(document.getElementById("acc_subproperty_data")){document.getElementById("acc_subproperty_data").value=F.join("##")}if(document.getElementById("accessory_price")){document.getElementById("accessory_price").value=G}if(document.getElementById("accessory_price_withoutvat")){document.getElementById("accessory_price_withoutvat").value=V}}else{if(document.getElementById("attribute_data")){document.getElementById("attribute_data").value=m.join("##")}if(document.getElementById("property_data")){document.getElementById("property_data").value=w.join("##")}if(document.getElementById("subproperty_data")){document.getElementById("subproperty_data").value=F.join("##")}if(document.getElementById("tmp_product_price")){document.getElementById("tmp_product_price").value=G}if(document.getElementById("productprice_notvat")){document.getElementById("productprice_notvat").value=V}if(document.getElementById("tmp_product_old_price")){document.getElementById("tmp_product_old_price").value=D}}if(document.getElementById("requiedAttribute")){document.getElementById("requiedAttribute").value=Q}if(document.getElementById("requiedProperty")){document.getElementById("requiedProperty").value=q}}redSHOP.updateStockStatusMessage=function(f,a){var c="inline-block",e="inline-block",b="inline-block",g="inline-block",h="";if("instock"==f){c="inline-block";g="inline-block";e="none";b="none";h=Joomla.JText._("COM_REDSHOP_AVAILABLE_STOCK")}else{c="none";g="none";if("preorder"==f){e="none";b="inline-block";h=Joomla.JText._("COM_REDSHOP_PREORDER_PRODUCT_OUTOFSTOCK_MESSAGE")}else{e="inline-block";b="none";h=Joomla.JText._("COM_REDSHOP_PRODUCT_OUTOFSTOCK_MESSAGE")}}if(document.getElementById("pdaddtocart"+a)){document.getElementById("pdaddtocart"+a).style.display=c}if(document.getElementById("stockaddtocart"+a)){document.getElementById("stockaddtocart"+a).style.display=e}if(document.getElementById("stockaddtocart"+a)){document.getElementById("stockaddtocart"+a).innerHTML=h}if(document.getElementById("preordercart"+a)){document.getElementById("preordercart"+a).style.display=b}if(document.getElementById("stockQuantity"+a)){document.getElementById("stockQuantity"+a).style.display=g}};function checkProductStockRoom(e,a,b,f){var c="instock";if(e>0){c=(1==redSHOP.RSConfig._("USE_AS_CATALOG"))?"outofstock":"instock"}else{if(e==0){if((b=="global"&&redSHOP.RSConfig._("ALLOW_PRE_ORDER")!=1)||(b==""&&redSHOP.RSConfig._("ALLOW_PRE_ORDER")!=1)||(b=="no")){c=(1==redSHOP.RSConfig._("USE_AS_CATALOG"))?"instock":"outofstock"}else{if(f==0){c=(1==redSHOP.RSConfig._("USE_AS_CATALOG"))?"preorder":"outofstock"}else{c=(1==redSHOP.RSConfig._("USE_AS_CATALOG"))?"outofstock":"preorder"}}}}redSHOP.updateStockStatusMessage(c,a);return("instock"==c)}function calculateSingleProductPrice(h,l,k,m){var c=true;h=parseFloat(h);for(var f=0;f<m.length;f++){var b=m[f];var a=document.getElementById(l+b).value;var g=document.getElementById(k+b).value;if(a=="-"){h-=parseFloat(g)}else{if(a=="+"){h+=parseFloat(g)}else{if(a=="*"){h*=parseFloat(g)}else{if(a=="/"){h/=parseFloat(g)}else{if(a=="="){h=parseFloat(g);c=false;break}}}}}}var e=new Array();e[0]=c;e[1]=h;return e}function calculateTotalPrice(c,l){if(c==0||c==""){return false}var k=0;var g=0;var f=0;var a=0;var h=0;var e=collectAccessory(c,l);var m=1;if(l!=0){prefix=l}else{prefix=c}if(document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)){m=document.getElementById("quantity"+prefix).value}if(document.getElementById("accessory_price_withoutvat")){a=parseFloat(document.getElementById("accessory_price_withoutvat").value)}collectAttributes(c,0,l);if(document.getElementById("tmp_product_price")){k=parseFloat(document.getElementById("tmp_product_price").value)}if(document.getElementById("hidden_subscription_prize")){k=parseFloat(k)+parseFloat(document.getElementById("hidden_subscription_prize").value)}if(document.getElementById("productprice_notvat")){g=parseFloat(document.getElementById("productprice_notvat").value)}if(document.getElementById("tmp_product_old_price")){f=parseFloat(document.getElementById("tmp_product_old_price").value)}setWrapperComboBox();var o=0;if(document.getElementById("wrapper_price")){o=document.getElementById("wrapper_price").value}var b=0;if(document.getElementById("wrapper_price_withoutvat")){b=document.getElementById("wrapper_price_withoutvat").value}final_price_f=parseFloat(k)+parseFloat(e)+parseFloat(o);product_price_without_vat=parseFloat(g)+parseFloat(a)+parseFloat(b);h=parseFloat(f)+parseFloat(e)+parseFloat(o);savingprice=parseFloat(h)-parseFloat(final_price_f);if(redSHOP.RSConfig._("SHOW_PRICE")=="1"){if(!final_price_f||(redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")=="1"&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE")!="1")){final_price=getPriceReplacement(final_price_f)}else{final_price=number_format(final_price_f,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}}else{final_price=getPriceReplacement(final_price_f)}if(redSHOP.RSConfig._("SHOW_PRICE")=="1"&&(redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")!="1"||(redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE")))){if(document.getElementById("produkt_kasse_hoejre_pris_indre"+c)){document.getElementById("produkt_kasse_hoejre_pris_indre"+c).innerHTML=final_price}if(document.getElementById("display_product_discount_price"+c)){document.getElementById("display_product_discount_price"+c).innerHTML=final_price}if(!product_price_without_vat){product_price_without_vat=getPriceReplacement(product_price_without_vat)}else{product_price_without_vat=number_format(product_price_without_vat,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}if(document.getElementById("display_product_price_without_vat"+c)){document.getElementById("display_product_price_without_vat"+c).innerHTML=product_price_without_vat}if(document.getElementById("display_product_price_no_vat"+c)){document.getElementById("display_product_price_no_vat"+c).innerHTML=product_price_without_vat}if(document.getElementById("display_product_old_price"+c)){if(!h){h=getPriceReplacement(h)}else{h=number_format(h,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"))}document.getElementById("display_product_old_price"+c).innerHTML=h}if(document.getElementById("display_product_saving_price"+c)){savingprice=number_format(savingprice,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));document.getElementById("display_product_saving_price"+c).innerHTML=savingprice}if(document.getElementById("rs_selected_accessory_price")){document.getElementById("rs_selected_accessory_price").innerHTML=final_price}}}function collectAccessory(s,m){if(s==0||s==""){return false}var y="";var x="";var t=0;var l=0;var p=0;var r=0;var w=0;var f=0;var z=0;var A=new Array();var b=new Array();var B=new Array();var k=new Array();var v=new Array();if(document.getElementById("isAjaxBoxOpen")){y=document.getElementById("isAjaxBoxOpen").value}if(y=="viewajaxdetail"){x="ajax_"}if(document.getElementsByName("accessory_id_"+x+s+"[]")){dcatt=document.getElementsByName("accessory_id_"+x+s+"[]");if(document.getElementById("giftcard_id")){if(document.getElementById("giftcard_id").value>0){if(dcatt.length==0){return true}}}var u=(dcatt.length);for(j=0;j<u;j++){var e=0;var q=0;var a=dcatt[j].value;var h=x+s+"_"+a;var c=0;var o=0;acc_chk=document.getElementById("accessory_id_"+h);if(document.getElementById("attribute_id_"+h)){o=document.getElementById("attribute_id_"+h)}c=dcatt[j].checked;var g=1;if(m!=0){qid=m}else{qid=s}if(document.getElementById("accquantity_"+h)){g=document.getElementById("accquantity_"+h).value}else{if(document.getElementById("quantity"+qid)&&document.getElementById("quantity"+qid).type=="select-one"){g=document.getElementById("quantity"+qid).value}else{g=1}}if(c){A[f]=a;b[f]=g;collectAttributes(s,a,m);if(document.getElementById("accessory_price")){e=parseFloat(document.getElementById("accessory_price").value)}if(document.getElementById("accessory_price_withoutvat")){q=parseFloat(document.getElementById("accessory_price_withoutvat").value)}if(document.getElementById("acc_attribute_data")){B[f]=document.getElementById("acc_attribute_data").value}if(document.getElementById("acc_property_data")){k[f]=document.getElementById("acc_property_data").value}if(document.getElementById("acc_subproperty_data")){v[f]=document.getElementById("acc_subproperty_data").value}if(document.getElementById("divaccstatus"+h)){document.getElementById("divaccstatus"+h).className="accessorystatus added"}f++}else{if(document.getElementById("divaccstatus"+h)){document.getElementById("divaccstatus"+h).className="accessorystatus"}}l+=(parseFloat(e)*g);p+=(parseFloat(q)*g)}t+=parseFloat(l);r+=parseFloat(p);if(document.getElementById("accessory_data")){document.getElementById("accessory_data").value=A.join("@@")}if(document.getElementById("acc_quantity_data")){document.getElementById("acc_quantity_data").value=b.join("@@")}if(document.getElementById("acc_attribute_data")){document.getElementById("acc_attribute_data").value=B.join("@@")}if(document.getElementById("acc_property_data")){document.getElementById("acc_property_data").value=k.join("@@")}if(document.getElementById("acc_subproperty_data")){document.getElementById("acc_subproperty_data").value=v.join("@@")}if(document.getElementById("accessory_price")){document.getElementById("accessory_price").value=t}if(document.getElementById("accessory_price_withoutvat")){document.getElementById("accessory_price_withoutvat").value=r}}return t}function number_format(g,c,p,f){var b=g,a=c;b*=redSHOP.RSConfig._("CURRENCY_CONVERT");var k=function(v,u){var s=Math.pow(10,u);return(Math.round(v*s)/s).toString()};b=!isFinite(+b)?0:+b;a=!isFinite(+a)?0:Math.abs(a);var t=(typeof f==="undefined")?",":f;var e=(typeof p==="undefined")?".":p;var r=(a>0)?k(b,a):k(Math.round(b),a);var q=k(Math.abs(b),a);var o,h;if(q>=1000){o=q.split(/\D/);h=o[0].length%3||3;o[0]=r.slice(0,h+(b<0))+o[0].slice(h).replace(/(\d{3})/g,t+"$1");r=o.join(e)}else{r=r.replace(".",e)}var m=r.indexOf(e);if(a>=1&&m!==-1&&(r.length-m-1)<a){r+=new Array(a-(r.length-m-1)).join(0)+"0"}else{if(a>=1&&m===-1){r+=e+new Array(a).join(0)+"0"}}var l="";if(redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")=="front"){l=redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+r}else{if(redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")=="behind"){l=r+redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")}else{if(redSHOP.RSConfig._("CURRENCY_SYMBOL_POSITION")=="none"){l=r}else{l=redSHOP.RSConfig._("CURRENCY_SYMBOL_CONVERT")+r}}}return l}function getPriceReplacement(b){var a="";if(redSHOP.RSConfig._("SHOW_PRICE")=="0"){url=redSHOP.RSConfig._("PRICE_REPLACE_URL");if(url==""){url="#"}a="<a href='"+url+"'>"+redSHOP.RSConfig._("PRICE_REPLACE")+"</a>"}if(redSHOP.RSConfig._("SHOW_PRICE")=="1"&&b==0){url=redSHOP.RSConfig._("ZERO_PRICE_REPLACE_URL");if(url==""){url="#"}a="<a href='"+url+"'>"+redSHOP.RSConfig._("ZERO_PRICE_REPLACE")+"</a>"}return a}function setWrapper(e,b,c,a){if(document.getElementById("wrapper_id")){document.getElementById("wrapper_id").value=e}if(document.getElementById("sel_wrapper_id")){document.getElementById("sel_wrapper_id").value=e}document.getElementById("wrapper_price").value=b;document.getElementById("wrapper_price_withoutvat").value=c;calculateTotalPrice(a,0)}function setPropImage(c,a,e){var g=document.getElementById(a);if(g){if(g.type=="checkbox"||g.type=="radio"){var b=document.getElementsByName(a+"[]");for(var h=0;h<b.length;h++){var f=b[h].value;if(f==e){b[h].checked=true}}}else{for(var h=0;h<g.options.length;h++){var f=g.options[h].value;if(f==e){g.options[h].selected=true}}}}}function setSubpropImage(c,b,f){var a=document.getElementById(b);if(a){if(a.type=="checkbox"||a.type=="radio"){var e=document.getElementsByName(b+"[]");for(var h=0;h<e.length;h++){var g=e[h].value;if(e[h].value==f){e[h].checked=true}}}else{for(var h=0;h<a.options.length;h++){var g=a.options[h].value;if(a.options[h].value==f){a.options[h].selected=true}}}}}function setPropertyImage(c,a){var e=0;var g=document.getElementById(a);if(g){if(g.type=="checkbox"||g.type=="radio"){var b=document.getElementsByName(a+"[]");for(var h=0;h<b.length;h++){var f="";e=b[h].value;if(b[h].checked){f="1px solid"}if(document.getElementById(a+"_propimg_"+e)){document.getElementById(a+"_propimg_"+e).style.border=f}}}else{for(var h=0;h<g.length;h++){var f="";e=g[h].value;if(g[g.selectedIndex].value==e){f="1px solid"}if(document.getElementById(a+"_propimg_"+e)){document.getElementById(a+"_propimg_"+e).style.border=f}}}}}function setSubpropertyImage(c,b,f){var f=0;var a=document.getElementById(b);if(a){if(a.type=="checkbox"||a.type=="radio"){var e=document.getElementsByName(b+"[]");for(var h=0;h<e.length;h++){var g="";f=e[h].value;if(e[h].checked){g="1px solid"}if(document.getElementById(b+"_subpropimg_"+f)){document.getElementById(b+"_subpropimg_"+f).style.border=g}}}else{for(var h=0;h<a.length;h++){var g="";f=a[h].value;if(a[a.selectedIndex].value==f){g="1px solid"}if(document.getElementById(b+"_subpropimg_"+f)){document.getElementById(b+"_subpropimg_"+f).style.border=g}}}}}function displayAdditionalImage(f,h,o,b,g){var k="&product_id="+f;k=k+"&accessory_id="+h;k=k+"&relatedprd_id="+o;k=k+"&property_id="+b;k=k+"&subproperty_id="+g;var l="";if(h!=0){prefix="acc_";f=h}else{if(o!=0){prefix="rel_"}else{prefix="prd_"}}collectAttributes(f,0,o);if(document.getElementById("property_data")){var p=document.getElementById("property_data").value;k=k+"&property_data="+encodeURIComponent(p)}if(document.getElementById("subproperty_data")){var e=document.getElementById("subproperty_data").value;k=k+"&subproperty_data="+encodeURIComponent(e)}if(document.getElementById(prefix+"main_imgwidth")){k=k+"&main_imgwidth="+parseInt(document.getElementById(prefix+"main_imgwidth").value)}if(document.getElementById(prefix+"main_imgheight")){k=k+"&main_imgheight="+parseInt(document.getElementById(prefix+"main_imgheight").value)}var q=0;if(document.getElementById("a_main_image"+f)||document.getElementById("main_image"+f)){var c="";if(document.getElementById("a_main_image"+f)){var m=document.getElementById("a_main_image"+f).href;if("undefined"!==typeof m){m=m.split("");c=m.reverse();c=c.join("");m=c.split(".");m=m[0].split("");c=m.reverse();c=c.join("")}}else{var m=document.getElementById("main_image"+f).src;if("undefined"!==typeof m){m=m.split("");c=m.reverse();c=c.join("");m=c.split(".");m=m[0].split("");c=m.reverse();c=c.join("");c=c.split("&");c=c[0]}}c=c.toLowerCase();if(c=="jpg"||c=="jpeg"||c=="png"||c=="gif"||c=="bmp"){q=1}}var a=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=displayAdditionImage&redview="+redSHOP.RSConfig._("REDSHOP_VIEW")+"&redlayout="+redSHOP.RSConfig._("REDSHOP_LAYOUT")+"&tmpl=component";a=a+k;request=getHTTPObject();request.onreadystatechange=function(){if(request.readyState==4){l=request.responseText;var r=l.split("`_`");if(r[9]!=""&&document.getElementById("product_number_variable"+f)){document.getElementById("product_number_variable"+f).innerHTML=r[9]}subproperty_main_image=r[4];if(document.getElementById("a_main_image"+f)){if(r[2]!=""&&q==1){document.getElementById("a_main_image"+f).href=r[2]}if(r[3]!=""){document.getElementById("a_main_image"+f).title=r[3]}}if(r[4]!=""&&document.getElementById("main_image"+f)){document.getElementById("main_image"+f).src=r[4]}if(document.getElementById("additional_images"+f)&&r[1]!=""){document.getElementById("additional_images"+f).innerHTML=r[1]}if(document.getElementById("hidden_attribute_cartimage"+f)){document.getElementById("hidden_attribute_cartimage"+f).value=r[12]}if(document.getElementById("stockImage"+f)&&r[5]!=""){document.getElementById("stockImage"+f).src=r[5]}if(document.getElementById("stockImageTooltip"+f)&&r[6]!=""){document.getElementById("stockImageTooltip"+f).innerHTML=r[6]}if(document.getElementById("displayProductInStock"+f)&&r[10]!=""){document.getElementById("displayProductInStock"+f).innerHTML=r[10]}if(document.getElementById("ProductAttributeMinDelivery"+f)&&r[7]!=""){document.getElementById("ProductAttributeMinDelivery"+f).innerHTML=r[7]}if(document.getElementById("stock_status_div"+f)&&r[11]!=""){document.getElementById("stock_status_div"+f).innerHTML=r[11]}if(document.getElementById("notify_stock"+f)){document.getElementById("notify_stock"+f).innerHTML=r[13]}if(document.getElementById("stock_availability_date_lbl"+f)){document.getElementById("stock_availability_date_lbl"+f).innerHTML=r[14]}if(document.getElementById("stock_availability_date"+f)){document.getElementById("stock_availability_date"+f).innerHTML=r[15]}var s={isenable:true,mainImage:false};preloadSlimbox(s)}};request.open("GET",a,true);request.send(null)}function preloadSlimbox(a){if(a.isenable){var b={handler:"image"};redBOX.initialize({});if(a.mainImage){redBOX.assign($$("a[rel='myallimg']"),b)}else{redBOX.assign($$(".additional_image > a[rel='myallimg']"),b)}}}function setWrapperComboBox(){if(document.getElementById("wrapper_id")&&document.getElementById("sel_wrapper_id")){document.getElementById("sel_wrapper_id").value=document.getElementById("wrapper_id").value}var c=document.getElementsByName("w_price");var f=0;if(document.getElementById("sel_wrapper_id")){f=document.getElementById("sel_wrapper_id").value}var e=0;var a=0;if(document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked){if(f!=0){e=document.getElementById("w_price"+f).value;a=document.getElementById("w_price_withoutvat"+f).value}}if(document.getElementById("wrapper_price")){document.getElementById("wrapper_price").value=e}if(document.getElementById("wrapper_price_withoutvat")){document.getElementById("wrapper_price_withoutvat").value=a}for(i=0;i<c.length;i++){var b=c[i].id.substr(7);if(document.getElementById("wrappertd"+b)){if(b==f){document.getElementById("wrappertd"+b).style.border="1px solid";document.getElementById("wrappertd"+b).style.padding="7px"}else{document.getElementById("wrappertd"+b).style.border="";document.getElementById("wrappertd"+b).style.padding=""}}}}function discountCalculation(s){var c=0,r=0,a=0,t=0,g="cm",b="cm",k="",h=0,f=0,e="",q=0;if(document.getElementById("calc_height")){c=document.getElementById("calc_height").value;if(c==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT"));return false}}if(document.getElementById("calc_width")){r=document.getElementById("calc_width").value;if(r==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH"));return false}}if(document.getElementById("calc_depth")){a=document.getElementById("calc_depth").value;if(a==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH"));return false}}if(document.getElementById("calc_radius")){t=document.getElementById("calc_radius").value;if(t==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS"));return false}}if(document.getElementById("discount_calc_unit")){g=document.getElementById("discount_calc_unit").value;if(g==0){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT"));return false}}if(document.getElementById("calc_unit")){b=document.getElementById("calc_unit").value}var u=new Array();if(document.getElementsByName("pdc_option_name[]")){var o=document.getElementsByName("pdc_option_name[]");var m=0;for(var l=0;l<o.length;l++){var p=o[l];if(p.checked){u[m]=p.value;m++}}}u=u.join(",");http=getHTTPObject();if(http==null){alert("Your browser does not support XMLHTTP!");return}http.onreadystatechange=function(){if(http.readyState==4){var y=http.responseText;y=y.replace(/^\s+|\s+$/g,"");if(y=="fail"){alert(Joomla.JText._("COM_REDSHOP_NOT_AVAILABLE"));return false}else{y=y.split("\n");var v=document.getElementsByName("quantity"),E=1;for(var B=0;B<v.length;B++){if(v[B].id=="ajax_quantity"+s){E=v[B].value}else{if(v[B].id=="quantity"+s){E=v[B].value}}}k=y[0];h=y[1];f=y[2];price_excl_vat=y[7];var C=number_format(h,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));var A=number_format(f,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));if(E<=0){E=1}q=parseFloat(f)*E;var z=number_format(q,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));e=y[3]+k+"<br />";e+=y[4]+C+"<br />";e+=y[5]+A+"<br />";e+=y[6]+z;if(document.getElementById("discount_cal_final_price")){document.getElementById("discount_cal_final_price").innerHTML=e}if(document.getElementById("main_price"+s)){var x=document.getElementById("main_price"+s).value;if(redSHOP.RSConfig._("SHOW_PRICE")=="1"&&(redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")!="1"||(redSHOP.RSConfig._("DEFAULT_QUOTATION_MODE")&&redSHOP.RSConfig._("SHOW_QUOTATION_PRICE")))){var w=final_price_f-parseFloat(x)+parseFloat(q);if(y[8]==1){var D=q+price_excl_vat*E}else{var D=q*E}z=number_format(w,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));formatted_product_price_excl_vat=number_format(D,redSHOP.RSConfig._("PRICE_DECIMAL"),redSHOP.RSConfig._("PRICE_SEPERATOR"),redSHOP.RSConfig._("THOUSAND_SEPERATOR"));if(document.getElementById("produkt_kasse_hoejre_pris_indre"+s)){document.getElementById("produkt_kasse_hoejre_pris_indre"+s).innerHTML=formatted_product_price_excl_vat;if(document.getElementById("display_product_price_no_vat"+s)){document.getElementById("display_product_price_no_vat"+s).innerHTML=z}if(document.getElementById("product_price_no_vat"+s)){document.getElementById("product_price_no_vat"+s).value=w}}if(document.getElementById("product_price_incl_vat"+s)){document.getElementById("product_price_incl_vat"+s).innerHTML=formatted_product_price_excl_vat}document.getElementById("main_price"+s).value=D}calculateTotalPrice(s,0)}}}};http.open("GET",redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart&task=discountCalculator&product_id="+s+"&calcHeight="+c+"&calcWidth="+r+"&calcDepth="+a+"&calcRadius="+t+"&calcUnit="+g+"&pdcextraid="+u+"&tmpl=component",true);http.send(null)}function setProductUserFieldImage(g,c,a,f){var e=document.getElementsByClassName("imgClass_"+c);for(var b=0;b<e.length;b++){removeClass(e[b],"selectedimg")}if(document.getElementById(g+"_"+c)){document.getElementById(g+"_"+c).value=a;f.className+=" selectedimg"}if(document.getElementById("ajax"+g+"_"+c)){document.getElementById("ajax"+g+"_"+c).value=a}if(document.getElementById(g)){document.getElementById(g).value=a}}function removeClass(c,a){if(hasClass(c,a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");c.className=c.className.replace(b," ")}}function hasClass(b,a){return b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}function RedgetElementsByClassName(c){var b=new Array();var a=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<a.length;i++){if((a[i].className==c)){b[j]=a[i];j++}}return b}function getElementsByClassName(c){var b=new Array();var a=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<a.length;i++){if((a[i].className==c)){b[j]=a[i];j++}}return b}function displayAddtocartForm(c,k,e,m,l){var p="";var z="";if(document.getElementById(l)){z=document.getElementById(l).elements}if(k==0||k==""){return false}var u=new Array();var B=new Array();var r=new Array();var a="";for(var x=0;x<z.length;x++){if(z[x].type=="checkbox"&&z!=""||z[x].type=="radio"&&z!=""){if(z[x].checked==true){u[x]=z[x].value;B[x]=z[x].name;var g=document.getElementById(c).elements;a=reverseString(z[x].id);a=reverseString(a.substr(a.indexOf("_")+1));for(var w=0;w<g.length;w++){if(a==g[w].name){var q=g[w].value;if(q.search(u[x])==-1){if(g[w].value!=""){g[w].value+=","}g[w].value+=u[x]}}}}}else{if(z[x].type=="select-one"){u[x]=z[x].value;B[x]=z[x].name;var g=document.getElementById(c).elements;for(var w=0;w<g.length;w++){a=z[x].id;if(a==g[w].name){var q=g[w].value;if(q.search(u[x])){g[w].value+=u[x]}}}}else{if(z[x].type=="select-multiple"){var s=z[x];g=document.getElementById(c).elements;for(var f=0;f<s.options.length;f++){if(s.options[f].selected){for(var w=0;w<g.length;w++){a=z[x].id;if(a==g[w].name){var q=g[w].value;if(q.search(String(s.options[f].value))==-1){if(g[w].value!=""){g[w].value+=","}g[w].value+=(String(s.options[f].value))}}}}}}}}}var o=RedgetElementsByClassName("calendar");var v="";for(cal_i=0;cal_i<o.length;cal_i++){var A=o[cal_i].id;arr=A.split("_img");n=arr.length;var y=arr[0];if(y!=""&&y.search(c)){if(document.getElementById(y).value!=""){v=reverseString(y);v=reverseString(v.substr(v.indexOf("_")+1));var h=String(c);var g=document.getElementById(h).elements;var b=String(v+"_"+k);for(var w=0;w<g.length;w++){if(v==g[w].name){g[w].value=document.getElementById(b).value}}}}}if(document.getElementById(c)&&document.getElementById("requiedAttribute")){document.getElementById("requiedAttribute").value=document.getElementById(c).requiedAttribute.getAttribute("reattribute")}if(document.getElementById(c)&&document.getElementById("requiedProperty")){document.getElementById("requiedProperty").value=document.getElementById(c).requiedProperty.getAttribute("reproperty")}if(m==0){calculateTotalPrice(k,e)}if(!setAddtocartForm(c,k)){return false}return true}function setAddtocartForm(c,e){var o=document.getElementById(c);if(document.getElementById("Itemid")){o.Itemid.value=document.getElementById("Itemid").value}if(document.getElementById("attribute_data")){o.attribute_data.value=document.getElementById("attribute_data").value}if(document.getElementById("property_data")){o.property_data.value=document.getElementById("property_data").value}if(document.getElementById("subproperty_data")){o.subproperty_data.value=document.getElementById("subproperty_data").value}if(document.getElementById("accessory_data")){o.accessory_data.value=document.getElementById("accessory_data").value}if(document.getElementById("acc_quantity_data")){o.acc_quantity_data.value=document.getElementById("acc_quantity_data").value}if(document.getElementById("acc_attribute_data")){o.acc_attribute_data.value=document.getElementById("acc_attribute_data").value}if(document.getElementById("acc_property_data")){o.acc_property_data.value=document.getElementById("acc_property_data").value}if(document.getElementById("acc_subproperty_data")){o.acc_subproperty_data.value=document.getElementById("acc_subproperty_data").value}if(document.getElementById("accessory_price")){o.accessory_price.value=document.getElementById("accessory_price").value}if(document.getElementById("requiedAttribute")){o.requiedAttribute.value=document.getElementById("requiedAttribute").value}if(document.getElementById("requiedProperty")){o.requiedProperty.value=document.getElementById("requiedProperty").value}var f=1;if(document.getElementById("quantity"+e).value){f=document.getElementById("quantity"+e).value}if(document.getElementById("hidden_attribute_cartimage"+e)){o.hidden_attribute_cartimage.value=document.getElementById("hidden_attribute_cartimage"+e).value}if(parseInt(o.min_quantity.value)!=0&&parseInt(o.min_quantity.value)>f){alert(o.min_quantity.getAttribute("requiredtext")+" "+parseInt(o.min_quantity.value));return false}if(parseInt(o.max_quantity.value)!=0&&parseInt(o.max_quantity.value)<f){alert(o.max_quantity.getAttribute("requiredtext")+" "+parseInt(o.max_quantity.value));return false}if(document.getElementById("calc_height")){var b=document.getElementById("calc_height").value;if(b==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_HEIGHT"));return false}else{o.calcHeight.value=b}}if(document.getElementById("calc_width")){var m=document.getElementById("calc_width").value;if(m==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_WIDTH"));return false}else{o.calcWidth.value=m}}if(document.getElementById("calc_depth")){var a=document.getElementById("calc_depth").value;if(a==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_DEPTH"));return false}else{o.calcDepth.value=a}}if(document.getElementById("calc_radius")){var p=document.getElementById("calc_radius").value;if(p==""){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_RADIUS"));return false}else{o.calcRadius.value=p}}if(document.getElementById("discount_calc_unit")){calUnit=document.getElementById("discount_calc_unit").value;if(calUnit==0){alert(Joomla.JText._("COM_REDSHOP_PLEASE_INSERT_UNIT"));return false}else{o.calcUnit.value=calUnit}}var q=new Array();if(document.getElementsByName("pdc_option_name[]")){var k=document.getElementsByName("pdc_option_name[]");var h=0;for(var g=0;g<k.length;g++){var l=k[g];if(l.checked){q[h]=l.value;h++}}}q=q.join(",");o.pdcextraid.value=q;if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0){alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN"));return false}else{o.subscription_id.value=subId}}return true}function checkAddtocartValidation(c,m,k,p,o,s,G,F){if(m==0||m==""){return false}var b="";var u="";var h="";var g="";var r="";var B="";var D="";var t="";var C="";var z="";var a=false;var q=false;var f=new Array();var e=new Array();var w=0;var y=0;if(redSHOP.RSConfig._("AJAX_CART_BOX")==0){var E=userfieldValidation("extrafields"+m);if(!E){return false}var v=document.getElementById(c).requiedAttribute.value;var x=document.getElementById(c).requiedProperty.value;if(v!=""){alert(v);return false}if(x!=""){alert(x);return false}document.getElementById(c).submit()}else{var l=parseInt(s)+parseInt(G)+parseInt(F);if(p!=0){submitAjaxCartdetail(c,m,k,p,s,G,F)}else{var A=true;var E=userfieldValidation("extrafields"+m);if(!E){A=false}var v=document.getElementById(c).requiedAttribute.value;var x=document.getElementById(c).requiedProperty.value;if(v!=""){A=false}if(x!=""){A=false}if(l>0&&A==false){displayAjaxCartdetail(c,m,k,p,s,G,F)}else{submitAjaxCartdetail(c,m,k,p,s,G,F)}}}}function displayAjaxCartdetail(o,l,v,f,Q,h,w){if(l==0||l==""){return false}var z="";if(document.getElementById("isAjaxBoxOpen")){z=document.getElementById("isAjaxBoxOpen").value}var k=0,a=1,I=1,E=0;var x=document.getElementById(o);var A=document.getElementsByName("extrafields"+l+"[]");var F="";var u="";var N="";var K=false;var J="";var t="";var c=false;var s="";var P="";for(var G=0;G<A.length;G++){if(!A[G].value&&A[G].type=="text"){F+=A[G].id;if((A.length-1)!=G){F+=","}}else{if(!A[G].value&&A[G].type=="select-one"){F+=A[G].id;if((A.length-1)!=G){F+=","}}else{if(!A[G].value&&A[G].type=="hidden"){s=reverseString(A[G].id);s=reverseString(s.substr(s.indexOf("_")+1));F+=s;if((A.length-1)!=G){F+=","}}else{if(A[G].type=="checkbox"){N=reverseString(A[G].id);N=reverseString(N.substr(N.indexOf("_")+1));if(u!=""&&u!=N&&K==false){F+=u+","}if(u!=N){u=N;K=false}if(A[G].checked||K==true){K=true;continue}if((G==(A.length-1)&&K==false)||(A[G+1].type!="checkbox"&&K==false)){F+=u+","}}else{if(A[G].type=="radio"){t=reverseString(A[G].id);t=reverseString(t.substr(t.indexOf("_")+1));if(J!=""&&J!=t&&c==false){F+=J+","}if(J!=t){J=t;c=false}if(A[G].checked||c==true){c=true;continue}else{if((G==(A.length-1)&&c==false)||(A[G+1].type!="radio"&&c==false)){F+=J+","}}}else{if(A[G].type=="select-multiple"){P=reverseString(A[G].id);P=reverseString(P.substr(P.indexOf("_")+1));if(A[G].value){continue}else{F+=P+","}}}}}}}}var H=RedgetElementsByClassName("calendar");var B="";for(cal_i=0;cal_i<H.length;cal_i++){var D=H[cal_i].id;arr=D.split("_img");n=arr.length;var L=arr[0];if(L!=""){if(document.getElementById(L).value==""){B=reverseString(L);B=reverseString(B.substr(B.indexOf("_")+1));F+=","+B+","}}}var r="";if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0||subId==""){alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN"));return false}r="&subscription_id="+subId}var C=1;var b="";request=getHTTPObject();if(document.getElementById("quantity"+l).value){C=document.getElementById("quantity"+l).value}var e=document.getElementById(o).requiedAttribute.value;var p=document.getElementById(o).requiedProperty.value;var q=document.getElementById(o).accessory_data.value;if(F==0){w=0}if(e==""&&p==""){Q=0}var O=new Array();if(h>0&&q!=""&&q!=0){O=q.split("@@");if(h==O.length){h=0}}var m=parseInt(Q)+parseInt(h)+parseInt(w);var g=parseInt(Q)+parseInt(w);if((h>0&&g==0&&O.length>0)||m==0||z=="viewajaxdetail"){submitAjaxCartdetail(o,l,v,f,Q,h,w)}else{var M="&property_data="+encodeURIComponent(document.getElementById(o).property_data.value);M=M+"&subproperty_data="+encodeURIComponent(document.getElementById(o).subproperty_data.value);M=M+"&accessory_data="+encodeURIComponent(document.getElementById(o).accessory_data.value);M=M+"&acc_quantity_data="+encodeURIComponent(document.getElementById(o).acc_quantity_data.value);M=M+"&acc_property_data="+encodeURIComponent(document.getElementById(o).acc_property_data.value);M=M+"&acc_subproperty_data="+encodeURIComponent(document.getElementById(o).acc_subproperty_data.value);var b="option=com_redshop&view=product&pid="+l+"&relatedprd_id="+v+"&layout=viewajaxdetail&product_quantity="+C+"&tmpl=component&nextrafield="+w+"&extrafieldNames="+F+r+M;var y=redSHOP.RSConfig._("SITE_URL")+"index.php?"+b;request.onreadystatechange=function(){if(request.readyState==4&&request.status==200){var S=request.responseText;var R={url:y,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_DETAIL_BOX_HEIGHT"))},htmldata:S};redBOX.initialize({});document.attbox=redBOX.open(null,R);var X={isenable:false,mainImage:false};preloadSlimbox(X);var T=RedgetElementsByClassName("calendar");for(i=0;i<T.length;i++){var V=T[i].id;arr=V.split("_img");n=arr.length;var W=arr[0];var U=W.split("ajax");if((V.search("ajax")!=-1)&&(F.search(U[0])!=-1)){window.addEvent("domready",function(){Calendar.setup({inputField:W,ifFormat:"%d-%m-%Y",button:T[i].id,align:"Tl",singleClick:true})})}}}};request.open("POST",y,true);request.send(b)}}var getExtraParamsArray={};var redShopJsTrigger=[];function submitAjaxCartdetail(r,q,C,h,ah,o,D){var X=document.getElementById(r);var af=0;var k=0;var x=0;var v=0;var V=0;var N=0;var s=0;var U=0;var Z="";var l="";var p="";var M="";var S=1;var L="";var A=false;var F=0,y=0;var H=document.getElementsByName("extrafields"+q+"[]");var J="";var m="";var aa="";var B="";var ae="";var Y=false;var T="";var z="";var c=false;var ag="";var G=userfieldValidation("extrafields"+q);if(!G){return false}var f=document.getElementById(r).requiedAttribute.value;var u=document.getElementById(r).requiedProperty.value;if(f!=0&&f!=""){alert(f);return false}if(u!=0&&u!=""){alert(u);return false}for(var Q=0;Q<H.length;Q++){if(H[Q].type=="checkbox"){ae=reverseString(H[Q].id);ae=reverseString(ae.substr(ae.indexOf("_")+1));if(B!=""&&B!=ae&&m!=""){aa+="&"+B+"="+m}if(B!=ae){m="";B=ae}if(H[Q].checked){if(m!=""){m+=","}m+=H[Q].value}if(Q==(H.length-1)&&m!=""){aa+="&"+ae+"="+m}if(Q<(H.length-1)){if((H[Q+1].type!="checkbox")&&m!=""){aa+="&"+ae+"="+m}}}else{if(H[Q].type=="radio"){z=reverseString(H[Q].id);z=reverseString(z.substr(z.indexOf("_")+1));if(T!=""&&T!=z&&c==false){aa+="&"+T+"="+m}if(T!=z){m="";T=z;c=false;if(H[Q].checked||c==true){c=true;aa+="&"+T+"="+H[Q].value;continue}}else{if(H[Q].checked||c==true){c=true;aa+="&"+z+"="+H[Q].value;continue}}}else{if(H[Q].type=="select-multiple"){var O=H[Q];m="";ag=reverseString(H[Q].id);ag=reverseString(ag.substr(ag.indexOf("_")+1));for(var P=0;P<O.options.length;P++){if(O.options[P].selected){var ad=m;if(ad.search(String(O.options[P].value))==-1){if(m!=""){m+=","}m+=(String(O.options[P].value))}}}if(m){aa+="&"+ag+"="+m}}else{if(H[Q].type=="hidden"){imgfieldNamefrmId=reverseString(H[Q].id);imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1));J=imgfieldNamefrmId;m=H[Q].value;aa+="&"+J+"="+m;m=""}else{if(H[Q].id.search("ajax")!=-1){var b=H[Q].id.split("ajax");var I="";I=reverseString(b[1]);I=reverseString(I.substr(I.indexOf("_")+1));H[Q].id=I}J=H[Q].id;m=encodeURIComponent(H[Q].value);aa+="&"+J+"="+m}}}}}var R=RedgetElementsByClassName("calendar");var I="";for(cal_i=0;cal_i<R.length;cal_i++){var K=R[cal_i].id;arr=K.split("_img");W=arr.length;var ac=arr[0];if(ac!=""&&ac.search(q)){if(document.getElementById(ac).value!=""){I=reverseString(ac);I=reverseString(I.substr(I.indexOf("_")+1));aa+="&"+I+"="+document.getElementById(ac).value}}}var w="";if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0||subId==""){alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN"));return false}w="&subscription_id="+subId}if(document.getElementById("giftcard_id")){L="&giftcard_id="+q;if(document.getElementById("reciver_email")){L+="&reciver_email="+document.getElementById("reciver_email").value}if(document.getElementById("reciver_name")){L+="&reciver_name="+document.getElementById("reciver_name").value}if(document.getElementById("customer_amount")){L+="&customer_amount="+document.getElementById("customer_amount").value}}else{L="&product_id="+q}request=getHTTPObject();var a="option=com_redshop&view=cart&task=add&tmpl=component&ajax_cart_box=1";a=a+"&Itemid="+X.Itemid.value+L;a=a+"&category_id="+X.category_id.value;a=a+"&attribute_data="+X.attribute_data.value;a=a+"&property_data="+X.property_data.value;a=a+"&subproperty_data="+X.subproperty_data.value;a=a+"&requiedAttribute="+X.requiedAttribute.value;a=a+"&requiedProperty="+X.requiedProperty.value;a=a+"&accessory_data="+X.accessory_data.value;a=a+"&acc_quantity_data="+X.acc_quantity_data.value;a=a+"&acc_attribute_data="+X.acc_attribute_data.value;a=a+"&acc_property_data="+X.acc_property_data.value;a=a+"&acc_subproperty_data="+X.acc_subproperty_data.value;a=a+"&accessory_price="+X.accessory_price.value;if(document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked){a=a+"&sel_wrapper_id="+X.sel_wrapper_id.value}a=a+"&quantity="+X.quantity.value;a=a+"&hidden_attribute_cartimage="+X.hidden_attribute_cartimage.value;if(document.getElementById("calc_height")){a=a+"&calcHeight="+X.calcHeight.value}if(document.getElementById("calc_width")){a=a+"&calcWidth="+X.calcWidth.value}if(document.getElementById("calc_depth")){a=a+"&calcDepth="+X.calcDepth.value}if(document.getElementById("calc_radius")){a=a+"&calcRadius="+X.calcRadius.value}if(document.getElementById("calc_unit")){a=a+"&calcUnit="+X.calcUnit.value}a=a+"&pdcextraid="+X.pdcextraid.value;a=a+w+aa;if(redShopJsTrigger.length>0){for(var ab=0,W=redShopJsTrigger.length;ab<W;ab++){new redShopJsTrigger[ab](arguments)}}if("object"===typeof getExtraParamsArray){for(key in getExtraParamsArray){a+="&"+key+"="+getExtraParamsArray[key]}}var e=redSHOP.RSConfig._("SITE_URL")+"index.php?"+a;request.open("POST",e,false);request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.setRequestHeader("Content-length",a.length);request.setRequestHeader("Connection","close");var E=true;request.onreadystatechange=function(){if(request.readyState==4){var t=request.responseText;t=t.split("`");if(t[1]=="0"){alert(t[2]);return false}else{if(document.attbox){document.attbox.close()}}if(document.getElementById("mod_cart_total")&&t[1]){document.getElementById("mod_cart_total").innerHTML=t[1]}if(document.getElementById("rs_promote_free_shipping_div")&&t[2]){document.getElementById("rs_promote_free_shipping_div").innerHTML=t[2]}if(document.getElementById("mod_cart_checkout_ajax")){document.getElementById("mod_cart_checkout_ajax").style.display=""}var g=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&pid="+q+"&r_template=cartbox&tmpl=component";request_inner=getHTTPObject();request_inner.onreadystatechange=function(){if(request_inner.readyState==4&&request_inner.status==200&&E){var aj=request_inner.responseText;E=false;var ai={url:g,handler:"html",size:{x:parseInt(redSHOP.RSConfig._("AJAX_BOX_WIDTH")),y:parseInt(redSHOP.RSConfig._("AJAX_BOX_HEIGHT"))},htmldata:aj,onOpen:function(){if(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME")>0){var ak=function(){this.close()}.bind(this).delay(redSHOP.RSConfig._("AJAX_CART_DISPLAY_TIME"))}}};redBOX.initialize({});document.ajaxbox=redBOX.open(null,ai)}};request_inner.open("GET",g,true);request_inner.send(null)}};request.send(e)}function displayAddtocartProperty(c,e,b,a){if(document.getElementById("attribute_data")){document.getElementById("attribute_data").value=b}if(document.getElementById("property_data")){document.getElementById("property_data").value=a}if(document.getElementById("subproperty_data")){document.getElementById("subproperty_data").value=""}if(!setAddtocartForm(c,e)){return false}return true}function showallreviews(){if(document.getElementById("showreviews")){if(document.getElementById("showreviews").style.display=="none"){document.getElementById("showreviews").style.display=""}else{document.getElementById("showreviews").style.display="none"}}}function checkAddtocartwishlistValidation(c,m,k,p,o,s,F,E,l){if(m==0||m==""){return false}var b="";var u="";var h="";var g="";var r="";var B="";var C="";var t="";var A="";var z="";var a=false;var q=false;var f=new Array();var e=new Array();var w=0;var y=0;if(l==1){var D=userfieldValidation("extrafields"+m);if(!D){return false}var v=document.getElementById(c).requiedAttribute.value;var x=document.getElementById(c).requiedProperty.value;if(v!=""){alert(v);return false}if(x!=""){alert(x);return false}return true}else{submitAjaxCartdetail(c,m,k,p,s,F,E);return true}}var mainpro_id=new Array();var totatt=new Array();var totcount_no_user_field=new Array();function productalladdprice(c){var b=1;mainpro_id=document.frm.product_id.value.split(",");totatt=document.frm.totacc_id.value.split(",");totcount_no_user_field=document.frm.totcount_no_user_field.value.split(",");mainpro_id.length=mainpro_id.length-1;for(var a=0;a<mainpro_id.length;a++){if(mainpro_id[a]!=""){if(displayAddtocartForm("addtocart_prd_"+mainpro_id[a],mainpro_id[a],"0","0","user_fields_form")){if(!checkAddtocartwishlistValidation("addtocart_prd_"+mainpro_id[a],mainpro_id[a],"0","0","user_fields_form",totatt[a],"",totcount_no_user_field[a],b)){return false}else{}if(a==(mainpro_id.length-1)){}}}}submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[0],mainpro_id[0],0,0,totatt[0],0,totcount_no_user_field[0],c)}var d=0;function submitAjaxwishlistCartdetail(s,r,D,h,ah,p,E,l){displayAddtocartForm("addtocart_prd_"+mainpro_id[d],mainpro_id[d],"0","0","user_fields_form");var X=document.getElementById(s);var af=0;var k=0;var y=0;var w=0;var V=0;var N=0;var u=0;var U=0;var Z="";var m="";var q="";var M="";var S=1;var L="";var B=false;var F=0,z=0;var H=document.getElementsByName("extrafields"+r+"[]");var J="";var o="";var aa="";var C="";var ae="";var Y=false;var T="";var A="";var c=false;var ag="";var G=userfieldValidation("extrafields"+r);if(!G){return false}var f=document.getElementById(s).requiedAttribute.value;var v=document.getElementById(s).requiedProperty.value;if(f!=0&&f!=""){alert(f);return false}if(v!=0&&v!=""){alert(v);return false}for(var Q=0;Q<H.length;Q++){if(H[Q].type=="checkbox"){ae=reverseString(H[Q].id);ae=reverseString(ae.substr(ae.indexOf("_")+1));if(C!=""&&C!=ae&&o!=""){aa+="&"+C+"="+o}if(C!=ae){o="";C=ae}if(H[Q].checked){if(o!=""){o+=","}o+=H[Q].value}if(Q==(H.length-1)&&o!=""){aa+="&"+ae+"="+o}if(Q<(H.length-1)){if((H[Q+1].type!="checkbox")&&o!=""){aa+="&"+ae+"="+o}}}else{if(H[Q].type=="radio"){A=reverseString(H[Q].id);A=reverseString(A.substr(A.indexOf("_")+1));if(T!=""&&T!=A&&c==false){aa+="&"+T+"="+o}if(T!=A){o="";T=A;c=false;if(H[Q].checked||c==true){c=true;aa+="&"+T+"="+H[Q].value;continue}}else{if(H[Q].checked||c==true){c=true;aa+="&"+A+"="+H[Q].value;continue}}}else{if(H[Q].type=="select-multiple"){var O=H[Q];o="";ag=reverseString(H[Q].id);ag=reverseString(ag.substr(ag.indexOf("_")+1));for(var P=0;P<O.options.length;P++){if(O.options[P].selected){var ad=o;if(ad.search(String(O.options[P].value))==-1){if(o!=""){o+=","}o+=(String(O.options[P].value))}}}if(o){aa+="&"+ag+"="+o}}else{if(H[Q].type=="hidden"){imgfieldNamefrmId=reverseString(H[Q].id);imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1));J=imgfieldNamefrmId;o=H[Q].value;aa+="&"+J+"="+o;o=""}else{if(H[Q].type=="text"){J=H[Q].id;o=H[Q].value;aa+="&"+J+"="+o}else{if(H[Q].id.search("ajax")!=-1){var b=H[Q].id.split("ajax");var I="";I=reverseString(b[1]);I=reverseString(I.substr(I.indexOf("_")+1));H[Q].id=I}J=H[Q].id;o=H[Q].value;aa+="&"+J+"="+o}}}}}}var R=RedgetElementsByClassName("calendar");var I="";for(cal_i=0;cal_i<R.length;cal_i++){var K=R[cal_i].id;arr=K.split("_img");W=arr.length;var ac=arr[0];if(ac!=""&&ac.search(r)){if(document.getElementById(ac).value!=""){I=reverseString(ac);I=reverseString(I.substr(I.indexOf("_")+1));aa+="&"+I+"="+document.getElementById(ac).value}}}var x="";if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0||subId==""){alert(Joomla.JText._("COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN"));return false}x="&subscription_id="+subId}if(document.getElementById("giftcard_id")){L="&giftcard_id="+r;if(document.getElementById("reciver_email")){L+="&reciver_email="+document.getElementById("reciver_email").value}if(document.getElementById("reciver_name")){L+="&reciver_name="+document.getElementById("reciver_name").value}if(document.getElementById("customer_amount")){L+="&customer_amount="+document.getElementById("customer_amount").value}}else{L="&product_id="+r}request=getHTTPObject();if(l==1||l==2){var a="option=com_redshop&view=product&task=addtowishlist&wid=1&ajaxon=1&tmpl=component"}else{var a="option=com_redshop&view=cart&task=add&tmpl=component&ajax_cart_box=1"}a=a+"&Itemid="+X.Itemid.value+L;a=a+"&category_id="+X.category_id.value;a=a+"&attribute_data="+X.attribute_data.value;a=a+"&property_data="+X.property_data.value;a=a+"&subproperty_data="+X.subproperty_data.value;a=a+"&requiedAttribute="+X.requiedAttribute.value;a=a+"&requiedProperty="+X.requiedProperty.value;a=a+"&accessory_data="+X.accessory_data.value;a=a+"&acc_quantity_data="+X.acc_quantity_data.value;a=a+"&acc_attribute_data="+X.acc_attribute_data.value;a=a+"&acc_property_data="+X.acc_property_data.value;a=a+"&acc_subproperty_data="+X.acc_subproperty_data.value;a=a+"&accessory_price="+X.accessory_price.value;a=a+"&sel_wrapper_id="+X.sel_wrapper_id.value;a=a+"&quantity=1";if(document.getElementById("calc_height")){a=a+"&calcHeight="+X.calcHeight.value}if(document.getElementById("calc_width")){a=a+"&calcWidth="+X.calcWidth.value}if(document.getElementById("calc_depth")){a=a+"&calcDepth="+X.calcDepth.value}if(document.getElementById("calc_radius")){a=a+"&calcRadius="+X.calcRadius.value}if(document.getElementById("calc_unit")){a=a+"&calcUnit="+X.calcUnit.value}a=a+"&pdcextraid="+X.pdcextraid.value;a=a+x+aa;if(redShopJsTrigger.length>0){for(var ab=0,W=redShopJsTrigger.length;ab<W;ab++){new redShopJsTrigger[ab](arguments)}}if("object"===typeof getExtraParamsArray){for(key in getExtraParamsArray){a+="&"+key+"="+getExtraParamsArray[key]}}var e=redSHOP.RSConfig._("SITE_URL")+"index.php?"+a;if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){request.open("POST",e,true)}else{request.open("POST",e,false)}request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.setRequestHeader("Content-length",a.length);request.setRequestHeader("Connection","close");request.onreadystatechange=function(){if(request.readyState<4){if(document.getElementById("saveid")!=""&&l==1){document.getElementById("saveid").innerHTML='<font size="1" color="red">Processing...</font>'}else{document.getElementById("allcart").innerHTML='<font size="1" color="red">Processing...</font>'}}if(request.readyState==4){var ai=request.responseText;ai=ai.split("`");if(ai[1]=="0"){return false}else{if(document.attbox){document.attbox.close()}}d++;var aj=mainpro_id.length;if(d<aj){if(mainpro_id[d]!=""){submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[d],mainpro_id[d],0,0,totatt[d],0,totcount_no_user_field[d])}}else{if(l==1){window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?wishlist=1&option=com_redshop&view=login"}else{if(l==2){return false}else{window.location=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=cart"}}}document.getElementById("saveid").innerHTML="";document.getElementById("allcart").innerHTML="";if(document.getElementById("mod_cart_total")&&ai[1]){document.getElementById("mod_cart_total").innerHTML=ai[1]}if(document.getElementById("rs_promote_free_shipping_div")&&ai[2]){document.getElementById("rs_promote_free_shipping_div").innerHTML=ai[2]}if(document.getElementById("mod_cart_checkout_ajax")){document.getElementById("mod_cart_checkout_ajax").style.display=""}var g=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&pid="+r+"&r_template=cartbox&tmpl=component";var t={url:g,handler:"ajax",size:{x:500,y:600}};redBOX.initialize({});redBOX.open(null,t)}};request.send(e);request.send(null)}function addmywishlist(g,r,q){var v=document.getElementsByName("extrafields"+r+"[]");var o="";var l="";var a="";var B="";var b="";var k=false;var x="";var e="";var m=false;var E="";for(var A=0;A<v.length;A++){if(v[A].type=="checkbox"){b=reverseString(v[A].id);b=reverseString(b.substr(b.indexOf("_")+1));if(B!=""&&B!=b&&l!=""){a+="&"+B+"="+l}if(B!=b){l="";B=b}if(v[A].checked){if(l!=""){l+=","}l+=v[A].value}if(A==(v.length-1)&&l!=""){a+="&"+b+"="+l}if(A<(v.length-1)){if((v[A+1].type!="checkbox")&&l!=""){a+="&"+b+"="+l}}}else{if(v[A].type=="radio"){e=reverseString(v[A].id);e=reverseString(e.substr(e.indexOf("_")+1));if(x!=""&&x!=e&&m==false){a+="&"+x+"="+l}if(x!=e){l="";x=e;m=false;if(v[A].checked||m==true){m=true;a+="&"+x+"="+v[A].value;continue}}else{if(v[A].checked){m=true;a+="&"+e+"="+v[A].value;continue}}}else{if(v[A].type=="select-multiple"){var w=v[A];l="";E=reverseString(v[A].id);E=reverseString(E.substr(E.indexOf("_")+1));for(var p=0;p<w.options.length;p++){if(w.options[p].selected){var u=l;if(u.search(String(w.options[p].value))==-1){if(l!=""){l+=","}l+=(String(w.options[p].value))}}}if(l){a+="&"+E+"="+l}}else{if(v[A].type=="hidden"){imgfieldNamefrmId=reverseString(v[A].id);imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1));o=imgfieldNamefrmId;l=v[A].value;a+="&"+o+"="+l;l=""}else{if(v[A].type=="text"){o=v[A].id;l=v[A].value;a+="&"+o+"="+l}else{if(v[A].id.search("ajax")!=-1){var f=v[A].id.split("ajax");var y="";y=reverseString(f[1]);y=reverseString(y.substr(y.indexOf("_")+1));v[A].id=y}o=v[A].id;l=v[A].value;a+="&"+o+"="+l}}}}}}var s=RedgetElementsByClassName("calendar");var y="";for(cal_i=0;cal_i<s.length;cal_i++){var D=s[cal_i].id;arr=D.split("_img");n=arr.length;var z=arr[0];if(z!=""&&z.search(r)){if(document.getElementById(z).value!=""){y=reverseString(z);y=reverseString(y.substr(y.indexOf("_")+1));a+="&"+y+"="+document.getElementById(z).value}}}request=getHTTPObject();var C="option=com_redshop&view=product&task=addtowishlist&json=1&ajaxon=1&tmpl=component";C=C+"&Itemid="+q;C=C+"&product_id="+r;C=C+"&userfield_id="+v.length;C=C+a;var h=redSHOP.RSConfig._("SITE_URL")+"index.php?"+C;if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){request.open("POST",h,true)}else{request.open("POST",h,false)}request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.setRequestHeader("Content-length",C.length);request.setRequestHeader("Connection","close");var c=true;request.onreadystatechange=function(){if(request.readyState<4){document.getElementById("myprohide_"+r).innerHTML='<font size="1" color="red">Loading...</font>'}if(request.readyState==4&&request.status==200){var t=request.responseText;var G=document.getElementById("mypid").innerHTML;var F=request.responseText;sp=F.split(":-:");if(G.search(sp[1])==-1){document.getElementById("mypid").innerHTML+=sp[0];document.getElementById("wid").style.display="block";document.getElementById("myprohide_"+r).innerHTML=""}}};request.send(h);request.send(C)}function getStocknotify(e,a,c){var b=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=product&task=addNotifystock&tmpl=component&product_id="+e;b=b+"&property_id="+a+"&subproperty_id="+c;request=getHTTPObject();request.onreadystatechange=function(){if(request.readyState==4){var f=request.responseText;if(document.getElementById("notify_stock"+e)){document.getElementById("notify_stock"+e).innerHTML=f}}};request.open("POST",b,true);request.send(null)};