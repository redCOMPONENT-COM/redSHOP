"use strict";function validateInputNumber(e){return!document.getElementById(e)||!(""==trim(document.getElementById(e).value)||isNaN(document.getElementById(e).value)||document.getElementById(e).value<=0)||(alert(Joomla.JText._("COM_REDSHOP_ENTER_NUMBER")),!(document.getElementById(e).value=1))}function trim(e,t){return ltrim(rtrim(e,t),t)}function ltrim(e,t){return t=t||"\\s",e.replace(new RegExp("^["+t+"]+","g"),"")}function rtrim(e,t){return t=t||"\\s",e.replace(new RegExp("["+t+"]+$","g"),"")}function userfieldValidation(e){if(document.getElementsByName(e+"[]"))for(var t,n=document.getElementsByName(e+"[]"),d=(n.value,""),o="",m=!1,i="",r="",a=!1,l=0;l<n.length;l++)if(extrafields_req=n[l].getAttribute("required"),t=n[l].getAttribute("userfieldlbl"),(1==extrafields_req||"required"==extrafields_req)&&null!=t)if("checkbox"==n[l].type){if(o=reverseString(n[l].id),o=reverseString(o.substr(o.indexOf("_")+1)),""!=d&&d!=o&&0==m)return alert(n[l-1].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED")),!1;if(d!=o&&(extrafieldVal="",d=o),n[l].checked){m=!0;continue}if(l==n.length-1&&0==m||"checkbox"!=n[l].type&&0==m)return alert(n[l].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED")),!1}else if("radio"==n[l].type){if(r=reverseString(n[l].id),r=reverseString(r.substr(r.indexOf("_")+1)),""!=i&&i!=r&&0==a)return alert(n[l-1].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED")),!1;if(i!=r){if(extrafieldVal="",i=r,a=!1,n[l].checked){a=!0;continue}}else{if(n[l].checked||1==a){a=!0;continue}if(l==n.length-1&&0==a||"radio"!=n[l+1].type&&0==a)return alert(n[l].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED")),!1}}else if(!n[l].value)return alert(n[l].getAttribute("userfieldlbl")+" "+Joomla.JText._("COM_REDSHOP_IS_REQUIRED")),!1;return!0}function reverseString(e){return e.split("").reverse().join("")}function GetXmlHttpObject(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null}function changeSubscriptionPrice(e,t,n){document.getElementById("hidden_subscription_id").value=t,document.getElementById("hidden_subscription_prize").value=document.getElementById("hdn_subscribe_"+e).value,calculateTotalPrice(n,0)}function getShippingrate(){var e,t;xmlhttp=GetXmlHttpObject(),null!=xmlhttp?(e="country_code="+document.getElementById("country_code").value+"&state_code="+document.getElementById("state_code").value+"&zip_code="+document.getElementById("zip_code").value,t=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=cart&task=getShippingrate&"+e,xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&(response=xmlhttp.responseText.split("`"),document.getElementById("spnShippingrate")&&(document.getElementById("spnShippingrate").innerHTML=response[0],document.getElementById("spnTotal")&&(document.getElementById("spnTotal").innerHTML=response[1])))},xmlhttp.open("GET",t,!0),xmlhttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlhttp.send(null)):alert("Your browser does not support XMLHTTP!")}function expand_collapse(e,t){if(e){var n="+";if("+"==e.innerHTML&&(n="-"),e.innerHTML=n,document.getElementsByName("exp_"+t)){var d=document.getElementsByName("exp_"+t),o="none";"none"==d[0].style.display&&(o="block");for(var m=0;m<d.length;m++)d[m].style.display=o}}}function setSliderMinMax(){document.getElementById("slider_texpricemin")&&document.getElementById("texpricemin")&&(document.getElementById("texpricemin").value=document.getElementById("slider_texpricemin").value),document.getElementById("slider_texpricemax")&&document.getElementById("texpricemax")&&(document.getElementById("texpricemax").value=document.getElementById("slider_texpricemax").value),document.orderby_form.submit()}function setSliderMinMaxForManufactur(){document.getElementById("slider_texpricemin")&&document.getElementById("manuf_texpricemin")&&(document.getElementById("manuf_texpricemin").value=document.getElementById("slider_texpricemin").value),document.getElementById("slider_texpricemax")&&document.getElementById("manuf_texpricemax")&&(document.getElementById("manuf_texpricemax").value=document.getElementById("slider_texpricemax").value),document.filterby_form.submit()}function setSliderMinMaxForTemplate(){document.getElementById("slider_texpricemin")&&document.getElementById("temp_texpricemin")&&(document.getElementById("temp_texpricemin").value=document.getElementById("slider_texpricemin").value),document.getElementById("slider_texpricemax")&&document.getElementById("temp_texpricemax")&&(document.getElementById("temp_texpricemax").value=document.getElementById("slider_texpricemax").value),document.template_selecter_form.submit()}function finder_checkbox(e){for(var t=e.elements,n=0;n<t.length;n++)if(t[n].checked)return;n==t.length&&(t[0].checked=!0,t[0].value="0")}function submitme(){}function showhidebox(e){e&&e.checked?(document.getElementById("td_password")&&(document.getElementById("td_password").style.display=""),document.getElementById("td_b_password")&&(document.getElementById("td_b_password").style.display=""),document.getElementById("td_username")&&(document.getElementById("td_username").style.display=""),document.getElementById("td_username_lbl")&&(document.getElementById("td_username_lbl").style.display=""),document.getElementById("tr_cmp_username")&&(document.getElementById("tr_cmp_username").style.display=""),document.getElementById("td_required")&&(document.getElementById("td_required").style.display="")):(document.getElementById("td_password")&&(document.getElementById("td_password").style.display="none"),document.getElementById("td_b_password")&&(document.getElementById("td_b_password").style.display="none"),document.getElementById("td_username")&&(document.getElementById("td_username").style.display="none"),document.getElementById("td_username_lbl")&&(document.getElementById("td_username_lbl").style.display="none"),document.getElementById("tr_cmp_username")&&(document.getElementById("tr_cmp_username").style.display="none"),document.getElementById("td_required")&&(document.getElementById("td_required").style.display="none"))}function showhideboxPrivate(e){var t;e&&e.checked&&(document.getElementById("register_private")&&(document.getElementById("register_private").style.display=""),document.getElementById("register_company")&&(document.getElementById("register_company").style.display="none"),(t=document.adminForm).createaccount&&showhidebox(t.createaccount))}function showhideboxCompany(e){var t;e&&e.checked&&(document.getElementById("register_company")&&(document.getElementById("register_company").style.display=""),document.getElementById("register_private")&&(document.getElementById("register_private").style.display="none"),(t=document.adminForm2).createaccount&&showhidebox(t.createaccount))}function showcustomfields(){document.adminForm;var e,t=!1;document.getElementById("toggler2")&&(t=document.getElementById("toggler2").checked),t?(document.getElementById("register_company")&&(document.getElementById("register_company").style.display=""),document.getElementById("register_private")&&(document.getElementById("register_private").style.display="none"),(e=document.adminForm2).createaccount&&showhidebox(e.createaccount)):(document.getElementById("register_private")&&(document.getElementById("register_private").style.display=""),document.getElementById("register_company")&&(document.getElementById("register_company").style.display="none"),(e=document.adminForm).createaccount&&showhidebox(e.createaccount))}function changeproductImage(e,t,n){document.getElementById("a_main_image"+e)&&(document.getElementById("a_main_image"+e).href=n),document.getElementById("main_image"+e)&&(document.getElementById("main_image"+e).src=t)}function billingIsShipping(e){e&&e.checked?document.getElementById("divShipping")&&(document.getElementById("divShipping").style.display="none"):document.getElementById("divShipping")&&(document.getElementById("divShipping").style.display=""),handleAjaxOnestep({})}function createUserAccount(e){document.getElementById("tdUsernamePassword")&&(e&&e.checked?document.getElementById("tdUsernamePassword").style.display="":document.getElementById("tdUsernamePassword").style.display="none")}function searchByPhone(){var e;value="",document.getElementById("searchphone")&&(value=document.getElementById("searchphone").value),value&&(xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onreadystatechange=function(){var e;4==xmlhttp.readyState&&200==xmlhttp.status&&(document.getElementById("divSearchPhonemsg")&&(document.getElementById("divSearchPhonemsg").style.display=""!=xmlhttp.responseText?"none":""),e=xmlhttp.responseText.split("`_`"),document.getElementById("address_ST")&&(document.getElementById("address_ST").value=e[1]?e[1]:""),document.getElementById("zipcode_ST")&&(document.getElementById("zipcode_ST").value=e[2]?e[2]:""),document.getElementById("city_ST")&&(document.getElementById("city_ST").value=e[3]?e[3]:""),document.getElementById("phone_ST")&&(document.getElementById("phone_ST").value=e[5]?e[5]:""),document.getElementById("firstname_ST")&&(document.getElementById("firstname_ST").value=e[6]?e[6]:""),document.getElementById("lastname_ST")&&(document.getElementById("lastname_ST").value=e[7]?e[7]:""),document.getElementById("company_name")&&(document.getElementById("company_name").value=e[0]?e[0]:""),document.getElementById("address")&&(document.getElementById("address").value=e[1]?e[1]:""),document.getElementById("zipcode")&&(document.getElementById("zipcode").value=e[2]?e[2]:""),document.getElementById("city")&&(document.getElementById("city").value=e[3]?e[3]:""),document.getElementById("phone")&&(document.getElementById("phone").value=e[5]?e[5]:""),document.getElementById("firstname")&&(document.getElementById("firstname").value=e[6]?e[6]:""),document.getElementById("lastname")&&(document.getElementById("lastname").value=e[7]?e[7]:""))},e=redSHOP.RSConfig._("AJAX_BASE_URL")+"&view=registration&task=searchUserdetailByPhone&phone="+value,xmlhttp.open("GET",e,!0),xmlhttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlhttp.send(null))}function showCompanyOrCustomer(t){if(!t)return!1;1==t.value?(template_id=parseInt(jQuery("#divCompanyTemplateId").html()),jQuery("#is_company").val("1"),jQuery("#company_registrationintro").show(),jQuery("#customer_registrationintro").hide(),jQuery("#exCompanyFieldST").show(),jQuery("#exCustomerFieldST").hide()):(template_id=parseInt(jQuery("#divPrivateTemplateId").html()),jQuery("#is_company").val("0"),jQuery("#company_registrationintro").hide(),jQuery("#customer_registrationintro").show(),jQuery("#exCompanyFieldST").hide(),jQuery("#exCustomerFieldST").show());var e=redSHOP.RSConfig._("AJAX_BASE_URL")+"&view=registration&task=getCompanyOrCustomer";e+="&is_company="+t.value+"&template_id="+template_id;var n=jQuery("#redshopRegistrationForm #adminForm").serializeArray(),n=jQuery.grep(n,function(e){if("task"!=e.name&&"view"!=e.name&&"option"!=e.name&&"is_company"!=e.name)return!0});jQuery.ajax({url:e,type:"GET",data:n}).done(function(e){jQuery("#tmpRegistrationDiv").html(e),1==t.value?(jQuery("#tblcompany_customer").html(jQuery("#ajaxRegistrationDiv").html()),jQuery("#tblprivate_customer").html("")):(jQuery("#tblprivate_customer").html(jQuery("#ajaxRegistrationDiv").html()),jQuery("#tblcompany_customer").html("")),jQuery("#tmpRegistrationDiv").html(""),jQuery('select:not(".disableBootstrapChosen")').select2(),jQuery(document).trigger("AfterGetBillingTemplate")}).fail(function(){console.warn("error")})}function getBillingTemplate(e){var t=jQuery(e).val(),n=jQuery(e).attr("billing_type"),d=redSHOP.RSConfig._("SITE_URL")+"index.php?option=com_redshop&view=registration&task=getBillingTemplate";showCompanyOrCustomer(jQuery("[id^=toggler]:checked").get(0)),jQuery.ajax({url:d,type:"POST",data:{type:n,isCompany:t},success:function(e){jQuery("#wrapper-billing").html(""),jQuery("#wrapper-billing").append(e),jQuery('#wrapper-billing select:not(".disableBootstrapChosen")').select2(),jQuery(document).trigger("AfterGetBillingTemplate");handleAjaxOnestep({})}})}function handleAjaxOnestep(e){var t=1,n={billing_type:jQuery("#divOnestepCheckout input[name=togglerchecker]:checked").attr("billing_type"),BT:{zip_code:jQuery("#divOnestepCheckout input[name=zipcode]").val(),country_code:jQuery("#divOnestepCheckout select[name=country_code]").val(),state_code:jQuery("#divOnestepCheckout select[name=state_code]").val()}};jQuery("#billisship").is(":checked")||(t=0,zip_code_ST=jQuery("#divOnestepCheckout input[name=zipcode_ST]").val(),country_code_ST=jQuery("#divOnestepCheckout select[name=country_code_ST]").val(),state_code_ST=jQuery("#divOnestepCheckout select[name=state_code_ST]").val(),n.ST={zip_code_ST:zip_code_ST,country_code_ST:country_code_ST,state_code_ST:state_code_ST}),n.bill_is_ship=t,onestepCheckoutProcess("users_info_id","",n)}function updateGLSLocation(e){for(var t=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=updateGLSLocation",n="",d=document.getElementsByName("users_info_id"),o=0;o<d.length;o++)d[o].checked&&(n=d[o].value);t+="&zipcode="+e+"&users_info_id="+n,jQuery.ajax({url:t,type:"GET"}).done(function(e){jQuery("#rs_locationdropdown").html(e),jQuery('select:not(".disableBootstrapChosen")').select2()}).fail(function(){console.warn("error")})}function displaytextarea(e){e&&e.checked?document.getElementById("rs_Divcustomer_messageTA")&&(document.getElementById("rs_Divcustomer_messageTA").style.display="block"):document.getElementById("rs_Divcustomer_messageTA")&&(document.getElementById("rs_Divcustomer_messageTA").style.display="none")}function onestepCheckoutProcess(n,e,d){var t,o="",m="";if(d=d||{},"shipping_rate_id"==n&&("default_shipping_gls"==e?document.getElementById("rs_glslocationId")&&(document.getElementById("rs_glslocationId").style.display="block"):document.getElementById("rs_glslocationId")&&(document.getElementById("rs_glslocationId").style.display="none")),document.getElementById("responceonestep")){for(var i,r=document.getElementsByName("payment_method_id"),a=0;a<r.length;a++)r[a].checked?o=o+"&payment_method_id="+(m=r[a].value):document.getElementById("divcardinfo_"+r[a].value)&&(document.getElementById("divcardinfo_"+r[a].value).innerHTML="");"payment_method_id"==n&&(xmlhttp1=GetXmlHttpObject(),i=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=displaycreditcard",i+=o,xmlhttp1.onreadystatechange=function(){4==xmlhttp1.readyState?document.getElementById("divcardinfo_"+m)&&(document.getElementById("divcardinfo_"+m).innerHTML=xmlhttp1.responseText,document.getElementById("creditcardinfo")&&(document.getElementById("divcardinfo_"+m).innerHTML=document.getElementById("creditcardinfo").innerHTML)):document.getElementById("divcardinfo_"+m)&&(document.getElementById("divcardinfo_"+m).innerHTML="<br>Please wait while loading credit card information form<br><img src='"+redSHOP.RSConfig._("SITE_URL")+"/components/com_redshop/assets/images/preloader.jpeg' border='0'>")},xmlhttp1.open("GET",i,!0),xmlhttp1.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlhttp1.send(null));for(var l=0,c=0,u="",s=0,p=0,y="",_="",g="",h="",E=0,r=document.getElementsByName("users_info_id"),a=0;a<r.length;a++){if(r[a].checked){l=r[a].value;break}"hidden"==r[a].type&&(l=r[a].value)}for(r=document.getElementsByName("shipping_box_id"),a=0;a<r.length;a++)r[a].checked&&(c=r[a].value);for(r=document.getElementsByName("shipping_rate_id"),a=0;a<r.length;a++)r[a].checked&&(u=r[a].value);document.getElementById("divShippingRateTemplateId")&&(s=parseInt(document.getElementById("divShippingRateTemplateId").innerHTML)),document.getElementById("divRedshopCartTemplateId")&&(p=parseInt(document.getElementById("divRedshopCartTemplateId").innerHTML)),document.getElementById("customer_note")&&(y=document.getElementById("customer_note").value),document.getElementById("requisition_number")&&(_=document.getElementById("requisition_number").value),document.getElementById("rs_customer_message_ta")&&(h=document.getElementById("rs_customer_message_ta").value),document.getElementById("txt_referral_code")&&(g=document.getElementById("txt_referral_code").value),document.getElementById("onestepItemid")&&(E=document.getElementById("onestepItemid").value);var I={option:"com_redshop",view:"checkout",task:"oneStepCheckoutProcess",users_info_id:l,shipping_box_id:c,shipping_rate_id:u,payment_method_id:m,rate_template_id:s,cart_template_id:p,customer_note:unescape(y),requisition_number:_,rs_customer_message_ta:h,txt_referral_code:g,objectname:n,Itemid:E,sid:Math.random(),anonymous:d};jQuery(redSHOP).trigger("onBeforeOneStepCheckoutProcess",[I]);var v=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component";!document.getElementById("divShippingRate")||"users_info_id"!=n&&"shipping_box_id"!=n||(document.getElementById("divShippingRate").innerHTML="Loading...<img src='"+redSHOP.RSConfig._("SITE_URL")+"/components/com_redshop/assets/images/loading.gif' />"),document.getElementById("divRedshopCart")&&(document.getElementById("divRedshopCart").innerHTML="Loading...<img src='"+redSHOP.RSConfig._("SITE_URL")+"/components/com_redshop/assets/images/loading.gif' />"),jQuery.ajax({url:v,type:"POST",dataType:"html",data:I}).done(function(e){var t=e.split("`_`");document.getElementById("responceonestep").innerHTML=t[1],t[2]&&document.getElementById("mod_cart_total_value_ajax")&&(document.getElementById("mod_cart_total_value_ajax").innerHTML=t[2]),document.getElementById("divShippingRate")&&document.getElementById("onestepshiprate")&&""!=document.getElementById("onestepshiprate").innerHTML&&(document.getElementById("divShippingRate").innerHTML=document.getElementById("onestepshiprate").innerHTML),document.getElementById("divRedshopCart")&&document.getElementById("onestepdisplaycart")&&""!=document.getElementById("onestepdisplaycart").innerHTML&&(document.getElementById("divRedshopCart").innerHTML=document.getElementById("onestepdisplaycart").innerHTML),document.getElementById("responceonestep").innerHTML="",SqueezeBox.initialize({}),$$("a.modal.modal-termscondition").each(function(t){t.addEvent("click",function(e){e.preventDefault(),SqueezeBox.fromElement(t)})}),"users_info_id"==n&&0==l&&jQuery("#divPaymentMethod")&&jQuery.ajax({url:redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=ajaxDisplayPaymentAnonymous",type:"POST",dataType:"html",data:{is_company:"private"==d.billing_type?0:1,eanNumber:jQuery("#ean_number")&&"company"==d.billing_type?jQuery("#ean_number").val():0}}).done(function(e){jQuery("#divPaymentMethod").html(e)}).fail(function(){console.log("error")}),jQuery(redSHOP).trigger("onAfterOneStepCheckoutProcess",[I])}).fail(function(){console.warn("onestepCheckoutProcess Error")})}jQuery(".extrafield_payment").length&&(jQuery(".extrafield_payment").children('[id^="extraFields"]').remove(),"payment_method_id"==n&&(t=jQuery('[name="payment_method_id"]:checked'),jQuery.ajax({url:redSHOP.RSConfig._("AJAX_BASE_URL"),type:"POST",dataType:"html",data:{view:"checkout",task:"ajaxDisplayPaymentExtraField",paymentMethod:t.val()}}).done(function(e){jQuery("#paymentblock").find(".extrafield_payment#"+t.val()).find(".extrafield_payment").append(e),jQuery('input[id^="rs_birthdate_"]').length&&window.addEvent("domready",function(){Calendar.setup({inputField:jQuery('input[id^="rs_birthdate_"]').attr("id"),ifFormat:"%d-%m-%Y",button:jQuery('button[id^="rs_birthdate_"]').attr("id"),align:"Tl",singleClick:!0})})}).fail(function(){console.log("extrafield payment get error")}))),document.getElementById("extrafield_shipping")&&"shipping_rate_id"==n&&(o=o+"&shipping_rate_id="+e,xmlhttp1=GetXmlHttpObject(),i=redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=checkout&task=displayshippingextrafield",i+=o,xmlhttp1.onreadystatechange=function(){4==xmlhttp1.readyState&&document.getElementById("extrafield_shipping")&&(document.getElementById("extrafield_shipping").innerHTML=xmlhttp1.responseText)},xmlhttp1.open("GET",i,!0),xmlhttp1.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlhttp1.send(null))}function autoFillCity(e,t){var n;e&&(xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&200==xmlhttp.status&&""!=xmlhttp.responseText&&("ST"==t?document.getElementById("city_ST")&&(document.getElementById("city_ST").value=xmlhttp.responseText):document.getElementById("city")&&(document.getElementById("city").value=xmlhttp.responseText))},n=redSHOP.RSConfig._("AJAX_BASE_URL")+"&view=category&task=autofillcityname&q="+e,xmlhttp.open("GET",n,!0),xmlhttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlhttp.send(null))}function checkout_disable(e){var t;jQuery("#adminForm").valid()&&(document.adminForm.submit(),document.getElementById(e).disabled=!0,(t=document.getElementById(e)).setAttribute("style","opacity:0.3;"),t.style.setAttribute&&t.style.setAttribute("filter","alpha(opacity=30);"))}function validation(e,t){if(0<redSHOP.RSConfig._("MINIMUM_ORDER_TOTAL")&&e<redSHOP.RSConfig._("MINIMUM_ORDER_TOTAL"))return alert(Joomla.JText._("COM_REDSHOP_MINIMUM_ORDER_TOTAL_HAS_TO_BE_MORE_THAN")+" "+redSHOP.RSConfig._("MINIMUM_ORDER_TOTAL")),!1;var n=document.getElementById("termscondition");return!(void 0!==n&&null!=n&&!document.getElementById("termscondition").checked&&1!=t)||(alert(Joomla.JText._("COM_REDSHOP_PLEASE_SELECT_TEMS_CONDITIONS")),!1)}function all_update(e){for(var t=[],n=0;n<e;n++)t[t.length]=parseInt(document.getElementById("quantitybox"+n).value);t=t.join(),document.update_cart.quantity_all.value=t,document.update_cart.task.value="update_all",document.update_cart.submit()}function validateInfoQuotation(){var e=document.adminForm;if(""==e.user_email.value)return alert(Joomla.JText._("COM_REDSHOP_PROVIDE_EMAIL_ADDRESS")),!1;var t=e.user_email.value;return 0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t)?(alert(Joomla.JText._("COM_REDSHOP_PLEASE_ENTER_VALID_EMAIL_ADDRESS")),!1):0!=validateExtrafield(e)}function setsendImagepath(e){var t=document.getElementById('<?php echo "main_image" . $this->pid;?>').src.replace(/\\/g,"/").replace(/.*\//,"").split("&");e.href=e+"&imageName="+t[0]}function getCatalogSampleValidation(){var e=document.frmcatalogsample,t=e.email_address.value,n=new RegExp("([a-z0-9_]+)@([a-z0-9_-]+)[.][a-z]");if(""==e.name_2.value)return alert(Joomla.JText._("COM_REDSHOP_ENTER_NAME")),e.name_2.focus(),!1;if(""==t)return alert(Joomla.JText._("COM_REDSHOP_ENTER_AN_EMAIL_ADDRESS")),e.email_address.focus(),!1;if(0==n.test(t))return alert(Joomla.JText._("COM_REDSHOP_EMAIL_ADDRESS_NOT_VALID")),e.email_address.focus(),!1;var d=[];if(document.getElementsByName("sample_code[]"))for(var o=document.getElementsByName("sample_code[]"),m=0,i=0;i<o.length;i++)o[i].checked&&(d[m++]=o[i].value);return 0<d.length||(alert(Joomla.JText._("COM_REDSHOP_SELECT_SAMPLE_COLOR")),!1)}function keyCodeEnterTriggerClick(e,t){13==e.keyCode&&document.getElementById(t).click()}redSHOP=window.redSHOP||{},redSHOP.compareAction=function(e,t){var n,d,o;e.length&&((n=e.val().split(".")).length<=1&&(n=e.attr("value").split(".")),d=n[0],o=n[1],""==t&&(t=e.is(":checked")?"add":"remove"),jQuery.ajax({url:redSHOP.RSConfig._("SITE_URL")+"index.php?tmpl=component&option=com_redshop&view=product&task=addtocompare",type:"POST",dataType:"json",data:{cmd:t,pid:d,cid:o},complete:function(){},success:function(e){!0===e.success?jQuery("#divCompareProduct").html(e.html):jQuery("#divCompareProduct").html(e.message+"<br />"+e.html),jQuery('a[id^="removeCompare"]').click(function(e){jQuery(this).attr("value")==jQuery('[id^="rsProductCompareChk"]').val()&&jQuery('[id^="rsProductCompareChk"]').prop("checked",!1),redSHOP.compareAction(jQuery(this),"remove")})},error:function(){}}))},jQuery(document).ready(function(){billingIsShipping(document.getElementById("billisship")),redSHOP.compareAction(jQuery('[id^="rsProductCompareChk"]'),"getItems"),jQuery('[id^="rsProductCompareChk"]').click(function(e){redSHOP.compareAction(jQuery(this),"")}),jQuery("#divPrivateTemplateId").hide(),jQuery("#divCompanyTemplateId").hide(),showCompanyOrCustomer(jQuery("[id^=toggler]:checked").get(0)),jQuery("body").on("blur",'#divOnestepCheckout input[name^="zipcode"]',handleAjaxOnestep),jQuery("body").on("change",'#divOnestepCheckout select[name^="country_code"], #divOnestepCheckout select[name^="state_code"]',handleAjaxOnestep)});