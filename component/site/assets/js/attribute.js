function getHTTPObject(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e}function productaddprice(e,t){var n=1;t!=0?prefix=t:prefix=e;if(document.getElementById("accessory_data"))var r=document.getElementById("accessory_data").value;if(document.getElementById("acc_quantity_data"))var i=document.getElementById("acc_quantity_data").value;if(document.getElementById("acc_attribute_data"))var s=document.getElementById("acc_attribute_data").value.replace("##","::");if(document.getElementById("acc_property_data"))var o=document.getElementById("acc_property_data").value.replace("##","::");if(document.getElementById("acc_subproperty_data"))var u=document.getElementById("acc_subproperty_data").value.replace("##","::");document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)&&(n=document.getElementById("quantity"+prefix).value);if(document.getElementById("attribute_data"))var a=document.getElementById("attribute_data").value.replace("##","::");if(document.getElementById("property_data"))var f=document.getElementById("property_data").value.replace("##","::");if(document.getElementById("subproperty_data"))var l=document.getElementById("subproperty_data").value.replace("##","::");var c=site_url+"index.php?option=com_redshop&view=product&task=displayProductaddprice&tmpl=component&qunatity="+n;c=c+"&product_id="+e+"&attribute_data="+a+"&property_data="+f+"&subproperty_data="+l,c=c+"&accessory_data="+r+"&acc_quantity_data="+i+"&acc_attribute_data="+s+"&acc_property_data="+o+"&acc_subproperty_data="+u,request=getHTTPObject(),request.onreadystatechange=function(){if(request.readyState==4){var t=request.responseText.split(":"),r=0,i=0,s=0,o=0;document.getElementById("wrapper_price")&&(s=parseFloat(document.getElementById("wrapper_price").value)),document.getElementById("wrapper_price_withoutvat")&&(o=parseFloat(document.getElementById("wrapper_price_withoutvat").value)),document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+prefix).innerHTML=number_format(parseFloat(t[0])+s*n,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR)),document.getElementById("display_product_discount_price"+prefix)&&(document.getElementById("display_product_discount_price"+prefix).innerHTML=number_format(t[4],PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR)),document.getElementById("display_product_price_without_vat"+prefix)&&(document.getElementById("display_product_price_without_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+o*n,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR)),document.getElementById("display_product_price_no_vat"+prefix)&&(document.getElementById("display_product_price_no_vat"+prefix).innerHTML=number_format(parseFloat(t[5])+o*n,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR)),document.getElementById("display_product_old_price"+prefix)&&(document.getElementById("display_product_old_price"+prefix).innerHTML=number_format(t[2],PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR)),document.getElementById("display_product_saving_price"+prefix)&&(document.getElementById("display_product_saving_price"+prefix).innerHTML=number_format(t[3],PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR)),document.getElementById("main_price"+prefix)&&(document.getElementById("main_price"+prefix).value=t[0]),document.getElementById("product_price_no_vat"+prefix)&&(document.getElementById("product_price_no_vat"+prefix).value=t[5],document.getElementById("main_price"+e)&&(document.getElementById("main_price"+e).value=t[0]),document.getElementById("product_price_no_vat"+e)&&(document.getElementById("product_price_no_vat"+e).value=t[5]),document.getElementById("product_old_price"+e)&&(document.getElementById("product_old_price"+e).value=t[2])),document.getElementById("product_old_price"+prefix)&&(document.getElementById("product_old_price"+prefix).value=t[2])}},request.open("GET",c,!0),request.send(null)}function changePropertyDropdown(e,t,n,r,s,o,u){var a=arguments,f=new Array,l=new Array,c="",h="",p="",d="",v="",m;document.getElementById("isAjaxBoxOpen")&&(v=document.getElementById("isAjaxBoxOpen").value);var g="";v=="viewajaxdetail"&&(g="ajax_"),t!=0?m=g+"acc_":n!=0?m=g+"rel_":m=g+"prd_";var y=m+e+"_"+t+"_"+r;document.getElementById("subattdata_"+y)&&(d=document.getElementById("subattdata_"+y).value),p=p+"&subatthtml="+d,p=p+"&product_id="+e,p=p+"&attribute_id="+r,p=p+"&accessory_id="+t,p=p+"&relatedprd_id="+n;if(document.getElementsByName("property_id_"+y+"[]")){var b=document.getElementsByName("property_id_"+y+"[]"),w=0;for(var E=0;E<b.length;E++)b[E].type=="checkbox"||b[E].type=="radio"?b[E].checked&&(f[w++]=b[E].value):b[E].selectedIndex&&(f[w++]=b[E].options[b[E].selectedIndex].value);var S=0;for(var x=0;x<f.length;x++){var T=y+"_"+f[x];if(document.getElementsByName("subproperty_id_"+T+"[]")){var N=document.getElementsByName("subproperty_id_"+T+"[]");for(var E=0;E<N.length;E++)N[E].type=="checkbox"||N[E].type=="radio"?N[E].checked&&(l[S++]=N[E].value):N[E].selectedIndex&&(l[S++]=N[E].options[N[E].selectedIndex].value)}}c=f.join(","),h=l.join(","),p=p+"&property_id="+c,p=p+"&subproperty_id="+h}var C=site_url+"index.php?option=com_redshop&view=product&task=displaySubProperty&tmpl=component&isAjaxBox="+v;C+=p,request=getHTTPObject(),request.onreadystatechange=function(){document.getElementById("property_responce"+y)&&(document.getElementById("property_responce"+y).style.display="none");if(request.readyState==4){var r=0;if(document.getElementById("property_responce"+y)){document.getElementById("property_responce"+y).innerHTML=request.responseText,document.getElementById("property_responce"+y).style.display="";for(var s=0;s<f.length;s++){r=f[s];var l=y+"_"+r;if(document.getElementById("divsubimgscroll"+l)){var c=document.getElementById("divsubimgscroll"+l).innerHTML;if(c!=""){var h=c.split("#_#"),p="isFlowers"+l;p=new ImageScroller("isFlowersFrame"+l,"isFlowersImageRow"+l);var d="subproperty_id_"+l,v="";for(i=0;i<h.length;i++){v=h[i].split("`_`");var m=v[1];p.addThumbnail(v[0],"javascript:isFlowers"+l+".scrollImageCenter('"+i+"');setSubpropImage('"+e+"','"+d+"','"+m+"');calculateTotalPrice('"+e+"','"+n+"');displayAdditionalImage('"+e+"','"+t+"','"+n+"','"+r+"','"+m+"');","","",d+"_subpropimg_"+m,"")}var g=50;u>o?g=u:g=o,p.setThumbnailHeight(parseInt(ATTRIBUTE_SCROLLER_THUMB_HEIGHT)),p.setThumbnailWidth(parseInt(ATTRIBUTE_SCROLLER_THUMB_WIDTH)),p.setThumbnailPadding(5),p.setScrollType(0),p.enableThumbBorder(!1),p.setClickOpenType(1),p.setThumbsShown(NOOF_SUBATTRIB_THUMB_FOR_SCROLLER),p.setNumOfImageToScroll(1),p.renderScroller(),window["isFlowers"+l]=p}}}}displayAdditionalImage(e,t,n,r,0),calculateTotalPrice(e,n),onchangePropertyDropdown(a)}},request.open("GET",C,!0),request.send(null)}function onchangePropertyDropdown(e){return!0}function display_image(e,t,n){PRODUCT_DETAIL_IS_LIGHTBOX||(document.getElementById("a_main_image"+t).href=n),document.getElementById("main_image"+t).src=e}function display_image_out(e,t,n){document.getElementById("main_image"+t).src=n}function display_image_add(e,t){document.getElementById("main_image"+t).src=e}function display_image_add_out(e,t){subproperty_main_image!=""?document.getElementById("main_image"+t).src=subproperty_main_image:document.getElementById("main_image"+t).src=e}function collectAttributes(e,t,n){var r,i=new Array,s=new Array,o=new Array,u=0,a=0,f=0,l=!0,c=!0,h=!0,p="",d="",v="",m=1;document.getElementById("accquantity_"+e+"_"+t)&&(m=document.getElementById("accquantity_"+e+"_"+t).value);if(document.getElementById("product_preorder"+e))var g=document.getElementById("product_preorder"+e).value;if(document.getElementById("product_stock"+e))var y=document.getElementById("product_stock"+e).value;if(document.getElementById("preorder_product_stock"+e))var b=document.getElementById("preorder_product_stock"+e).value;document.getElementById("isAjaxBoxOpen")&&(v=document.getElementById("isAjaxBoxOpen").value);var w="";v=="viewajaxdetail"&&(w="ajax_"),t!=0?(r=w+"acc_",document.getElementById("accessory_id_"+e+"_"+t)&&(u=parseFloat(document.getElementById("accessory_id_"+e+"_"+t).getAttribute("accessoryprice")),a=parseFloat(document.getElementById("accessory_id_"+e+"_"+t).getAttribute("accessorywithoutvatprice"))),f=u):n!=0?(r=w+"rel_",document.getElementById("main_price"+e)&&(u=parseFloat(document.getElementById("main_price"+e).value)),document.getElementById("product_price_excluding_price"+e)?a=parseFloat(document.getElementById("product_price_excluding_price"+e).value):document.getElementById("product_price_no_vat"+e)&&(a=parseFloat(document.getElementById("product_price_no_vat"+e).value)),document.getElementById("product_old_price"+e)&&(f=parseFloat(document.getElementById("product_old_price"+e).value))):(r=w+"prd_",document.getElementById("main_price"+e)&&(u=parseFloat(document.getElementById("main_price"+e).value)),document.getElementById("product_price_excluding_price"+e)?a=parseFloat(document.getElementById("product_price_excluding_price"+e).value):document.getElementById("product_price_no_vat"+e)&&(a=parseFloat(document.getElementById("product_price_no_vat"+e).value)),document.getElementById("product_old_price"+e)&&(f=parseFloat(document.getElementById("product_old_price"+e).value)));var E=r+e+"_"+t,S=r+e;if(document.getElementsByName("attribute_id_"+E+"[]")){var x=document.getElementsByName("attribute_id_"+E+"[]");for(var T=0;T<x.length;T++)i[T]=x[T].value}l&&(l=checkProductStockRoom(y,S,g,b)),i.length<=0&&AJAX_CART_BOX==1&&(document.getElementById("requiedAttribute")&&(p=document.getElementById("requiedAttribute").value),document.getElementById("requiedProperty")&&(d=document.getElementById("requiedProperty").value));for(var T=0;T<i.length;T++){var N=i[T];E=r+e+"_"+t+"_"+N;var C=document.getElementById("property_id_"+E);if(C){setPropertyImage(e,"property_id_"+E);var k=document.getElementsByName("property_id_"+E+"[]"),L=0,A=new Array;for(var O=0;O<k.length;O++)k[O].type=="checkbox"||k[O].type=="radio"?k[O].checked&&k[O].value!=0&&(A[L++]=k[O].value):k[O].selectedIndex&&k[O].options[k[O].selectedIndex].value!=0&&(A[L++]=k[O].options[k[O].selectedIndex].value);A.length>0&&(s[T]=A.join(",,")),C.getAttribute("required")==1&&A.length==0&&(p+=document.getElementById("att_lebl").innerHTML+" "+unescape(C.getAttribute("attribute_name"))+"\n");if(c&&h){var M="property_id_"+E+"_oprand",_="property_id_"+E+"_proprice",D=calculateSingleProductPrice(u,M,_,A);u=D[1];var D=calculateSingleProductPrice(f,M,_,A);f=D[1],_="property_id_"+E+"_proprice_withoutvat",D=calculateSingleProductPrice(a,M,_,A),a=D[1]}var P=!1,H=new Array;for(var O=0;O<A.length;O++){var B=A[O],j="property_id_"+E+"_stock"+B,F="property_id_"+E+"_preorderstock"+B;document.getElementById(j)&&document.getElementById(F)&&l&&t==0&&(l=checkProductStockRoom(document.getElementById(j).value,S,g,document.getElementById(F).value));var I=r+e+"_"+t+"_"+N+"_"+B,q=document.getElementById("subproperty_id_"+I);if(q){setSubpropertyImage(e,"subproperty_id_"+I),P=!0;var R=document.getElementsByName("subproperty_id_"+I+"[]");L=0;var U=new Array;for(var z=0;z<R.length;z++)R[z].type=="checkbox"||R[z].type=="radio"?R[z].checked&&R[z].value&&(U[L++]=R[z].value):R[z].selectedIndex&&R[z].options[R[z].selectedIndex].value&&(U[L++]=R[z].options[R[z].selectedIndex].value);for(var z=0;z<U.length;z++){var j="subproperty_id_"+I+"_stock"+U[z];USE_STOCKROOM==1&&document.getElementById(j)&&t==0&&(l=checkProductStockRoom(document.getElementById(j).value,S,g,b))}q.getAttribute("required")==1&&U.length==0&&(d+=document.getElementById("subprop_lbl").innerHTML+" "+unescape(q.getAttribute("subpropName"))+"\n");if(c&&h){var M="subproperty_id_"+I+"_oprand",_="subproperty_id_"+I+"_proprice",W=calculateSingleProductPrice(u,M,_,U);u=W[1];var W=calculateSingleProductPrice(f,M,_,U);f=W[1],_="subproperty_id_"+I+"_proprice_withoutvat",W=calculateSingleProductPrice(a,M,_,U),a=W[1]}H[O]=U.join("::")}}o[T]=H.join(",,")}}s.length==0&&(i=new Array),t!=0?(document.getElementById("acc_attribute_data")&&(document.getElementById("acc_attribute_data").value=i.join("##")),document.getElementById("acc_property_data")&&(document.getElementById("acc_property_data").value=s.join("##")),document.getElementById("acc_subproperty_data")&&(document.getElementById("acc_subproperty_data").value=o.join("##")),document.getElementById("accessory_price")&&(document.getElementById("accessory_price").value=u),document.getElementById("accessory_price_withoutvat")&&(document.getElementById("accessory_price_withoutvat").value=a)):(document.getElementById("attribute_data")&&(document.getElementById("attribute_data").value=i.join("##")),document.getElementById("property_data")&&(document.getElementById("property_data").value=s.join("##")),document.getElementById("subproperty_data")&&(document.getElementById("subproperty_data").value=o.join("##")),document.getElementById("tmp_product_price")&&(document.getElementById("tmp_product_price").value=u),document.getElementById("productprice_notvat")&&(document.getElementById("productprice_notvat").value=a),document.getElementById("tmp_product_old_price")&&(document.getElementById("tmp_product_old_price").value=f)),document.getElementById("requiedAttribute")&&(document.getElementById("requiedAttribute").value=p),document.getElementById("requiedProperty")&&(document.getElementById("requiedProperty").value=d)}function checkProductStockRoom(e,t,n,r){var i=!0;return e>0?(document.getElementById("pdaddtocart"+t)&&(document.getElementById("pdaddtocart"+t).style.display=""),USE_AS_CATALOG==1&&document.getElementById("pdaddtocart"+t)&&(document.getElementById("pdaddtocart"+t).style.display="none"),document.getElementById("preordercart"+t)&&(document.getElementById("preordercart"+t).style.display="none"),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display="none"),i=!0):e==0&&(n=="global"&&ALLOW_PRE_ORDER!=1||n==""&&ALLOW_PRE_ORDER!=1||n=="no"?(document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display=""),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).innerHTML=COM_REDSHOP_PRODUCT_OUTOFSTOCK_MESSAGE),USE_AS_CATALOG==1&&document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display="none"),document.getElementById("preordercart"+t)&&(document.getElementById("preordercart"+t).style.display="none"),document.getElementById("pdaddtocart"+t)&&(document.getElementById("pdaddtocart"+t).style.display="none")):r==0?(document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display=""),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).innerHTML=COM_REDSHOP_PREORDER_PRODUCT_OUTOFSTOCK_MESSAGE),USE_AS_CATALOG==1&&document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display="none"),document.getElementById("preordercart"+t)&&(document.getElementById("preordercart"+t).style.display="none"),document.getElementById("pdaddtocart"+t)&&(document.getElementById("pdaddtocart"+t).style.display="none")):(document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).style.display="none"),document.getElementById("stockaddtocart"+t)&&(document.getElementById("stockaddtocart"+t).innerHTML=""),document.getElementById("pdaddtocart"+t)&&(document.getElementById("pdaddtocart"+t).style.display="none"),document.getElementById("preordercart"+t)&&(document.getElementById("preordercart"+t).style.display=""),USE_AS_CATALOG==1&&document.getElementById("preordercart"+t)&&(document.getElementById("preordercart"+t).style.display="none"))),document.getElementById("stockQuantity"+t)&&(e>0||r>0?document.getElementById("stockQuantity"+t).style.display="":document.getElementById("stockQuantity"+t).style.display="none"),i}function calculateSingleProductPrice(e,t,n,r){var i=!0;e=parseFloat(e);for(var s=0;s<r.length;s++){var o=r[s],u=document.getElementById(t+o).value,a=document.getElementById(n+o).value;if(u=="-")e-=parseFloat(a);else if(u=="+")e+=parseFloat(a);else if(u=="*")e*=parseFloat(a);else if(u=="/")e/=parseFloat(a);else if(u=="="){e=parseFloat(a),i=!1;break}}var f=new Array;return f[0]=i,f[1]=e,f}function calculateTotalPrice(e,t){if(e==0||e=="")return!1;var n=0,r=0,i=0,s=0,o=0,u=collectAccessory(e,t),a=1;t!=0?prefix=t:prefix=e,document.getElementById("quantity"+prefix)&&document.getElementById("quantity"+prefix)&&(a=document.getElementById("quantity"+prefix).value),document.getElementById("accessory_price_withoutvat")&&(s=parseFloat(document.getElementById("accessory_price_withoutvat").value)),collectAttributes(e,0,t),document.getElementById("tmp_product_price")&&(n=parseFloat(document.getElementById("tmp_product_price").value)),document.getElementById("hidden_subscription_prize")&&(n=parseFloat(n)+parseFloat(document.getElementById("hidden_subscription_prize").value)),document.getElementById("productprice_notvat")&&(r=parseFloat(document.getElementById("productprice_notvat").value)),document.getElementById("tmp_product_old_price")&&(i=parseFloat(document.getElementById("tmp_product_old_price").value)),setWrapperComboBox();var f=0;document.getElementById("wrapper_price")&&(f=document.getElementById("wrapper_price").value);var l=0;document.getElementById("wrapper_price_withoutvat")&&(l=document.getElementById("wrapper_price_withoutvat").value),final_price_f=parseFloat(n)+parseFloat(u)+parseFloat(f),product_price_without_vat=parseFloat(r)+parseFloat(s)+parseFloat(l),o=parseFloat(i)+parseFloat(u)+parseFloat(f),savingprice=parseFloat(o)-parseFloat(final_price_f),SHOW_PRICE=="1"?!final_price_f||DEFAULT_QUOTATION_MODE=="1"&&SHOW_QUOTATION_PRICE!="1"?final_price=getPriceReplacement(final_price_f):final_price=number_format(final_price_f,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR):final_price=getPriceReplacement(final_price_f),SHOW_PRICE=="1"&&(DEFAULT_QUOTATION_MODE!="1"||DEFAULT_QUOTATION_MODE&&SHOW_QUOTATION_PRICE)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+e)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+e).innerHTML=final_price),document.getElementById("display_product_discount_price"+e)&&(document.getElementById("display_product_discount_price"+e).innerHTML=final_price),product_price_without_vat?product_price_without_vat=number_format(product_price_without_vat,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR):product_price_without_vat=getPriceReplacement(product_price_without_vat),document.getElementById("display_product_price_without_vat"+e)&&(document.getElementById("display_product_price_without_vat"+e).innerHTML=product_price_without_vat),document.getElementById("display_product_price_no_vat"+e)&&(document.getElementById("display_product_price_no_vat"+e).innerHTML=product_price_without_vat),document.getElementById("display_product_old_price"+e)&&(o?o=number_format(o,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR):o=getPriceReplacement(o),document.getElementById("display_product_old_price"+e).innerHTML=o),document.getElementById("display_product_saving_price"+e)&&(savingprice=number_format(savingprice,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR),document.getElementById("display_product_saving_price"+e).innerHTML=savingprice),document.getElementById("rs_selected_accessory_price")&&(document.getElementById("rs_selected_accessory_price").innerHTML=final_price))}function collectAccessory(e,t){if(e==0||e=="")return!1;var n="",r="",i=0,s=0,o=0,u=0,a=0,f=0,l=0,c=new Array,h=new Array,p=new Array,d=new Array,v=new Array;document.getElementById("isAjaxBoxOpen")&&(n=document.getElementById("isAjaxBoxOpen").value),n=="viewajaxdetail"&&(r="ajax_");if(document.getElementsByName("accessory_id_"+r+e+"[]")){dcatt=document.getElementsByName("accessory_id_"+r+e+"[]");if(document.getElementById("giftcard_id")&&document.getElementById("giftcard_id").value>0&&dcatt.length==0)return!0;var m=dcatt.length;for(j=0;j<m;j++){var g=0,y=0,b=dcatt[j].value,w=r+e+"_"+b,E=0,S=0;acc_chk=document.getElementById("accessory_id_"+w),document.getElementById("attribute_id_"+w)&&(S=document.getElementById("attribute_id_"+w)),E=dcatt[j].checked;var x=1;t!=0?qid=t:qid=e,document.getElementById("accquantity_"+w)?x=document.getElementById("accquantity_"+w).value:document.getElementById("quantity"+qid)&&document.getElementById("quantity"+qid).type=="select-one"?x=document.getElementById("quantity"+qid).value:x=1,E?(c[f]=b,h[f]=x,collectAttributes(e,b,t),document.getElementById("accessory_price")&&(g=parseFloat(document.getElementById("accessory_price").value)),document.getElementById("accessory_price_withoutvat")&&(y=parseFloat(document.getElementById("accessory_price_withoutvat").value)),document.getElementById("acc_attribute_data")&&(p[f]=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(d[f]=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(v[f]=document.getElementById("acc_subproperty_data").value),document.getElementById("divaccstatus"+w)&&(document.getElementById("divaccstatus"+w).className="accessorystatus added"),f++):document.getElementById("divaccstatus"+w)&&(document.getElementById("divaccstatus"+w).className="accessorystatus"),s+=parseFloat(g)*x,o+=parseFloat(y)*x}i+=parseFloat(s),u+=parseFloat(o),document.getElementById("accessory_data")&&(document.getElementById("accessory_data").value=c.join("@@")),document.getElementById("acc_quantity_data")&&(document.getElementById("acc_quantity_data").value=h.join("@@")),document.getElementById("acc_attribute_data")&&(document.getElementById("acc_attribute_data").value=p.join("@@")),document.getElementById("acc_property_data")&&(document.getElementById("acc_property_data").value=d.join("@@")),document.getElementById("acc_subproperty_data")&&(document.getElementById("acc_subproperty_data").value=v.join("@@")),document.getElementById("accessory_price")&&(document.getElementById("accessory_price").value=i),document.getElementById("accessory_price_withoutvat")&&(document.getElementById("accessory_price_withoutvat").value=u)}return i}function number_format(e,t,n,r){var i=e,s=t;i*=CURRENCY_CONVERT;var o=function(e,t){var n=Math.pow(10,t);return(Math.round(e*n)/n).toString()};i=isFinite(+i)?+i:0,s=isFinite(+s)?Math.abs(s):0;var u=typeof r=="undefined"?",":r,a=typeof n=="undefined"?".":n,f=s>0?o(i,s):o(Math.round(i),s),l=o(Math.abs(i),s),c,h;l>=1e3?(c=l.split(/\D/),h=c[0].length%3||3,c[0]=f.slice(0,h+(i<0))+c[0].slice(h).replace(/(\d{3})/g,u+"$1"),f=c.join(a)):f=f.replace(".",a);var p=f.indexOf(a);s>=1&&p!==-1&&f.length-p-1<s?f+=(new Array(s-(f.length-p-1))).join(0)+"0":s>=1&&p===-1&&(f+=a+(new Array(s)).join(0)+"0");var d="";return CURRENCY_SYMBOL_POSITION=="front"?d=CURRENCY_SYMBOL_CONVERT+f:CURRENCY_SYMBOL_POSITION=="behind"?d=f+CURRENCY_SYMBOL_CONVERT:CURRENCY_SYMBOL_POSITION=="none"?d=f:d=CURRENCY_SYMBOL_CONVERT+f,d}function getPriceReplacement(e){var t="";return SHOW_PRICE=="0"&&(url=PRICE_REPLACE_URL,url==""&&(url="#"),t="<a href='"+url+"'>"+PRICE_REPLACE+"</a>"),SHOW_PRICE=="1"&&e==0&&(url=ZERO_PRICE_REPLACE_URL,url==""&&(url="#"),t="<a href='"+url+"'>"+ZERO_PRICE_REPLACE+"</a>"),t}function setWrapper(e,t,n,r){document.getElementById("wrapper_id")&&(document.getElementById("wrapper_id").value=e),document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=e),document.getElementById("wrapper_price").value=t,document.getElementById("wrapper_price_withoutvat").value=n,calculateTotalPrice(r,0)}function setPropImage(e,t,n){var r=document.getElementById(t);if(r)if(r.type=="checkbox"||r.type=="radio"){var i=document.getElementsByName(t+"[]");for(var s=0;s<i.length;s++){var o=i[s].value;o==n&&(i[s].checked=!0)}}else for(var s=0;s<r.options.length;s++){var o=r.options[s].value;o==n&&(r.options[s].selected=!0)}}function setSubpropImage(e,t,n){var r=document.getElementById(t);if(r)if(r.type=="checkbox"||r.type=="radio"){var i=document.getElementsByName(t+"[]");for(var s=0;s<i.length;s++){var o=i[s].value;i[s].value==n&&(i[s].checked=!0)}}else for(var s=0;s<r.options.length;s++){var o=r.options[s].value;r.options[s].value==n&&(r.options[s].selected=!0)}}function setPropertyImage(e,t){var n=0,r=document.getElementById(t);if(r)if(r.type=="checkbox"||r.type=="radio"){var i=document.getElementsByName(t+"[]");for(var s=0;s<i.length;s++){var o="";n=i[s].value,i[s].checked&&(o="1px solid"),document.getElementById(t+"_propimg_"+n)&&(document.getElementById(t+"_propimg_"+n).style.border=o)}}else for(var s=0;s<r.length;s++){var o="";n=r[s].value,r[r.selectedIndex].value==n&&(o="1px solid"),document.getElementById(t+"_propimg_"+n)&&(document.getElementById(t+"_propimg_"+n).style.border=o)}}function setSubpropertyImage(e,t,n){var n=0,r=document.getElementById(t);if(r)if(r.type=="checkbox"||r.type=="radio"){var i=document.getElementsByName(t+"[]");for(var s=0;s<i.length;s++){var o="";n=i[s].value,i[s].checked&&(o="1px solid"),document.getElementById(t+"_subpropimg_"+n)&&(document.getElementById(t+"_subpropimg_"+n).style.border=o)}}else for(var s=0;s<r.length;s++){var o="";n=r[s].value,r[r.selectedIndex].value==n&&(o="1px solid"),document.getElementById(t+"_subpropimg_"+n)&&(document.getElementById(t+"_subpropimg_"+n).style.border=o)}}function displayAdditionalImage(e,t,n,r,i){var s="&product_id="+e;s=s+"&accessory_id="+t,s=s+"&relatedprd_id="+n,s=s+"&property_id="+r,s=s+"&subproperty_id="+i;var o="";t!=0?(prefix="acc_",e=t):n!=0?prefix="rel_":prefix="prd_",collectAttributes(e,0,n);if(document.getElementById("property_data")){var u=document.getElementById("property_data").value;s=s+"&property_data="+encodeURIComponent(u)}if(document.getElementById("subproperty_data")){var a=document.getElementById("subproperty_data").value;s=s+"&subproperty_data="+encodeURIComponent(a)}document.getElementById(prefix+"main_imgwidth")&&(s=s+"&main_imgwidth="+parseInt(document.getElementById(prefix+"main_imgwidth").value)),document.getElementById(prefix+"main_imgheight")&&(s=s+"&main_imgheight="+parseInt(document.getElementById(prefix+"main_imgheight").value));var f=0;if(document.getElementById("a_main_image"+e)||document.getElementById("main_image"+e)){if(document.getElementById("a_main_image"+e)){var l=document.getElementById("a_main_image"+e).href;l=l.split("");var c=l.reverse();c=c.join(""),l=c.split("."),l=l[0].split(""),c=l.reverse(),c=c.join("")}else{var l=document.getElementById("main_image"+e).src;l=l.split("");var c=l.reverse();c=c.join(""),l=c.split("."),l=l[0].split(""),c=l.reverse(),c=c.join(""),c=c.split("&"),c=c[0]}c=c.toLowerCase();if(c=="jpg"||c=="jpeg"||c=="png"||c=="gif"||c=="bmp")f=1}var h=site_url+"index.php?option=com_redshop&view=product&task=displayAdditionImage&redview="+REDSHOP_VIEW+"&redlayout="+REDSHOP_LAYOUT+"&tmpl=component";h+=s,request=getHTTPObject(),request.onreadystatechange=function(){if(request.readyState==4){o=request.responseText;var t=o.split("`_`");t[9]!=""&&document.getElementById("product_number_variable"+e)&&(document.getElementById("product_number_variable"+e).innerHTML=t[9]),subproperty_main_image=t[4],document.getElementById("a_main_image"+e)?(t[2]!=""&&f==1&&(document.getElementById("a_main_image"+e).href=t[2]),t[3]!=""&&(document.getElementById("a_main_image"+e).title=t[3]),t[4]!=""&&(document.getElementById("a_main_image"+e).innerHTML=t[4])):t[4]!=""&&document.getElementById("main_image"+e)&&t[4]!=""&&(document.getElementById("main_image"+e).src=t[4]),document.getElementById("additional_images"+e)&&t[1]!=""&&(document.getElementById("additional_images"+e).innerHTML=t[1]),document.getElementById("hidden_attribute_cartimage"+e)&&(document.getElementById("hidden_attribute_cartimage"+e).value=t[12]),document.getElementById("stockImage"+e)&&t[5]!=""&&(document.getElementById("stockImage"+e).src=t[5]),document.getElementById("stockImageTooltip"+e)&&t[6]!=""&&(document.getElementById("stockImageTooltip"+e).innerHTML=t[6]),document.getElementById("displayProductInStock"+e)&&t[10]!=""&&(document.getElementById("displayProductInStock"+e).innerHTML=t[10]),document.getElementById("ProductAttributeMinDelivery"+e)&&t[7]!=""&&(document.getElementById("ProductAttributeMinDelivery"+e).innerHTML=t[7]),document.getElementById("stock_status_div"+e)&&t[11]!=""&&(document.getElementById("stock_status_div"+e).innerHTML=t[11]),document.getElementById("notify_stock"+e)&&(document.getElementById("notify_stock"+e).innerHTML=t[13]),document.getElementById("stock_availability_date_lbl"+e)&&(document.getElementById("stock_availability_date_lbl"+e).innerHTML=t[14]),document.getElementById("stock_availability_date"+e)&&(document.getElementById("stock_availability_date"+e).innerHTML=t[15]);var n={isenable:!0,mainImage:!1};preloadSlimbox(n)}},request.open("GET",h,!0),request.send(null)}function preloadSlimbox(e){if(e.isenable){var t={handler:"image"};redBOX.initialize({}),e.mainImage?redBOX.assign($$("a[rel='myallimg']"),t):redBOX.assign($$(".additional_image > a[rel='myallimg']"),t)}}function setWrapperComboBox(){document.getElementById("wrapper_id")&&document.getElementById("sel_wrapper_id")&&(document.getElementById("sel_wrapper_id").value=document.getElementById("wrapper_id").value);var e=document.getElementsByName("w_price"),t=0;document.getElementById("sel_wrapper_id")&&(t=document.getElementById("sel_wrapper_id").value);var n=0,r=0;document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&t!=0&&(n=document.getElementById("w_price"+t).value,r=document.getElementById("w_price_withoutvat"+t).value),document.getElementById("wrapper_price")&&(document.getElementById("wrapper_price").value=n),document.getElementById("wrapper_price_withoutvat")&&(document.getElementById("wrapper_price_withoutvat").value=r);for(i=0;i<e.length;i++){var s=e[i].id.substr(7);document.getElementById("wrappertd"+s)&&(s==t?(document.getElementById("wrappertd"+s).style.border="1px solid",document.getElementById("wrappertd"+s).style.padding="7px"):(document.getElementById("wrappertd"+s).style.border="",document.getElementById("wrappertd"+s).style.padding=""))}}function discountCalculation(e){var t=0,n=0,r=0,i=0,s="cm",o="cm",u="",a=0,f=0,l="",c=0;if(document.getElementById("calc_height")){t=document.getElementById("calc_height").value;if(t=="")return alert(COM_REDSHOP_PLEASE_INSERT_HEIGHT),!1}if(document.getElementById("calc_width")){n=document.getElementById("calc_width").value;if(n=="")return alert(COM_REDSHOP_PLEASE_INSERT_WIDTH),!1}if(document.getElementById("calc_depth")){r=document.getElementById("calc_depth").value;if(r=="")return alert(COM_REDSHOP_PLEASE_INSERT_DEPTH),!1}if(document.getElementById("calc_radius")){i=document.getElementById("calc_radius").value;if(i=="")return alert(COM_REDSHOP_PLEASE_INSERT_RADIUS),!1}if(document.getElementById("discount_calc_unit")){s=document.getElementById("discount_calc_unit").value;if(s==0)return alert(COM_REDSHOP_PLEASE_INSERT_UNIT),!1}document.getElementById("calc_unit")&&(o=document.getElementById("calc_unit").value);var h=new Array;if(document.getElementsByName("pdc_option_name[]")){var p=document.getElementsByName("pdc_option_name[]"),d=0;for(var v=0;v<p.length;v++){var m=p[v];m.checked&&(h[d]=m.value,d++)}}h=h.join(","),http=getHTTPObject();if(http==null){alert("Your browser does not support XMLHTTP!");return}http.onreadystatechange=function(){if(http.readyState==4){var t=http.responseText;t=t.replace(/^\s+|\s+$/g,"");if(t=="fail")return alert(COM_REDSHOP_NOT_AVAILABLE),!1;t=t.split("\n");var n=document.getElementsByName("quantity"),r=1;for(var i=0;i<n.length;i++)n[i].id=="ajax_quantity"+e?r=n[i].value:n[i].id=="quantity"+e&&(r=n[i].value);u=t[0],a=t[1],f=t[2],price_excl_vat=t[7];var s=number_format(a,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR),o=number_format(f,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR);r<=0&&(r=1),c=parseFloat(f)*r;var h=number_format(c,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR);l=t[3]+u+"<br />",l+=t[4]+s+"<br />",l+=t[5]+o+"<br />",l+=t[6]+h,document.getElementById("discount_cal_final_price")&&(document.getElementById("discount_cal_final_price").innerHTML=l);if(document.getElementById("main_price"+e)){var p=document.getElementById("main_price"+e).value;calculateTotalPrice(e,0);if(SHOW_PRICE=="1"&&(DEFAULT_QUOTATION_MODE!="1"||DEFAULT_QUOTATION_MODE&&SHOW_QUOTATION_PRICE)){var d=final_price_f-parseFloat(p)+parseFloat(c);if(t[8]==1)var v=c+price_excl_vat*r;else var v=c*r;h=number_format(d,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR),formatted_product_price_excl_vat=
number_format(v,PRICE_DECIMAL,PRICE_SEPERATOR,THOUSAND_SEPERATOR),document.getElementById("produkt_kasse_hoejre_pris_indre"+e)&&(document.getElementById("produkt_kasse_hoejre_pris_indre"+e).innerHTML=formatted_product_price_excl_vat,document.getElementById("display_product_price_no_vat"+e)&&(document.getElementById("display_product_price_no_vat"+e).innerHTML=h),document.getElementById("product_price_no_vat"+e)&&(document.getElementById("product_price_no_vat"+e).value=d)),document.getElementById("product_price_incl_vat"+e)&&(document.getElementById("product_price_incl_vat"+e).innerHTML=formatted_product_price_excl_vat),document.getElementById("main_price"+e).value=v}}}},http.open("GET",site_url+"index.php?option=com_redshop&view=cart&task=discountCalculator&product_id="+e+"&calcHeight="+t+"&calcWidth="+n+"&calcDepth="+r+"&calcRadius="+i+"&calcUnit="+s+"&pdcextraid="+h+"&tmpl=component",!0),http.send(null)}function setProductUserFieldImage(e,t,n,r){var i=document.getElementsByClassName("imgClass_"+t);for(var s=0;s<i.length;s++)removeClass(i[s],"selectedimg");document.getElementById(e+"_"+t)&&(document.getElementById(e+"_"+t).value=n,r.className+=" selectedimg"),document.getElementById("ajax"+e+"_"+t)&&(document.getElementById("ajax"+e+"_"+t).value=n),document.getElementById(e)&&(document.getElementById(e).value=n)}function removeClass(e,t){if(hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function hasClass(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function RedgetElementsByClassName(e){var t=new Array,n=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<n.length;i++)n[i].className==e&&(t[j]=n[i],j++);return t}function getElementsByClassName(e){var t=new Array,n=document.all?document.all:document.getElementsByTagName("*");for(i=0,j=0;i<n.length;i++)n[i].className==e&&(t[j]=n[i],j++);return t}function displayAddtocartForm(e,t,r,i,s){var o="",u="";document.getElementById(s)&&(u=document.getElementById(s).elements);if(t==0||t=="")return!1;var a=new Array,f=new Array,l=new Array,c="";for(var h=0;h<u.length;h++)if(u[h].type=="checkbox"&&u!=""||u[h].type=="radio"&&u!=""){if(u[h].checked==1){a[h]=u[h].value,f[h]=u[h].name;var p=document.getElementById(e).elements;c=reverseString(u[h].id),c=reverseString(c.substr(c.indexOf("_")+1));for(var d=0;d<p.length;d++)if(c==p[d].name){var v=p[d].value;v.search(a[h])==-1&&(p[d].value!=""&&(p[d].value+=","),p[d].value+=a[h])}}}else if(u[h].type=="select-one"){a[h]=u[h].value,f[h]=u[h].name;var p=document.getElementById(e).elements;for(var d=0;d<p.length;d++){c=u[h].id;if(c==p[d].name){var v=p[d].value;v.search(a[h])&&(p[d].value+=a[h])}}}else if(u[h].type=="select-multiple"){var m=u[h];p=document.getElementById(e).elements;for(var g=0;g<m.options.length;g++)if(m.options[g].selected)for(var d=0;d<p.length;d++){c=u[h].id;if(c==p[d].name){var v=p[d].value;v.search(String(m.options[g].value))==-1&&(p[d].value!=""&&(p[d].value+=","),p[d].value+=String(m.options[g].value))}}}var y=RedgetElementsByClassName("calendar"),b="";for(cal_i=0;cal_i<y.length;cal_i++){var w=y[cal_i].id;arr=w.split("_img"),n=arr.length;var E=arr[0];if(E!=""&&E.search(e)&&document.getElementById(E).value!=""){b=reverseString(E),b=reverseString(b.substr(b.indexOf("_")+1));var S=String(e),p=document.getElementById(S).elements,x=String(b+"_"+t);for(var d=0;d<p.length;d++)b==p[d].name&&(p[d].value=document.getElementById(x).value)}}return document.getElementById(e)&&document.getElementById("requiedAttribute")&&(document.getElementById("requiedAttribute").value=document.getElementById(e).requiedAttribute.getAttribute("reattribute")),document.getElementById(e)&&document.getElementById("requiedProperty")&&(document.getElementById("requiedProperty").value=document.getElementById(e).requiedProperty.getAttribute("reproperty")),i==0&&calculateTotalPrice(t,r),setAddtocartForm(e,t)?!0:!1}function setAddtocartForm(e,t){var n=document.getElementById(e);document.getElementById("Itemid")&&(n.Itemid.value=document.getElementById("Itemid").value),document.getElementById("attribute_data")&&(n.attribute_data.value=document.getElementById("attribute_data").value),document.getElementById("property_data")&&(n.property_data.value=document.getElementById("property_data").value),document.getElementById("subproperty_data")&&(n.subproperty_data.value=document.getElementById("subproperty_data").value),document.getElementById("accessory_data")&&(n.accessory_data.value=document.getElementById("accessory_data").value),document.getElementById("acc_quantity_data")&&(n.acc_quantity_data.value=document.getElementById("acc_quantity_data").value),document.getElementById("acc_attribute_data")&&(n.acc_attribute_data.value=document.getElementById("acc_attribute_data").value),document.getElementById("acc_property_data")&&(n.acc_property_data.value=document.getElementById("acc_property_data").value),document.getElementById("acc_subproperty_data")&&(n.acc_subproperty_data.value=document.getElementById("acc_subproperty_data").value),document.getElementById("accessory_price")&&(n.accessory_price.value=document.getElementById("accessory_price").value),document.getElementById("requiedAttribute")&&(n.requiedAttribute.value=document.getElementById("requiedAttribute").value),document.getElementById("requiedProperty")&&(n.requiedProperty.value=document.getElementById("requiedProperty").value);var r=1;document.getElementById("quantity"+t).value&&(r=document.getElementById("quantity"+t).value),document.getElementById("hidden_attribute_cartimage"+t)&&(n.hidden_attribute_cartimage.value=document.getElementById("hidden_attribute_cartimage"+t).value);if(parseInt(n.min_quantity.value)!=0&&parseInt(n.min_quantity.value)>r)return alert(n.min_quantity.getAttribute("requiredtext")+" "+parseInt(n.min_quantity.value)),!1;if(parseInt(n.max_quantity.value)!=0&&parseInt(n.max_quantity.value)<r)return alert(n.max_quantity.getAttribute("requiredtext")+" "+parseInt(n.max_quantity.value)),!1;if(document.getElementById("calc_height")){var i=document.getElementById("calc_height").value;if(i=="")return alert(COM_REDSHOP_PLEASE_INSERT_HEIGHT),!1;n.calcHeight.value=i}if(document.getElementById("calc_width")){var s=document.getElementById("calc_width").value;if(s=="")return alert(COM_REDSHOP_PLEASE_INSERT_WIDTH),!1;n.calcWidth.value=s}if(document.getElementById("calc_depth")){var o=document.getElementById("calc_depth").value;if(o=="")return alert(COM_REDSHOP_PLEASE_INSERT_DEPTH),!1;n.calcDepth.value=o}if(document.getElementById("calc_radius")){var u=document.getElementById("calc_radius").value;if(u=="")return alert(COM_REDSHOP_PLEASE_INSERT_RADIUS),!1;n.calcRadius.value=u}if(document.getElementById("discount_calc_unit")){calUnit=document.getElementById("discount_calc_unit").value;if(calUnit==0)return alert(COM_REDSHOP_PLEASE_INSERT_UNIT),!1;n.calcUnit.value=calUnit}var a=new Array;if(document.getElementsByName("pdc_option_name[]")){var f=document.getElementsByName("pdc_option_name[]"),l=0;for(var c=0;c<f.length;c++){var h=f[c];h.checked&&(a[l]=h.value,l++)}}a=a.join(","),n.pdcextraid.value=a;if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0)return alert(COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN),!1;n.subscription_id.value=subId}return!0}function checkAddtocartValidation(e,t,n,r,i,s,o,u){if(t==0||t=="")return!1;var a="",f="",l="",c="",h="",p="",d="",v="",m="",g="",y=!1,b=!1,w=new Array,E=new Array,S=0,x=0;if(AJAX_CART_BOX==0){var T=userfieldValidation("extrafields"+t);if(!T)return!1;var N=document.getElementById(e).requiedAttribute.value,C=document.getElementById(e).requiedProperty.value;if(N!="")return alert(N),!1;if(C!="")return alert(C),!1;document.getElementById(e).submit()}else{var k=parseInt(s)+parseInt(o)+parseInt(u);r!=0?submitAjaxCartdetail(e,t,n,r,s,o,u):k>0?displayAjaxCartdetail(e,t,n,r,s,o,u):submitAjaxCartdetail(e,t,n,r,s,o,u)}}function displayAjaxCartdetail(e,t,r,s,o,u,a){if(t==0||t=="")return!1;var f="";document.getElementById("isAjaxBoxOpen")&&(f=document.getElementById("isAjaxBoxOpen").value);var l=0,c=1,h=1,p=0,d=document.getElementById(e),v=document.getElementsByName("extrafields"+t+"[]"),m="",g="",y="",b=!1,w="",E="",S=!1,x="",T="";for(var N=0;N<v.length;N++)if(!v[N].value&&v[N].type=="text")m+=v[N].id,v.length-1!=N&&(m+=",");else if(!v[N].value&&v[N].type=="select-one")m+=v[N].id,v.length-1!=N&&(m+=",");else if(!v[N].value&&v[N].type=="hidden")x=reverseString(v[N].id),x=reverseString(x.substr(x.indexOf("_")+1)),m+=x,v.length-1!=N&&(m+=",");else if(v[N].type=="checkbox"){y=reverseString(v[N].id),y=reverseString(y.substr(y.indexOf("_")+1)),g!=""&&g!=y&&b==0&&(m+=g+","),g!=y&&(g=y,b=!1);if(v[N].checked||b==1){b=!0;continue}if(N==v.length-1&&b==0||v[N+1].type!="checkbox"&&b==0)m+=g+","}else if(v[N].type=="radio"){E=reverseString(v[N].id),E=reverseString(E.substr(E.indexOf("_")+1)),w!=""&&w!=E&&S==0&&(m+=w+","),w!=E&&(w=E,S=!1);if(v[N].checked||S==1){S=!0;continue}if(N==v.length-1&&S==0||v[N+1].type!="radio"&&S==0)m+=w+","}else if(v[N].type=="select-multiple"){T=reverseString(v[N].id),T=reverseString(T.substr(T.indexOf("_")+1));if(v[N].value)continue;m+=T+","}var C=RedgetElementsByClassName("calendar"),k="";for(cal_i=0;cal_i<C.length;cal_i++){var L=C[cal_i].id;arr=L.split("_img"),n=arr.length;var A=arr[0];A!=""&&document.getElementById(A).value==""&&(k=reverseString(A),k=reverseString(k.substr(k.indexOf("_")+1)),m+=","+k+",")}var O="";if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0||subId=="")return alert(COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN),!1;O="&subscription_id="+subId}var M=1,_="";request=getHTTPObject(),document.getElementById("quantity"+t).value&&(M=document.getElementById("quantity"+t).value);var D=document.getElementById(e).requiedAttribute.value,P=document.getElementById(e).requiedProperty.value,H=document.getElementById(e).accessory_data.value;m==0&&(a=0),D==""&&P==""&&(o=0);var B=new Array;u>0&&H!=""&&H!=0&&(B=H.split("@@"),u==B.length&&(u=0));var j=parseInt(o)+parseInt(u)+parseInt(a),F=parseInt(o)+parseInt(a);if(u>0&&F==0&&B.length>0||j==0||f=="viewajaxdetail")submitAjaxCartdetail(e,t,r,s,o,u,a);else{var I="&property_data="+encodeURIComponent(document.getElementById(e).property_data.value);I=I+"&subproperty_data="+encodeURIComponent(document.getElementById(e).subproperty_data.value),I=I+"&accessory_data="+encodeURIComponent(document.getElementById(e).accessory_data.value),I=I+"&acc_quantity_data="+encodeURIComponent(document.getElementById(e).acc_quantity_data.value),I=I+"&acc_property_data="+encodeURIComponent(document.getElementById(e).acc_property_data.value),I=I+"&acc_subproperty_data="+encodeURIComponent(document.getElementById(e).acc_subproperty_data.value);var _="option=com_redshop&view=product&pid="+t+"&relatedprd_id="+r+"&layout=viewajaxdetail&product_quantity="+M+"&tmpl=component&nextrafield="+a+"&extrafieldNames="+m+O+I,q=site_url+"index.php?"+_;request.onreadystatechange=function(){if(request.readyState==4&&request.status==200){var e=request.responseText,t={url:q,handler:"html",size:{x:parseInt(AJAX_DETAIL_BOX_WIDTH),y:parseInt(AJAX_DETAIL_BOX_HEIGHT)},htmldata:e};redBOX.initialize({}),document.attbox=redBOX.open(null,t);var r={isenable:!1,mainImage:!1};preloadSlimbox(r);var s=RedgetElementsByClassName("calendar");for(i=0;i<s.length;i++){var o=s[i].id;arr=o.split("_img"),n=arr.length;var u=arr[0],a=u.split("ajax");o.search("ajax")!=-1&&m.search(a[0])!=-1&&window.addEvent("domready",function(){Calendar.setup({inputField:u,ifFormat:"%d-%m-%Y",button:s[i].id,align:"Tl",singleClick:!0})})}}},request.open("POST",q,!0),request.send(_)}}function submitAjaxCartdetail(e,t,n,r,i,s,o){var u=document.getElementById(e),a=0,f=0,l=0,c=0,h=0,p=0,d=0,v=0,m="",g="",y="",b="",w=1,E="",S=!1,x=0,T=0,N=document.getElementsByName("extrafields"+t+"[]"),C="",k="",L="",A="",O="",M=!1,_="",D="",P=!1,H="",B=userfieldValidation("extrafields"+t);if(!B)return!1;var j=document.getElementById(e).requiedAttribute.value,F=document.getElementById(e).requiedProperty.value;if(j!=0&&j!="")return alert(j),!1;if(F!=0&&F!="")return alert(F),!1;for(var I=0;I<N.length;I++)if(N[I].type=="checkbox")O=reverseString(N[I].id),O=reverseString(O.substr(O.indexOf("_")+1)),A!=""&&A!=O&&k!=""&&(L+="&"+A+"="+k),A!=O&&(k="",A=O),N[I].checked&&(k!=""&&(k+=","),k+=N[I].value),I==N.length-1&&k!=""&&(L+="&"+O+"="+k),I<N.length-1&&N[I+1].type!="checkbox"&&k!=""&&(L+="&"+O+"="+k);else if(N[I].type=="radio"){D=reverseString(N[I].id),D=reverseString(D.substr(D.indexOf("_")+1)),_!=""&&_!=D&&P==0&&(L+="&"+_+"="+k);if(_!=D){k="",_=D,P=!1;if(N[I].checked||P==1){P=!0,L+="&"+_+"="+N[I].value;continue}}else if(N[I].checked||P==1){P=!0,L+="&"+D+"="+N[I].value;continue}}else if(N[I].type=="select-multiple"){var q=N[I];k="",H=reverseString(N[I].id),H=reverseString(H.substr(H.indexOf("_")+1));for(var R=0;R<q.options.length;R++)if(q.options[R].selected){var U=k;U.search(String(q.options[R].value))==-1&&(k!=""&&(k+=","),k+=String(q.options[R].value))}k&&(L+="&"+H+"="+k)}else if(N[I].type=="hidden")imgfieldNamefrmId=reverseString(N[I].id),imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1)),C=imgfieldNamefrmId,k=N[I].value,L+="&"+C+"="+k,k="";else{if(N[I].id.search("ajax")!=-1){var z=N[I].id.split("ajax"),W="";W=reverseString(z[1]),W=reverseString(W.substr(W.indexOf("_")+1)),N[I].id=W}C=N[I].id,k=encodeURIComponent(N[I].value),L+="&"+C+"="+k}var X=RedgetElementsByClassName("calendar"),W="";for(cal_i=0;cal_i<X.length;cal_i++){var V=X[cal_i].id;arr=V.split("_img"),G=arr.length;var $=arr[0];$!=""&&$.search(t)&&document.getElementById($).value!=""&&(W=reverseString($),W=reverseString(W.substr(W.indexOf("_")+1)),L+="&"+W+"="+document.getElementById($).value)}var J="";if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0||subId=="")return alert(COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN),!1;J="&subscription_id="+subId}document.getElementById("giftcard_id")?(E="&giftcard_id="+t,document.getElementById("reciver_email")&&(E+="&reciver_email="+document.getElementById("reciver_email").value),document.getElementById("reciver_name")&&(E+="&reciver_name="+document.getElementById("reciver_name").value),document.getElementById("customer_amount")&&(E+="&customer_amount="+document.getElementById("customer_amount").value)):E="&product_id="+t,request=getHTTPObject();var K="option=com_redshop&view=cart&task=add&tmpl=component&ajax_cart_box=1";K=K+"&Itemid="+u.Itemid.value+E,K=K+"&category_id="+u.category_id.value,K=K+"&attribute_data="+u.attribute_data.value,K=K+"&property_data="+u.property_data.value,K=K+"&subproperty_data="+u.subproperty_data.value,K=K+"&requiedAttribute="+u.requiedAttribute.value,K=K+"&requiedProperty="+u.requiedProperty.value,K=K+"&accessory_data="+u.accessory_data.value,K=K+"&acc_quantity_data="+u.acc_quantity_data.value,K=K+"&acc_attribute_data="+u.acc_attribute_data.value,K=K+"&acc_property_data="+u.acc_property_data.value,K=K+"&acc_subproperty_data="+u.acc_subproperty_data.value,K=K+"&accessory_price="+u.accessory_price.value,document.getElementById("wrapper_check")&&document.getElementById("wrapper_check").checked&&(K=K+"&sel_wrapper_id="+u.sel_wrapper_id.value),K=K+"&quantity="+u.quantity.value,K=K+"&hidden_attribute_cartimage="+u.hidden_attribute_cartimage.value,document.getElementById("calc_height")&&(K=K+"&calcHeight="+u.calcHeight.value),document.getElementById("calc_width")&&(K=K+"&calcWidth="+u.calcWidth.value),document.getElementById("calc_depth")&&(K=K+"&calcDepth="+u.calcDepth.value),document.getElementById("calc_radius")&&(K=K+"&calcRadius="+u.calcRadius.value),document.getElementById("calc_unit")&&(K=K+"&calcUnit="+u.calcUnit.value),K=K+"&pdcextraid="+u.pdcextraid.value,K=K+J+L;if(redShopJsTrigger.length>0)for(var Q=0,G=redShopJsTrigger.length;Q<G;Q++)new redShopJsTrigger[Q](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)K+="&"+key+"="+getExtraParamsArray[key];var Y=site_url+"index.php?"+K;request.open("POST",Y,!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",K.length),request.setRequestHeader("Connection","close");var Z=!0;request.onreadystatechange=function(){if(request.readyState==4){var e=request.responseText;e=e.split("`");if(e[1]=="0")return alert(e[2]),!1;document.attbox&&document.attbox.close(),document.getElementById("mod_cart_total")&&e[1]&&(document.getElementById("mod_cart_total").innerHTML=e[1]),document.getElementById("rs_promote_free_shipping_div")&&e[2]&&(document.getElementById("rs_promote_free_shipping_div").innerHTML=e[2]),document.getElementById("mod_cart_checkout_ajax")&&(document.getElementById("mod_cart_checkout_ajax").style.display="");var n=site_url+"index.php?option=com_redshop&view=product&pid="+t+"&r_template=cartbox&tmpl=component";request_inner=getHTTPObject(),request_inner.onreadystatechange=function(){if(request_inner.readyState==4&&request_inner.status==200&&Z){var e=request_inner.responseText;Z=!1;var t={url:n,handler:"html",size:{x:parseInt(AJAX_BOX_WIDTH),y:parseInt(AJAX_BOX_HEIGHT)},htmldata:e,onOpen:function(){if(AJAX_CART_DISPLAY_TIME>0)var e=function(){this.close()}.bind(this).delay(AJAX_CART_DISPLAY_TIME)}};redBOX.initialize({}),document.ajaxbox=redBOX.open(null,t)}},request_inner.open("GET",n,!0),request_inner.send(null)}},request.send(Y)}function displayAddtocartProperty(e,t,n,r){return document.getElementById("attribute_data")&&(document.getElementById("attribute_data").value=n),document.getElementById("property_data")&&(document.getElementById("property_data").value=r),document.getElementById("subproperty_data")&&(document.getElementById("subproperty_data").value=""),setAddtocartForm(e,t)?!0:!1}function showallreviews(){document.getElementById("showreviews")&&(document.getElementById("showreviews").style.display=="none"?document.getElementById("showreviews").style.display="":document.getElementById("showreviews").style.display="none")}function checkAddtocartwishlistValidation(e,t,n,r,i,s,o,u,a){if(t==0||t=="")return!1;var f="",l="",c="",h="",p="",d="",v="",m="",g="",y="",b=!1,w=!1,E=new Array,S=new Array,x=0,T=0;if(a==1){var N=userfieldValidation("extrafields"+t);if(!N)return!1;var C=document.getElementById(e).requiedAttribute.value,k=document.getElementById(e).requiedProperty.value;return C!=""?(alert(C),!1):k!=""?(alert(k),!1):!0}return submitAjaxCartdetail(e,t,n,r,s,o,u),!0}function productalladdprice(e){var t=1;mainpro_id=document.frm.product_id.value.split(","),totatt=document.frm.totacc_id.value.split(","),totcount_no_user_field=document.frm.totcount_no_user_field.value.split(","),mainpro_id.length=mainpro_id.length-1;for(var n=0;n<mainpro_id.length;n++)if(mainpro_id[n]!=""&&displayAddtocartForm("addtocart_prd_"+mainpro_id[n],mainpro_id[n],"0","0","user_fields_form")){if(!checkAddtocartwishlistValidation("addtocart_prd_"+mainpro_id[n],mainpro_id[n],"0","0","user_fields_form",totatt[n],"",totcount_no_user_field[n],t))return!1;n==mainpro_id.length-1}submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[0],mainpro_id[0],0,0,totatt[0],0,totcount_no_user_field[0],e)}function submitAjaxwishlistCartdetail(e,t,n,r,i,s,o,u){displayAddtocartForm("addtocart_prd_"+mainpro_id[d],mainpro_id[d],"0","0","user_fields_form");var a=document.getElementById(e),f=0,l=0,c=0,h=0,p=0,v=0,m=0,g=0,y="",b="",w="",E="",S=1,x="",T=!1,N=0,C=0,k=document.getElementsByName("extrafields"+t+"[]"),L="",A="",O="",M="",_="",D=!1,P="",H="",B=!1,j="",F=userfieldValidation("extrafields"+t);if(!F)return!1;var I=document.getElementById(e).requiedAttribute.value,q=document.getElementById(e).requiedProperty.value;if(I!=0&&I!="")return alert(I),!1;if(q!=0&&q!="")return alert(q),!1;for(var R=0;R<k.length;R++)if(k[R].type=="checkbox")_=reverseString(k[R].id),_=reverseString(_.substr(_.indexOf("_")+1)),M!=""&&M!=_&&A!=""&&(O+="&"+M+"="+A),M!=_&&(A="",M=_),k[R].checked&&(A!=""&&(A+=","),A+=k[R].value),R==k.length-1&&A!=""&&(O+="&"+_+"="+A),R<k.length-1&&k[R+1].type!="checkbox"&&A!=""&&(O+="&"+_+"="+A);else if(k[R].type=="radio"){H=reverseString(k[R].id),H=reverseString(H.substr(H.indexOf("_")+1)),P!=""&&P!=H&&B==0&&(O+="&"+P+"="+A);if(P!=H){A="",P=H,B=!1;if(k[R].checked||B==1){B=!0,O+="&"+P+"="+k[R].value;continue}}else if(k[R].checked||B==1){B=!0,O+="&"+H+"="+k[R].value;continue}}else if(k[R].type=="select-multiple"){var U=k[R];A="",j=reverseString(k[R].id),j=reverseString(j.substr(j.indexOf("_")+1));for(var z=0;z<U.options.length;z++)if(U.options[z].selected){var W=A;W.search(String(U.options[z].value))==-1&&(A!=""&&(A+=","),A+=String(U.options[z].value))}A&&(O+="&"+j+"="+A)}else if(k[R].type=="hidden")imgfieldNamefrmId=reverseString(k[R].id),imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1)),L=imgfieldNamefrmId,A=k[R].value,O+="&"+L+"="+A,A="";else if(k[R].type=="text")L=k[R].id,A=k[R].value,O+="&"+L+"="+A;else{if(k[R].id.search("ajax")!=-1){var X=k[R].id.split("ajax"),V="";V=reverseString(X[1]),V=reverseString(V.substr(V.indexOf("_")+1)),k[R].id=V}L=k[R].id,A=k[R].value,O+="&"+L+"="+A}var $=RedgetElementsByClassName("calendar"),V="";for(cal_i=0;cal_i<$.length;cal_i++){var J=$[cal_i].id;arr=J.split("_img"),Z=arr.length;var K=arr[0];K!=""&&K.search(t)&&document.getElementById(K).value!=""&&(V=reverseString(K),V=reverseString(V.substr(V.indexOf("_")+1)),O+="&"+V+"="+document.getElementById(K).value)}var Q="";if(document.getElementById("hidden_subscription_id")){subId=document.getElementById("hidden_subscription_id").value;if(subId==0||subId=="")return alert(COM_REDSHOP_SELECT_SUBSCRIPTION_PLAN),!1;Q="&subscription_id="+subId}document.getElementById("giftcard_id")?(x="&giftcard_id="+t,document.getElementById("reciver_email")&&(x+="&reciver_email="+document.getElementById("reciver_email").value),document.getElementById("reciver_name")&&(x+="&reciver_name="+document.getElementById("reciver_name").value),document.getElementById("customer_amount")&&(x+="&customer_amount="+document.getElementById("customer_amount").value)):x="&product_id="+t,request=getHTTPObject();if(u==1||u==2)var G="option=com_redshop&view=product&task=addtowishlist&wid=1&ajaxon=1&tmpl=component";else var G="option=com_redshop&view=cart&task=add&tmpl=component&ajax_cart_box=1";G=G+"&Itemid="+a.Itemid.value+x,G=G+"&category_id="+a.category_id.value,G=G+"&attribute_data="+a.attribute_data.value,G=G+"&property_data="+a.property_data.value,G=G+"&subproperty_data="+a.subproperty_data.value,G=G+"&requiedAttribute="+a.requiedAttribute.value,G=G+"&requiedProperty="+a.requiedProperty.value,G=G+"&accessory_data="+a.accessory_data.value,G=G+"&acc_quantity_data="+a.acc_quantity_data.value,G=G+"&acc_attribute_data="+a.acc_attribute_data.value,G=G+"&acc_property_data="+a.acc_property_data.value,G=G+"&acc_subproperty_data="+a.acc_subproperty_data.value,G=G+"&accessory_price="+a.accessory_price.value,G=G+"&sel_wrapper_id="+a.sel_wrapper_id.value,G+="&quantity=1",document.getElementById("calc_height")&&(G=G+"&calcHeight="+a.calcHeight.value),document.getElementById("calc_width")&&(G=G+"&calcWidth="+a.calcWidth.value),document.getElementById("calc_depth")&&(G=G+"&calcDepth="+a.calcDepth.value),document.getElementById("calc_radius")&&(G=G+"&calcRadius="+a.calcRadius.value),document.getElementById("calc_unit")&&(G=G+"&calcUnit="+a.calcUnit.value),G=G+"&pdcextraid="+a.pdcextraid.value,G=G+Q+O;if(redShopJsTrigger.length>0)for(var Y=0,Z=redShopJsTrigger.length;Y<Z;Y++)new redShopJsTrigger[Y](arguments);if("object"==typeof getExtraParamsArray)for(key in getExtraParamsArray)G+="&"+key+"="+getExtraParamsArray[key];var et=site_url+"index.php?"+G;/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",et,!0):request.open("POST",et,!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",G.length),request.setRequestHeader("Connection","close"),request.onreadystatechange=function(){request.readyState<4&&(document.getElementById("saveid")!=""&&u==1?document.getElementById("saveid").innerHTML='<font size="1" color="red">Processing...</font>':document.getElementById("allcart").innerHTML='<font size="1" color="red">Processing...</font>');if(request.readyState==4){var e=request.responseText;e=e.split("`");if(e[1]=="0")return!1;document.attbox&&document.attbox.close(),d++;var n=mainpro_id.length;if(d<n)mainpro_id[d]!=""&&submitAjaxwishlistCartdetail("addtocart_prd_"+mainpro_id[d],mainpro_id[d],0,0,totatt[d],0,totcount_no_user_field[d]);else if(u==1)window.location=site_url+"index.php?wishlist=1&option=com_redshop&view=login";else{if(u==2)return!1;window.location=site_url+"index.php?option=com_redshop&view=cart"}document.getElementById("saveid").innerHTML="",document.getElementById("allcart").innerHTML="",document.getElementById("mod_cart_total")&&e[1]&&(document.getElementById("mod_cart_total").innerHTML=e[1]),document.getElementById("rs_promote_free_shipping_div")&&e[2]&&(document.getElementById("rs_promote_free_shipping_div").innerHTML=e[2]),document.getElementById("mod_cart_checkout_ajax")&&(document.getElementById("mod_cart_checkout_ajax").style.display="");var r=site_url+"index.php?option=com_redshop&view=product&pid="+t+"&r_template=cartbox&tmpl=component",i={url:r,handler:"ajax",size:{x:500,y:600}};redBOX.initialize({}),redBOX.open(null,i)}},request.send(et),request.send(null)}function addmywishlist(e,t,r){var i=document.getElementsByName("extrafields"+t+"[]"),s="",o="",u="",a="",f="",l=!1,c="",h="",p=!1,d="";for(var v=0;v<i.length;v++)if(i[v].type=="checkbox")f=reverseString(i[v].id),f=reverseString(f.substr(f.indexOf("_")+1)),a!=""&&a!=f&&o!=""&&(u+="&"+a+"="+o),a!=f&&(o="",a=f),i[v].checked&&(o!=""&&(o+=","),o+=i[v].value),v==i.length-1&&o!=""&&(u+="&"+f+"="+o),v<i.length-1&&i[v+1].type!="checkbox"&&o!=""&&(u+="&"+f+"="+o);else if(i[v].type=="radio"){h=reverseString(i[v].id),h=reverseString(h.substr(h.indexOf("_")+1)),c!=""&&c!=h&&p==0&&(u+="&"+c+"="+o);if(c!=h){o="",c=h,p=!1;if(i[v].checked||p==1){p=!0,u+="&"+c+"="+i[v].value;continue}}else if(i[v].checked){p=!0,u+="&"+h+"="+i[v].value;continue}}else if(i[v].type=="select-multiple"){var m=i[v];o="",d=reverseString(i[v].id),d=reverseString(d.substr(d.indexOf("_")+1));for(var g=0;g<m.options.length;g++)if(m.options[g].selected){var y=o;y.search(String(m.options[g].value))==-1&&(o!=""&&(o+=","),o+=String(m.options[g].value))}o&&(u+="&"+d+"="+o)}else if(i[v].type=="hidden")imgfieldNamefrmId=reverseString(i[v].id),imgfieldNamefrmId=reverseString(imgfieldNamefrmId.substr(imgfieldNamefrmId.indexOf("_")+1)),s=imgfieldNamefrmId,o=i[v].value,u+="&"+s+"="+o,o="";else if(i[v].type=="text")s=i[v].id,o=i[v].value,u+="&"+s+"="+o;else{if(i[v].id.search("ajax")!=-1){var b=i[v].id.split("ajax"),w="";w=reverseString(b[1]),w=reverseString(w.substr(w.indexOf("_")+1)),i[v].id=w}s=i[v].id,o=i[v].value,u+="&"+s+"="+o}var E=RedgetElementsByClassName("calendar"),w="";for(cal_i=0;cal_i<E.length;cal_i++){var S=E[cal_i].id;arr=S.split("_img"),n=arr.length;var x=arr[0];x!=""&&x.search(t)&&document.getElementById(x).value!=""&&(w=reverseString(x),w=reverseString(w.substr(w.indexOf("_")+1)),u+="&"+w+"="+document.getElementById(x).value)}request=getHTTPObject();var T="option=com_redshop&view=product&task=addtowishlist&json=1&ajaxon=1&tmpl=component";T=T+"&Itemid="+r,T=T+"&product_id="+t,T=T+"&userfield_id="+i.length,T+=u;var N=site_url+"index.php?"+T;/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?request.open("POST",N,!0):request.open("POST",N,!1),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.setRequestHeader("Content-length",T.length),request.setRequestHeader("Connection","close");var C=!0;request.onreadystatechange=function(){request.readyState<4&&(document.getElementById("myprohide_"+t).innerHTML='<font size="1" color="red">Loading...</font>');if(request.readyState==4&&request.status==200){var e=request.responseText,n=document.getElementById("mypid").innerHTML,r=request.responseText;sp=r.split(":-:"),n.search(sp[1])==-1&&(document.getElementById("mypid").innerHTML+=sp[0],document.getElementById("wid").style.display="block",document.getElementById("myprohide_"+t).innerHTML="")}},request.send(N),request.send(T)}function getStocknotify(e,t,n){var r=site_url+"index.php?option=com_redshop&view=product&task=addNotifystock&tmpl=component&product_id="+e;r=r+"&property_id="+t+"&subproperty_id="+n,request=getHTTPObject(),request.onreadystatechange=function(){if(request.readyState==4){var t=request.responseText;document.getElementById("notify_stock"+e)&&(document.getElementById("notify_stock"+e).innerHTML=t)}},request.open("POST",r,!0),request.send(null)}window.addEvent("domready",function(){var e={isenable:!0,mainImage:!0};preloadSlimbox(e);var t={handler:"iframe"};redBOX.assign($$(".redcolorproductimg"),t),redBOX.assign($$("a.redbox"),{parse:"rel"})});var r_browser=!1,subproperty_main_image="",request,getExtraParamsArray={},redShopJsTrigger=[],mainpro_id=new Array,totatt=new Array,totcount_no_user_field=new Array,d=0;